<!doctype html>
<html lang="en">
<head>
 <meta charset="utf-8">
 <title>SSR Native Federation Demo</title>
 <base href="/">
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <meta name="description" content="Server-Side Rendering with Native Federation">
 <style>
 body {
 margin: 0;
 font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
 background-color: #f5f5f5;
 }

 .loading {
 display: flex;
 justify-content: center;
 align-items: center;
 height: 100vh;
 flex-direction: column;
 }

 .spinner {
 width: 50px;
 height: 50px;
 border: 5px solid #f3f3f3;
 border-top: 5px solid #1976d2;
 border-radius: 50%;
 animation: spin 1s linear infinite;
 }

 @keyframes spin {
 0% { transform: rotate(0deg); }
 100% { transform: rotate(360deg); }
 }

 .csr-notice {
 background: #fff3e0;
 color: #f57c00;
 padding: 10px;
 text-align: center;
 font-size: 14px;
 border-bottom: 1px solid #ffcc02;
 }
 </style>
</head>
<body>
 <div class="csr-notice">
 Client-Side Rendering Active - JavaScript Required
 </div>

 <app-root>
 <div class="loading">
 <div class="spinner"></div>
 <h2>Loading SSR Demo...</h2>
 <p>Native Federation + Server-Side Rendering</p>
 </div>
 </app-root>

 <script type="module" src="./main.js"></script>

 <script>
 // Hydration demo - make counter interactive
 document.addEventListener('DOMContentLoaded', () => {
 const counterElement = document.querySelector('[data-component="interactive-counter"]');
 if (counterElement) {
 let count = 0;
 const display = counterElement.querySelector('.counter-display');

 // Create interactive buttons
 const buttonsHtml = `
 <div style="margin-top: 15px;">
 <button id="decrement" style="background: #f44336; color: white; border: none; padding: 8px 16px; margin: 0 5px; border-radius: 4px; cursor: pointer;">-</button>
 <button id="increment" style="background: #4caf50; color: white; border: none; padding: 8px 16px; margin: 0 5px; border-radius: 4px; cursor: pointer;">+</button>
 <button id="reset" style="background: #2196f3; color: white; border: none; padding: 8px 16px; margin: 0 5px; border-radius: 4px; cursor: pointer;">Reset</button>
 </div>
 `;

 counterElement.innerHTML = `
 <p> Interactive Counter (hydrated)</p>
 <div class="counter-display">Count: ${count}</div>
 <p><em>This component is now interactive!</em></p>
 ${buttonsHtml}
 `;

 // Add event listeners
 document.getElementById('increment').addEventListener('click', () => {
 count++;
 display.textContent = \`Count: \${count}\`;
 });

 document.getElementById('decrement').addEventListener('click', () => {
 count--;
 display.textContent = \`Count: \${count}\`;
 });

 document.getElementById('reset').addEventListener('click', () => {
 count = 0;
 display.textContent = \`Count: \${count}\`;
 });

 // Update styling to show it's hydrated
 counterElement.style.background = '#e8f5e8';
 counterElement.style.borderLeft = '4px solid #4caf50';

 console.log(' Component hydrated successfully!');
 }
 });
 </script>
</body>
</html>