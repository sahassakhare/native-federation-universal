{"modules":[{"ast":{"type":"Program","start":0,"end":15508,"body":[{"type":"ImportDeclaration","start":0,"end":43,"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Injectable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Injectable"}}],"source":{"type":"Literal","start":27,"end":42,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":44,"end":77,"specifiers":[{"type":"ImportNamespaceSpecifier","start":51,"end":62,"local":{"type":"Identifier","start":56,"end":62,"name":"semver"}}],"source":{"type":"Literal","start":68,"end":76,"value":"semver","raw":"'semver'"},"attributes":[]},{"type":"ImportDeclaration","start":78,"end":114,"specifiers":[{"type":"ImportNamespaceSpecifier","start":85,"end":92,"local":{"type":"Identifier","start":90,"end":92,"name":"i0"}}],"source":{"type":"Literal","start":98,"end":113,"value":"@angular/core","raw":"\"@angular/core\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":115,"end":4506,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":122,"end":4506,"decorators":[],"id":{"type":"Identifier","start":128,"end":142,"name":"VersionManager"},"superClass":null,"body":{"type":"ClassBody","start":143,"end":4506,"body":[{"type":"PropertyDefinition","start":149,"end":179,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":149,"end":166,"name":"availableVersions"},"value":{"type":"NewExpression","start":169,"end":178,"callee":{"type":"Identifier","start":173,"end":176,"name":"Map"},"arguments":[]}},{"type":"PropertyDefinition","start":184,"end":214,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":184,"end":201,"name":"installedVersions"},"value":{"type":"NewExpression","start":204,"end":213,"callee":{"type":"Identifier","start":208,"end":211,"name":"Map"},"arguments":[]}},{"type":"MethodDefinition","start":219,"end":1727,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":225,"end":239,"name":"resolveVersion"},"value":{"type":"FunctionExpression","start":239,"end":1727,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":240,"end":251,"name":"packageName"},{"type":"AssignmentPattern","start":253,"end":286,"left":{"type":"Identifier","start":253,"end":261,"name":"strategy"},"right":{"type":"ObjectExpression","start":264,"end":286,"properties":[{"type":"Property","start":266,"end":284,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":266,"end":270,"name":"type"},"value":{"type":"Literal","start":272,"end":284,"value":"compatible","raw":"'compatible'"},"kind":"init"}]}}],"body":{"type":"BlockStatement","start":288,"end":1727,"body":[{"type":"VariableDeclaration","start":298,"end":363,"kind":"const","declarations":[{"type":"VariableDeclarator","start":304,"end":362,"id":{"type":"Identifier","start":304,"end":320,"name":"installedVersion"},"init":{"type":"CallExpression","start":323,"end":362,"optional":false,"callee":{"type":"MemberExpression","start":323,"end":349,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":323,"end":345,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":323,"end":327},"property":{"type":"Identifier","start":328,"end":345,"name":"installedVersions"}},"property":{"type":"Identifier","start":346,"end":349,"name":"get"}},"arguments":[{"type":"Identifier","start":350,"end":361,"name":"packageName"}]}}]},{"type":"VariableDeclaration","start":372,"end":444,"kind":"const","declarations":[{"type":"VariableDeclarator","start":378,"end":443,"id":{"type":"Identifier","start":378,"end":395,"name":"availableVersions"},"init":{"type":"LogicalExpression","start":398,"end":443,"operator":"||","left":{"type":"CallExpression","start":398,"end":437,"optional":false,"callee":{"type":"MemberExpression","start":398,"end":424,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":398,"end":420,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":398,"end":402},"property":{"type":"Identifier","start":403,"end":420,"name":"availableVersions"}},"property":{"type":"Identifier","start":421,"end":424,"name":"get"}},"arguments":[{"type":"Identifier","start":425,"end":436,"name":"packageName"}]},"right":{"type":"ArrayExpression","start":441,"end":443,"elements":[]}}}]},{"type":"SwitchStatement","start":453,"end":1721,"discriminant":{"type":"MemberExpression","start":461,"end":474,"computed":false,"optional":false,"object":{"type":"Identifier","start":461,"end":469,"name":"strategy"},"property":{"type":"Identifier","start":470,"end":474,"name":"type"}},"cases":[{"type":"SwitchCase","start":490,"end":699,"test":{"type":"Literal","start":495,"end":502,"value":"exact","raw":"'exact'"},"consequent":[{"type":"IfStatement","start":520,"end":658,"test":{"type":"UnaryExpression","start":524,"end":541,"operator":"!","argument":{"type":"Identifier","start":525,"end":541,"name":"installedVersion"},"prefix":true},"consequent":{"type":"BlockStatement","start":543,"end":658,"body":[{"type":"ThrowStatement","start":565,"end":640,"argument":{"type":"NewExpression","start":571,"end":639,"callee":{"type":"Identifier","start":575,"end":580,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":581,"end":638,"quasis":[{"type":"TemplateElement","start":582,"end":609,"tail":false,"value":{"cooked":"Exact version required but ","raw":"Exact version required but "}},{"type":"TemplateElement","start":623,"end":637,"tail":true,"value":{"cooked":" not installed","raw":" not installed"}}],"expressions":[{"type":"Identifier","start":611,"end":622,"name":"packageName"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":675,"end":699,"argument":{"type":"Identifier","start":682,"end":698,"name":"installedVersion"}}]},{"type":"SwitchCase","start":712,"end":831,"test":{"type":"Literal","start":717,"end":729,"value":"compatible","raw":"'compatible'"},"consequent":[{"type":"ReturnStatement","start":747,"end":831,"argument":{"type":"CallExpression","start":754,"end":830,"optional":false,"callee":{"type":"MemberExpression","start":754,"end":780,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":754,"end":758},"property":{"type":"Identifier","start":759,"end":780,"name":"findCompatibleVersion"}},"arguments":[{"type":"Identifier","start":781,"end":792,"name":"packageName"},{"type":"Identifier","start":794,"end":810,"name":"installedVersion"},{"type":"Identifier","start":812,"end":829,"name":"availableVersions"}]}}]},{"type":"SwitchCase","start":844,"end":1290,"test":{"type":"Literal","start":849,"end":859,"value":"fallback","raw":"'fallback'"},"consequent":[{"type":"TryStatement","start":877,"end":1290,"block":{"type":"BlockStatement","start":881,"end":1005,"body":[{"type":"ReturnStatement","start":903,"end":987,"argument":{"type":"CallExpression","start":910,"end":986,"optional":false,"callee":{"type":"MemberExpression","start":910,"end":936,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":910,"end":914},"property":{"type":"Identifier","start":915,"end":936,"name":"findCompatibleVersion"}},"arguments":[{"type":"Identifier","start":937,"end":948,"name":"packageName"},{"type":"Identifier","start":950,"end":966,"name":"installedVersion"},{"type":"Identifier","start":968,"end":985,"name":"availableVersions"}]}}]},"handler":{"type":"CatchClause","start":1022,"end":1290,"param":null,"body":{"type":"BlockStatement","start":1028,"end":1290,"body":[{"type":"IfStatement","start":1050,"end":1160,"test":{"type":"MemberExpression","start":1054,"end":1078,"computed":false,"optional":false,"object":{"type":"Identifier","start":1054,"end":1062,"name":"strategy"},"property":{"type":"Identifier","start":1063,"end":1078,"name":"fallbackVersion"}},"consequent":{"type":"BlockStatement","start":1080,"end":1160,"body":[{"type":"ReturnStatement","start":1106,"end":1138,"argument":{"type":"MemberExpression","start":1113,"end":1137,"computed":false,"optional":false,"object":{"type":"Identifier","start":1113,"end":1121,"name":"strategy"},"property":{"type":"Identifier","start":1122,"end":1137,"name":"fallbackVersion"}}}]},"alternate":null},{"type":"ThrowStatement","start":1181,"end":1272,"argument":{"type":"NewExpression","start":1187,"end":1271,"callee":{"type":"Identifier","start":1191,"end":1196,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":1197,"end":1270,"quasis":[{"type":"TemplateElement","start":1198,"end":1230,"tail":false,"value":{"cooked":"No compatible version found for ","raw":"No compatible version found for "}},{"type":"TemplateElement","start":1244,"end":1269,"tail":true,"value":{"cooked":" and no fallback provided","raw":" and no fallback provided"}}],"expressions":[{"type":"Identifier","start":1232,"end":1243,"name":"packageName"}]}]}}]}},"finalizer":null}]},{"type":"SwitchCase","start":1303,"end":1611,"test":{"type":"Literal","start":1308,"end":1315,"value":"error","raw":"'error'"},"consequent":[{"type":"IfStatement","start":1333,"end":1570,"test":{"type":"UnaryExpression","start":1337,"end":1399,"operator":"!","argument":{"type":"CallExpression","start":1338,"end":1399,"optional":false,"callee":{"type":"MemberExpression","start":1338,"end":1362,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1338,"end":1342},"property":{"type":"Identifier","start":1343,"end":1362,"name":"isVersionCompatible"}},"arguments":[{"type":"Identifier","start":1363,"end":1379,"name":"installedVersion"},{"type":"Identifier","start":1381,"end":1398,"name":"availableVersions"}]},"prefix":true},"consequent":{"type":"BlockStatement","start":1401,"end":1570,"body":[{"type":"ThrowStatement","start":1423,"end":1552,"argument":{"type":"NewExpression","start":1429,"end":1551,"callee":{"type":"Identifier","start":1433,"end":1438,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":1439,"end":1550,"quasis":[{"type":"TemplateElement","start":1440,"end":1461,"tail":false,"value":{"cooked":"Version conflict for ","raw":"Version conflict for "}},{"type":"TemplateElement","start":1475,"end":1487,"tail":false,"value":{"cooked":": installed ","raw":": installed "}},{"type":"TemplateElement","start":1506,"end":1518,"tail":false,"value":{"cooked":", available ","raw":", available "}},{"type":"TemplateElement","start":1549,"end":1549,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":1463,"end":1474,"name":"packageName"},{"type":"Identifier","start":1489,"end":1505,"name":"installedVersion"},{"type":"CallExpression","start":1520,"end":1548,"optional":false,"callee":{"type":"MemberExpression","start":1520,"end":1542,"computed":false,"optional":false,"object":{"type":"Identifier","start":1520,"end":1537,"name":"availableVersions"},"property":{"type":"Identifier","start":1538,"end":1542,"name":"join"}},"arguments":[{"type":"Literal","start":1543,"end":1547,"value":", ","raw":"', '"}]}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":1587,"end":1611,"argument":{"type":"Identifier","start":1594,"end":1610,"name":"installedVersion"}}]},{"type":"SwitchCase","start":1624,"end":1711,"test":null,"consequent":[{"type":"ThrowStatement","start":1649,"end":1711,"argument":{"type":"NewExpression","start":1655,"end":1710,"callee":{"type":"Identifier","start":1659,"end":1664,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":1665,"end":1709,"quasis":[{"type":"TemplateElement","start":1666,"end":1692,"tail":false,"value":{"cooked":"Unknown version strategy: ","raw":"Unknown version strategy: "}},{"type":"TemplateElement","start":1708,"end":1708,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"MemberExpression","start":1694,"end":1707,"computed":false,"optional":false,"object":{"type":"Identifier","start":1694,"end":1702,"name":"strategy"},"property":{"type":"Identifier","start":1703,"end":1707,"name":"type"}}]}]}}]}]}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1732,"end":2529,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1732,"end":1753,"name":"findCompatibleVersion"},"value":{"type":"FunctionExpression","start":1753,"end":2529,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1754,"end":1765,"name":"packageName"},{"type":"Identifier","start":1767,"end":1783,"name":"installedVersion"},{"type":"AssignmentPattern","start":1785,"end":1807,"left":{"type":"Identifier","start":1785,"end":1802,"name":"availableVersions"},"right":{"type":"ArrayExpression","start":1805,"end":1807,"elements":[]}}],"body":{"type":"BlockStatement","start":1809,"end":2529,"body":[{"type":"IfStatement","start":1819,"end":2032,"test":{"type":"UnaryExpression","start":1823,"end":1840,"operator":"!","argument":{"type":"Identifier","start":1824,"end":1840,"name":"installedVersion"},"prefix":true},"consequent":{"type":"BlockStatement","start":1842,"end":2032,"body":[{"type":"IfStatement","start":1856,"end":1950,"test":{"type":"BinaryExpression","start":1860,"end":1888,"operator":">","left":{"type":"MemberExpression","start":1860,"end":1884,"computed":false,"optional":false,"object":{"type":"Identifier","start":1860,"end":1877,"name":"availableVersions"},"property":{"type":"Identifier","start":1878,"end":1884,"name":"length"}},"right":{"type":"Literal","start":1887,"end":1888,"raw":"0","value":0}},"consequent":{"type":"BlockStatement","start":1890,"end":1950,"body":[{"type":"ReturnStatement","start":1908,"end":1936,"argument":{"type":"MemberExpression","start":1915,"end":1935,"computed":true,"optional":false,"object":{"type":"Identifier","start":1915,"end":1932,"name":"availableVersions"},"property":{"type":"Literal","start":1933,"end":1934,"raw":"0","value":0}}}]},"alternate":null},{"type":"ThrowStatement","start":1963,"end":2022,"argument":{"type":"NewExpression","start":1969,"end":2021,"callee":{"type":"Identifier","start":1973,"end":1978,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":1979,"end":2020,"quasis":[{"type":"TemplateElement","start":1980,"end":2005,"tail":false,"value":{"cooked":"No version available for ","raw":"No version available for "}},{"type":"TemplateElement","start":2019,"end":2019,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":2007,"end":2018,"name":"packageName"}]}]}}]},"alternate":null},{"type":"IfStatement","start":2041,"end":2125,"test":{"type":"BinaryExpression","start":2045,"end":2075,"operator":"===","left":{"type":"MemberExpression","start":2045,"end":2069,"computed":false,"optional":false,"object":{"type":"Identifier","start":2045,"end":2062,"name":"availableVersions"},"property":{"type":"Identifier","start":2063,"end":2069,"name":"length"}},"right":{"type":"Literal","start":2074,"end":2075,"raw":"0","value":0}},"consequent":{"type":"BlockStatement","start":2077,"end":2125,"body":[{"type":"ReturnStatement","start":2091,"end":2115,"argument":{"type":"Identifier","start":2098,"end":2114,"name":"installedVersion"}}]},"alternate":null},{"type":"VariableDeclaration","start":2134,"end":2252,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2140,"end":2251,"id":{"type":"Identifier","start":2140,"end":2158,"name":"compatibleVersions"},"init":{"type":"CallExpression","start":2161,"end":2251,"optional":false,"callee":{"type":"MemberExpression","start":2161,"end":2185,"computed":false,"optional":false,"object":{"type":"Identifier","start":2161,"end":2178,"name":"availableVersions"},"property":{"type":"Identifier","start":2179,"end":2185,"name":"filter"}},"arguments":[{"type":"ArrowFunctionExpression","start":2186,"end":2250,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":2186,"end":2193,"name":"version"}],"body":{"type":"CallExpression","start":2197,"end":2250,"optional":false,"callee":{"type":"MemberExpression","start":2197,"end":2223,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2197,"end":2201},"property":{"type":"Identifier","start":2202,"end":2223,"name":"areVersionsCompatible"}},"arguments":[{"type":"Identifier","start":2224,"end":2240,"name":"installedVersion"},{"type":"Identifier","start":2242,"end":2249,"name":"version"}]},"id":null}]}}]},{"type":"IfStatement","start":2261,"end":2464,"test":{"type":"BinaryExpression","start":2265,"end":2296,"operator":"===","left":{"type":"MemberExpression","start":2265,"end":2290,"computed":false,"optional":false,"object":{"type":"Identifier","start":2265,"end":2283,"name":"compatibleVersions"},"property":{"type":"Identifier","start":2284,"end":2290,"name":"length"}},"right":{"type":"Literal","start":2295,"end":2296,"raw":"0","value":0}},"consequent":{"type":"BlockStatement","start":2298,"end":2464,"body":[{"type":"ThrowStatement","start":2312,"end":2454,"argument":{"type":"NewExpression","start":2318,"end":2453,"callee":{"type":"Identifier","start":2322,"end":2327,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":2328,"end":2452,"quasis":[{"type":"TemplateElement","start":2329,"end":2361,"tail":false,"value":{"cooked":"No compatible version found for ","raw":"No compatible version found for "}},{"type":"TemplateElement","start":2375,"end":2388,"tail":false,"value":{"cooked":". Installed: ","raw":". Installed: "}},{"type":"TemplateElement","start":2407,"end":2420,"tail":false,"value":{"cooked":", Available: ","raw":", Available: "}},{"type":"TemplateElement","start":2451,"end":2451,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":2363,"end":2374,"name":"packageName"},{"type":"Identifier","start":2390,"end":2406,"name":"installedVersion"},{"type":"CallExpression","start":2422,"end":2450,"optional":false,"callee":{"type":"MemberExpression","start":2422,"end":2444,"computed":false,"optional":false,"object":{"type":"Identifier","start":2422,"end":2439,"name":"availableVersions"},"property":{"type":"Identifier","start":2440,"end":2444,"name":"join"}},"arguments":[{"type":"Literal","start":2445,"end":2449,"value":", ","raw":"', '"}]}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":2473,"end":2523,"argument":{"type":"CallExpression","start":2480,"end":2522,"optional":false,"callee":{"type":"MemberExpression","start":2480,"end":2502,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2480,"end":2484},"property":{"type":"Identifier","start":2485,"end":2502,"name":"selectBestVersion"}},"arguments":[{"type":"Identifier","start":2503,"end":2521,"name":"compatibleVersions"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2534,"end":2815,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2534,"end":2555,"name":"areVersionsCompatible"},"value":{"type":"FunctionExpression","start":2555,"end":2815,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2556,"end":2564,"name":"version1"},{"type":"Identifier","start":2566,"end":2574,"name":"version2"}],"body":{"type":"BlockStatement","start":2576,"end":2815,"body":[{"type":"TryStatement","start":2586,"end":2809,"block":{"type":"BlockStatement","start":2590,"end":2741,"body":[{"type":"VariableDeclaration","start":2604,"end":2642,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2610,"end":2641,"id":{"type":"Identifier","start":2610,"end":2616,"name":"range1"},"init":{"type":"CallExpression","start":2619,"end":2641,"optional":false,"callee":{"type":"MemberExpression","start":2619,"end":2631,"computed":false,"optional":false,"object":{"type":"Identifier","start":2619,"end":2625,"name":"semver"},"property":{"type":"Identifier","start":2626,"end":2631,"name":"major"}},"arguments":[{"type":"Identifier","start":2632,"end":2640,"name":"version1"}]}}]},{"type":"VariableDeclaration","start":2655,"end":2693,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2661,"end":2692,"id":{"type":"Identifier","start":2661,"end":2667,"name":"range2"},"init":{"type":"CallExpression","start":2670,"end":2692,"optional":false,"callee":{"type":"MemberExpression","start":2670,"end":2682,"computed":false,"optional":false,"object":{"type":"Identifier","start":2670,"end":2676,"name":"semver"},"property":{"type":"Identifier","start":2677,"end":2682,"name":"major"}},"arguments":[{"type":"Identifier","start":2683,"end":2691,"name":"version2"}]}}]},{"type":"ReturnStatement","start":2706,"end":2731,"argument":{"type":"BinaryExpression","start":2713,"end":2730,"operator":"===","left":{"type":"Identifier","start":2713,"end":2719,"name":"range1"},"right":{"type":"Identifier","start":2724,"end":2730,"name":"range2"}}}]},"handler":{"type":"CatchClause","start":2750,"end":2809,"param":null,"body":{"type":"BlockStatement","start":2756,"end":2809,"body":[{"type":"ReturnStatement","start":2770,"end":2799,"argument":{"type":"BinaryExpression","start":2777,"end":2798,"operator":"===","left":{"type":"Identifier","start":2777,"end":2785,"name":"version1"},"right":{"type":"Identifier","start":2790,"end":2798,"name":"version2"}}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2820,"end":3096,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2820,"end":2839,"name":"isVersionCompatible"},"value":{"type":"FunctionExpression","start":2839,"end":3096,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2840,"end":2856,"name":"installedVersion"},{"type":"AssignmentPattern","start":2858,"end":2880,"left":{"type":"Identifier","start":2858,"end":2875,"name":"availableVersions"},"right":{"type":"ArrayExpression","start":2878,"end":2880,"elements":[]}}],"body":{"type":"BlockStatement","start":2882,"end":3096,"body":[{"type":"IfStatement","start":2892,"end":2985,"test":{"type":"LogicalExpression","start":2896,"end":2947,"operator":"||","left":{"type":"UnaryExpression","start":2896,"end":2913,"operator":"!","argument":{"type":"Identifier","start":2897,"end":2913,"name":"installedVersion"},"prefix":true},"right":{"type":"BinaryExpression","start":2917,"end":2947,"operator":"===","left":{"type":"MemberExpression","start":2917,"end":2941,"computed":false,"optional":false,"object":{"type":"Identifier","start":2917,"end":2934,"name":"availableVersions"},"property":{"type":"Identifier","start":2935,"end":2941,"name":"length"}},"right":{"type":"Literal","start":2946,"end":2947,"raw":"0","value":0}}},"consequent":{"type":"BlockStatement","start":2949,"end":2985,"body":[{"type":"ReturnStatement","start":2963,"end":2975,"argument":{"type":"Literal","start":2970,"end":2974,"value":true,"raw":"true"}}]},"alternate":null},{"type":"ReturnStatement","start":2994,"end":3090,"argument":{"type":"CallExpression","start":3001,"end":3089,"optional":false,"callee":{"type":"MemberExpression","start":3001,"end":3023,"computed":false,"optional":false,"object":{"type":"Identifier","start":3001,"end":3018,"name":"availableVersions"},"property":{"type":"Identifier","start":3019,"end":3023,"name":"some"}},"arguments":[{"type":"ArrowFunctionExpression","start":3024,"end":3088,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":3024,"end":3031,"name":"version"}],"body":{"type":"CallExpression","start":3035,"end":3088,"optional":false,"callee":{"type":"MemberExpression","start":3035,"end":3061,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3035,"end":3039},"property":{"type":"Identifier","start":3040,"end":3061,"name":"areVersionsCompatible"}},"arguments":[{"type":"Identifier","start":3062,"end":3078,"name":"installedVersion"},{"type":"Identifier","start":3080,"end":3087,"name":"version"}]},"id":null}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3101,"end":3264,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3101,"end":3118,"name":"selectBestVersion"},"value":{"type":"FunctionExpression","start":3118,"end":3264,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3119,"end":3127,"name":"versions"}],"body":{"type":"BlockStatement","start":3129,"end":3264,"body":[{"type":"TryStatement","start":3139,"end":3258,"block":{"type":"BlockStatement","start":3143,"end":3200,"body":[{"type":"ReturnStatement","start":3157,"end":3190,"argument":{"type":"MemberExpression","start":3164,"end":3189,"computed":true,"optional":false,"object":{"type":"CallExpression","start":3164,"end":3186,"optional":false,"callee":{"type":"MemberExpression","start":3164,"end":3176,"computed":false,"optional":false,"object":{"type":"Identifier","start":3164,"end":3170,"name":"semver"},"property":{"type":"Identifier","start":3171,"end":3176,"name":"rsort"}},"arguments":[{"type":"Identifier","start":3177,"end":3185,"name":"versions"}]},"property":{"type":"Literal","start":3187,"end":3188,"raw":"0","value":0}}}]},"handler":{"type":"CatchClause","start":3209,"end":3258,"param":null,"body":{"type":"BlockStatement","start":3215,"end":3258,"body":[{"type":"ReturnStatement","start":3229,"end":3248,"argument":{"type":"MemberExpression","start":3236,"end":3247,"computed":true,"optional":false,"object":{"type":"Identifier","start":3236,"end":3244,"name":"versions"},"property":{"type":"Literal","start":3245,"end":3246,"raw":"0","value":0}}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3269,"end":3381,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3269,"end":3293,"name":"registerInstalledVersion"},"value":{"type":"FunctionExpression","start":3293,"end":3381,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3294,"end":3305,"name":"packageName"},{"type":"Identifier","start":3307,"end":3314,"name":"version"}],"body":{"type":"BlockStatement","start":3316,"end":3381,"body":[{"type":"ExpressionStatement","start":3326,"end":3375,"expression":{"type":"CallExpression","start":3326,"end":3374,"optional":false,"callee":{"type":"MemberExpression","start":3326,"end":3352,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3326,"end":3348,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3326,"end":3330},"property":{"type":"Identifier","start":3331,"end":3348,"name":"installedVersions"}},"property":{"type":"Identifier","start":3349,"end":3352,"name":"set"}},"arguments":[{"type":"Identifier","start":3353,"end":3364,"name":"packageName"},{"type":"Identifier","start":3366,"end":3373,"name":"version"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3386,"end":3501,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3386,"end":3411,"name":"registerAvailableVersions"},"value":{"type":"FunctionExpression","start":3411,"end":3501,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3412,"end":3423,"name":"packageName"},{"type":"Identifier","start":3425,"end":3433,"name":"versions"}],"body":{"type":"BlockStatement","start":3435,"end":3501,"body":[{"type":"ExpressionStatement","start":3445,"end":3495,"expression":{"type":"CallExpression","start":3445,"end":3494,"optional":false,"callee":{"type":"MemberExpression","start":3445,"end":3471,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3445,"end":3467,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3445,"end":3449},"property":{"type":"Identifier","start":3450,"end":3467,"name":"availableVersions"}},"property":{"type":"Identifier","start":3468,"end":3471,"name":"set"}},"arguments":[{"type":"Identifier","start":3472,"end":3483,"name":"packageName"},{"type":"Identifier","start":3485,"end":3493,"name":"versions"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3506,"end":3602,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3506,"end":3525,"name":"getInstalledVersion"},"value":{"type":"FunctionExpression","start":3525,"end":3602,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3526,"end":3537,"name":"packageName"}],"body":{"type":"BlockStatement","start":3539,"end":3602,"body":[{"type":"ReturnStatement","start":3549,"end":3596,"argument":{"type":"CallExpression","start":3556,"end":3595,"optional":false,"callee":{"type":"MemberExpression","start":3556,"end":3582,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3556,"end":3578,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3556,"end":3560},"property":{"type":"Identifier","start":3561,"end":3578,"name":"installedVersions"}},"property":{"type":"Identifier","start":3579,"end":3582,"name":"get"}},"arguments":[{"type":"Identifier","start":3583,"end":3594,"name":"packageName"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3607,"end":3710,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3607,"end":3627,"name":"getAvailableVersions"},"value":{"type":"FunctionExpression","start":3627,"end":3710,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3628,"end":3639,"name":"packageName"}],"body":{"type":"BlockStatement","start":3641,"end":3710,"body":[{"type":"ReturnStatement","start":3651,"end":3704,"argument":{"type":"LogicalExpression","start":3658,"end":3703,"operator":"||","left":{"type":"CallExpression","start":3658,"end":3697,"optional":false,"callee":{"type":"MemberExpression","start":3658,"end":3684,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3658,"end":3680,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3658,"end":3662},"property":{"type":"Identifier","start":3663,"end":3680,"name":"availableVersions"}},"property":{"type":"Identifier","start":3681,"end":3684,"name":"get"}},"arguments":[{"type":"Identifier","start":3685,"end":3696,"name":"packageName"}]},"right":{"type":"ArrayExpression","start":3701,"end":3703,"elements":[]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3715,"end":4085,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3715,"end":3740,"name":"validateVersionConstraint"},"value":{"type":"FunctionExpression","start":3740,"end":4085,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3741,"end":3752,"name":"packageName"},{"type":"Identifier","start":3754,"end":3764,"name":"constraint"}],"body":{"type":"BlockStatement","start":3766,"end":4085,"body":[{"type":"VariableDeclaration","start":3776,"end":3841,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3782,"end":3840,"id":{"type":"Identifier","start":3782,"end":3798,"name":"installedVersion"},"init":{"type":"CallExpression","start":3801,"end":3840,"optional":false,"callee":{"type":"MemberExpression","start":3801,"end":3827,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3801,"end":3823,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3801,"end":3805},"property":{"type":"Identifier","start":3806,"end":3823,"name":"installedVersions"}},"property":{"type":"Identifier","start":3824,"end":3827,"name":"get"}},"arguments":[{"type":"Identifier","start":3828,"end":3839,"name":"packageName"}]}}]},{"type":"IfStatement","start":3850,"end":3910,"test":{"type":"UnaryExpression","start":3854,"end":3871,"operator":"!","argument":{"type":"Identifier","start":3855,"end":3871,"name":"installedVersion"},"prefix":true},"consequent":{"type":"BlockStatement","start":3873,"end":3910,"body":[{"type":"ReturnStatement","start":3887,"end":3900,"argument":{"type":"Literal","start":3894,"end":3899,"value":false,"raw":"false"}}]},"alternate":null},{"type":"TryStatement","start":3919,"end":4079,"block":{"type":"BlockStatement","start":3923,"end":4001,"body":[{"type":"ReturnStatement","start":3937,"end":3991,"argument":{"type":"CallExpression","start":3944,"end":3990,"optional":false,"callee":{"type":"MemberExpression","start":3944,"end":3960,"computed":false,"optional":false,"object":{"type":"Identifier","start":3944,"end":3950,"name":"semver"},"property":{"type":"Identifier","start":3951,"end":3960,"name":"satisfies"}},"arguments":[{"type":"Identifier","start":3961,"end":3977,"name":"installedVersion"},{"type":"Identifier","start":3979,"end":3989,"name":"constraint"}]}}]},"handler":{"type":"CatchClause","start":4010,"end":4079,"param":null,"body":{"type":"BlockStatement","start":4016,"end":4079,"body":[{"type":"ReturnStatement","start":4030,"end":4069,"argument":{"type":"BinaryExpression","start":4037,"end":4068,"operator":"===","left":{"type":"Identifier","start":4037,"end":4053,"name":"installedVersion"},"right":{"type":"Identifier","start":4058,"end":4068,"name":"constraint"}}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4090,"end":4185,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4090,"end":4095,"name":"clear"},"value":{"type":"FunctionExpression","start":4095,"end":4185,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":4098,"end":4185,"body":[{"type":"ExpressionStatement","start":4108,"end":4139,"expression":{"type":"CallExpression","start":4108,"end":4138,"optional":false,"callee":{"type":"MemberExpression","start":4108,"end":4136,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4108,"end":4130,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4108,"end":4112},"property":{"type":"Identifier","start":4113,"end":4130,"name":"availableVersions"}},"property":{"type":"Identifier","start":4131,"end":4136,"name":"clear"}},"arguments":[]}},{"type":"ExpressionStatement","start":4148,"end":4179,"expression":{"type":"CallExpression","start":4148,"end":4178,"optional":false,"callee":{"type":"MemberExpression","start":4148,"end":4176,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4148,"end":4170,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4148,"end":4152},"property":{"type":"Identifier","start":4153,"end":4170,"name":"installedVersions"}},"property":{"type":"Identifier","start":4171,"end":4176,"name":"clear"}},"arguments":[]}}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":4190,"end":4357,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4197,"end":4201,"name":"ɵfac"},"value":{"type":"CallExpression","start":4204,"end":4356,"optional":false,"callee":{"type":"MemberExpression","start":4204,"end":4225,"computed":false,"optional":false,"object":{"type":"Identifier","start":4204,"end":4206,"name":"i0"},"property":{"type":"Identifier","start":4207,"end":4225,"name":"ɵɵngDeclareFactory"}},"arguments":[{"type":"ObjectExpression","start":4226,"end":4355,"properties":[{"type":"Property","start":4228,"end":4248,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4228,"end":4238,"name":"minVersion"},"value":{"type":"Literal","start":4240,"end":4248,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":4250,"end":4268,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4250,"end":4257,"name":"version"},"value":{"type":"Literal","start":4259,"end":4268,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":4270,"end":4282,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4270,"end":4278,"name":"ngImport"},"value":{"type":"Identifier","start":4280,"end":4282,"name":"i0"},"kind":"init"},{"type":"Property","start":4284,"end":4304,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4284,"end":4288,"name":"type"},"value":{"type":"Identifier","start":4290,"end":4304,"name":"VersionManager"},"kind":"init"},{"type":"Property","start":4306,"end":4314,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4306,"end":4310,"name":"deps"},"value":{"type":"ArrayExpression","start":4312,"end":4314,"elements":[]},"kind":"init"},{"type":"Property","start":4316,"end":4353,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4316,"end":4322,"name":"target"},"value":{"type":"MemberExpression","start":4324,"end":4353,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4324,"end":4342,"computed":false,"optional":false,"object":{"type":"Identifier","start":4324,"end":4326,"name":"i0"},"property":{"type":"Identifier","start":4327,"end":4342,"name":"ɵɵFactoryTarget"}},"property":{"type":"Identifier","start":4343,"end":4353,"name":"Injectable"}},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":4362,"end":4504,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4369,"end":4374,"name":"ɵprov"},"value":{"type":"CallExpression","start":4377,"end":4503,"optional":false,"callee":{"type":"MemberExpression","start":4377,"end":4401,"computed":false,"optional":false,"object":{"type":"Identifier","start":4377,"end":4379,"name":"i0"},"property":{"type":"Identifier","start":4380,"end":4401,"name":"ɵɵngDeclareInjectable"}},"arguments":[{"type":"ObjectExpression","start":4402,"end":4502,"properties":[{"type":"Property","start":4404,"end":4424,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4404,"end":4414,"name":"minVersion"},"value":{"type":"Literal","start":4416,"end":4424,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":4426,"end":4444,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4426,"end":4433,"name":"version"},"value":{"type":"Literal","start":4435,"end":4444,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":4446,"end":4458,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4446,"end":4454,"name":"ngImport"},"value":{"type":"Identifier","start":4456,"end":4458,"name":"i0"},"kind":"init"},{"type":"Property","start":4460,"end":4480,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4460,"end":4464,"name":"type"},"value":{"type":"Identifier","start":4466,"end":4480,"name":"VersionManager"},"kind":"init"},{"type":"Property","start":4482,"end":4500,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4482,"end":4492,"name":"providedIn"},"value":{"type":"Literal","start":4494,"end":4500,"value":"root","raw":"'root'"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":4507,"end":4753,"expression":{"type":"CallExpression","start":4507,"end":4752,"optional":false,"callee":{"type":"MemberExpression","start":4507,"end":4534,"computed":false,"optional":false,"object":{"type":"Identifier","start":4507,"end":4509,"name":"i0"},"property":{"type":"Identifier","start":4510,"end":4534,"name":"ɵɵngDeclareClassMetadata"}},"arguments":[{"type":"ObjectExpression","start":4535,"end":4751,"properties":[{"type":"Property","start":4537,"end":4557,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4537,"end":4547,"name":"minVersion"},"value":{"type":"Literal","start":4549,"end":4557,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":4559,"end":4577,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4559,"end":4566,"name":"version"},"value":{"type":"Literal","start":4568,"end":4577,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":4579,"end":4591,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4579,"end":4587,"name":"ngImport"},"value":{"type":"Identifier","start":4589,"end":4591,"name":"i0"},"kind":"init"},{"type":"Property","start":4593,"end":4613,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4593,"end":4597,"name":"type"},"value":{"type":"Identifier","start":4599,"end":4613,"name":"VersionManager"},"kind":"init"},{"type":"Property","start":4615,"end":4749,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4615,"end":4625,"name":"decorators"},"value":{"type":"ArrayExpression","start":4627,"end":4749,"elements":[{"type":"ObjectExpression","start":4628,"end":4748,"properties":[{"type":"Property","start":4642,"end":4658,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4642,"end":4646,"name":"type"},"value":{"type":"Identifier","start":4648,"end":4658,"name":"Injectable"},"kind":"init"},{"type":"Property","start":4672,"end":4738,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4672,"end":4676,"name":"args"},"value":{"type":"ArrayExpression","start":4678,"end":4738,"elements":[{"type":"ObjectExpression","start":4679,"end":4737,"properties":[{"type":"Property","start":4701,"end":4719,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4701,"end":4711,"name":"providedIn"},"value":{"type":"Literal","start":4713,"end":4719,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"}]}]}}],"_rollupRemoved":[{"end":15508,"start":4754,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { Injectable } from '@angular/core';\nimport * as semver from 'semver';\nimport * as i0 from \"@angular/core\";\nexport class VersionManager {\n    availableVersions = new Map();\n    installedVersions = new Map();\n    async resolveVersion(packageName, strategy = { type: 'compatible' }) {\n        const installedVersion = this.installedVersions.get(packageName);\n        const availableVersions = this.availableVersions.get(packageName) || [];\n        switch (strategy.type) {\n            case 'exact':\n                if (!installedVersion) {\n                    throw new Error(`Exact version required but ${packageName} not installed`);\n                }\n                return installedVersion;\n            case 'compatible':\n                return this.findCompatibleVersion(packageName, installedVersion, availableVersions);\n            case 'fallback':\n                try {\n                    return this.findCompatibleVersion(packageName, installedVersion, availableVersions);\n                }\n                catch {\n                    if (strategy.fallbackVersion) {\n                        return strategy.fallbackVersion;\n                    }\n                    throw new Error(`No compatible version found for ${packageName} and no fallback provided`);\n                }\n            case 'error':\n                if (!this.isVersionCompatible(installedVersion, availableVersions)) {\n                    throw new Error(`Version conflict for ${packageName}: installed ${installedVersion}, available ${availableVersions.join(', ')}`);\n                }\n                return installedVersion;\n            default:\n                throw new Error(`Unknown version strategy: ${strategy.type}`);\n        }\n    }\n    findCompatibleVersion(packageName, installedVersion, availableVersions = []) {\n        if (!installedVersion) {\n            if (availableVersions.length > 0) {\n                return availableVersions[0];\n            }\n            throw new Error(`No version available for ${packageName}`);\n        }\n        if (availableVersions.length === 0) {\n            return installedVersion;\n        }\n        const compatibleVersions = availableVersions.filter(version => this.areVersionsCompatible(installedVersion, version));\n        if (compatibleVersions.length === 0) {\n            throw new Error(`No compatible version found for ${packageName}. Installed: ${installedVersion}, Available: ${availableVersions.join(', ')}`);\n        }\n        return this.selectBestVersion(compatibleVersions);\n    }\n    areVersionsCompatible(version1, version2) {\n        try {\n            const range1 = semver.major(version1);\n            const range2 = semver.major(version2);\n            return range1 === range2;\n        }\n        catch {\n            return version1 === version2;\n        }\n    }\n    isVersionCompatible(installedVersion, availableVersions = []) {\n        if (!installedVersion || availableVersions.length === 0) {\n            return true;\n        }\n        return availableVersions.some(version => this.areVersionsCompatible(installedVersion, version));\n    }\n    selectBestVersion(versions) {\n        try {\n            return semver.rsort(versions)[0];\n        }\n        catch {\n            return versions[0];\n        }\n    }\n    registerInstalledVersion(packageName, version) {\n        this.installedVersions.set(packageName, version);\n    }\n    registerAvailableVersions(packageName, versions) {\n        this.availableVersions.set(packageName, versions);\n    }\n    getInstalledVersion(packageName) {\n        return this.installedVersions.get(packageName);\n    }\n    getAvailableVersions(packageName) {\n        return this.availableVersions.get(packageName) || [];\n    }\n    validateVersionConstraint(packageName, constraint) {\n        const installedVersion = this.installedVersions.get(packageName);\n        if (!installedVersion) {\n            return false;\n        }\n        try {\n            return semver.satisfies(installedVersion, constraint);\n        }\n        catch {\n            return installedVersion === constraint;\n        }\n    }\n    clear() {\n        this.availableVersions.clear();\n        this.installedVersions.clear();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: VersionManager, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: VersionManager, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: VersionManager, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyc2lvbi1tYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmF0aXZlLWZlZGVyYXRpb24vc3JjL2xpYi9ydW50aW1lL3ZlcnNpb24tbWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTNDLE9BQU8sS0FBSyxNQUFNLE1BQU0sUUFBUSxDQUFDOztBQUtqQyxNQUFNLE9BQU8sY0FBYztJQUNqQixpQkFBaUIsR0FBRyxJQUFJLEdBQUcsRUFBb0IsQ0FBQztJQUNoRCxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsRUFBa0IsQ0FBQztJQUV0RCxLQUFLLENBQUMsY0FBYyxDQUFDLFdBQW1CLEVBQUUsV0FBNEIsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFO1FBQzFGLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNqRSxNQUFNLGlCQUFpQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDO1FBRXhFLFFBQVEsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ3RCLEtBQUssT0FBTztnQkFDVixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztvQkFDdEIsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsV0FBVyxnQkFBZ0IsQ0FBQyxDQUFDO2dCQUM3RSxDQUFDO2dCQUNELE9BQU8sZ0JBQWdCLENBQUM7WUFFMUIsS0FBSyxZQUFZO2dCQUNmLE9BQU8sSUFBSSxDQUFDLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxnQkFBZ0IsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1lBRXRGLEtBQUssVUFBVTtnQkFDYixJQUFJLENBQUM7b0JBQ0gsT0FBTyxJQUFJLENBQUMscUJBQXFCLENBQUMsV0FBVyxF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QixDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2pDLENBQUM7d0dBNUhVLGNBQWM7NEdBQWQsY0FBYyxjQUZiLE1BQU07OzRGQUVQLGNBQWM7a0JBSDFCLFVBQVU7bUJBQUM7b0JBQ1YsVUFBVSxFQUFFLE1BQU07aUJBQ25CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmVyc2lvblN0cmF0ZWd5IH0gZnJvbSAnLi4vdHlwZXMvZmVkZXJhdGlvbic7XG5pbXBvcnQgKiBhcyBzZW12ZXIgZnJvbSAnc2VtdmVyJztcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgVmVyc2lvbk1hbmFnZXIge1xuICBwcml2YXRlIGF2YWlsYWJsZVZlcnNpb25zID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZ1tdPigpO1xuICBwcml2YXRlIGluc3RhbGxlZFZlcnNpb25zID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcblxuICBhc3luYyByZXNvbHZlVmVyc2lvbihwYWNrYWdlTmFtZTogc3RyaW5nLCBzdHJhdGVneTogVmVyc2lvblN0cmF0ZWd5ID0geyB0eXBlOiAnY29tcGF0aWJsZScgfSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgaW5zdGFsbGVkVmVyc2lvbiA9IHRoaXMuaW5zdGFsbGVkVmVyc2lvbnMuZ2V0KHBhY2thZ2VOYW1lKTtcbiAgICBjb25zdCBhdmFpbGFibGVWZXJzaW9ucyA9IHRoaXMuYXZhaWxhYmxlVmVyc2lvbnMuZ2V0KHBhY2thZ2VOYW1lKSB8fCBbXTtcblxuICAgIHN3aXRjaCAoc3RyYXRlZ3kudHlwZSkge1xuICAgICAgY2FzZSAnZXhhY3QnOlxuICAgICAgICBpZiAoIWluc3RhbGxlZFZlcnNpb24pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4YWN0IHZlcnNpb24gcmVxdWlyZWQgYnV0ICR7cGFja2FnZU5hbWV9IG5vdCBpbnN0YWxsZWRgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdGFsbGVkVmVyc2lvbjtcblxuICAgICAgY2FzZSAnY29tcGF0aWJsZSc6XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRDb21wYXRpYmxlVmVyc2lvbihwYWNrYWdlTmFtZSwgaW5zdGFsbGVkVmVyc2lvbiwgYXZhaWxhYmxlVmVyc2lvbnMpO1xuXG4gICAgICBjYXNlICdmYWxsYmFjayc6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmluZENvbXBhdGlibGVWZXJzaW9uKHBhY2thZ2VOYW1lLCBpbnN0YWxsZWRWZXJzaW9uLCBhdmFpbGFibGVWZXJzaW9ucyk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIGlmIChzdHJhdGVneS5mYWxsYmFja1ZlcnNpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJhdGVneS5mYWxsYmFja1ZlcnNpb247XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gY29tcGF0aWJsZSB2ZXJzaW9uIGZvdW5kIGZvciAke3BhY2thZ2VOYW1lfSBhbmQgbm8gZmFsbGJhY2sgcHJvdmlkZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIGlmICghdGhpcy5pc1ZlcnNpb25Db21wYXRpYmxlKGluc3RhbGxlZFZlcnNpb24sIGF2YWlsYWJsZVZlcnNpb25zKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVmVyc2lvbiBjb25mbGljdCBmb3IgJHtwYWNrYWdlTmFtZX06IGluc3RhbGxlZCAke2luc3RhbGxlZFZlcnNpb259LCBhdmFpbGFibGUgJHthdmFpbGFibGVWZXJzaW9ucy5qb2luKCcsICcpfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0YWxsZWRWZXJzaW9uITtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHZlcnNpb24gc3RyYXRlZ3k6ICR7c3RyYXRlZ3kudHlwZX1gKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZpbmRDb21wYXRpYmxlVmVyc2lvbihwYWNrYWdlTmFtZTogc3RyaW5nLCBpbnN0YWxsZWRWZXJzaW9uPzogc3RyaW5nLCBhdmFpbGFibGVWZXJzaW9uczogc3RyaW5nW10gPSBbXSk6IHN0cmluZyB7XG4gICAgaWYgKCFpbnN0YWxsZWRWZXJzaW9uKSB7XG4gICAgICBpZiAoYXZhaWxhYmxlVmVyc2lvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gYXZhaWxhYmxlVmVyc2lvbnNbMF07XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHZlcnNpb24gYXZhaWxhYmxlIGZvciAke3BhY2thZ2VOYW1lfWApO1xuICAgIH1cblxuICAgIGlmIChhdmFpbGFibGVWZXJzaW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBpbnN0YWxsZWRWZXJzaW9uO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbXBhdGlibGVWZXJzaW9ucyA9IGF2YWlsYWJsZVZlcnNpb25zLmZpbHRlcih2ZXJzaW9uID0+IFxuICAgICAgdGhpcy5hcmVWZXJzaW9uc0NvbXBhdGlibGUoaW5zdGFsbGVkVmVyc2lvbiwgdmVyc2lvbilcbiAgICApO1xuXG4gICAgaWYgKGNvbXBhdGlibGVWZXJzaW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gY29tcGF0aWJsZSB2ZXJzaW9uIGZvdW5kIGZvciAke3BhY2thZ2VOYW1lfS4gSW5zdGFsbGVkOiAke2luc3RhbGxlZFZlcnNpb259LCBBdmFpbGFibGU6ICR7YXZhaWxhYmxlVmVyc2lvbnMuam9pbignLCAnKX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zZWxlY3RCZXN0VmVyc2lvbihjb21wYXRpYmxlVmVyc2lvbnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBhcmVWZXJzaW9uc0NvbXBhdGlibGUodmVyc2lvbjE6IHN0cmluZywgdmVyc2lvbjI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByYW5nZTEgPSBzZW12ZXIubWFqb3IodmVyc2lvbjEpO1xuICAgICAgY29uc3QgcmFuZ2UyID0gc2VtdmVyLm1ham9yKHZlcnNpb24yKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJhbmdlMSA9PT0gcmFuZ2UyO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHZlcnNpb24xID09PSB2ZXJzaW9uMjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzVmVyc2lvbkNvbXBhdGlibGUoaW5zdGFsbGVkVmVyc2lvbj86IHN0cmluZywgYXZhaWxhYmxlVmVyc2lvbnM6IHN0cmluZ1tdID0gW10pOiBib29sZWFuIHtcbiAgICBpZiAoIWluc3RhbGxlZFZlcnNpb24gfHwgYXZhaWxhYmxlVmVyc2lvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXZhaWxhYmxlVmVyc2lvbnMuc29tZSh2ZXJzaW9uID0+IFxuICAgICAgdGhpcy5hcmVWZXJzaW9uc0NvbXBhdGlibGUoaW5zdGFsbGVkVmVyc2lvbiwgdmVyc2lvbilcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzZWxlY3RCZXN0VmVyc2lvbih2ZXJzaW9uczogc3RyaW5nW10pOiBzdHJpbmcge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc2VtdmVyLnJzb3J0KHZlcnNpb25zKVswXTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB2ZXJzaW9uc1swXTtcbiAgICB9XG4gIH1cblxuICByZWdpc3Rlckluc3RhbGxlZFZlcnNpb24ocGFja2FnZU5hbWU6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5pbnN0YWxsZWRWZXJzaW9ucy5zZXQocGFja2FnZU5hbWUsIHZlcnNpb24pO1xuICB9XG5cbiAgcmVnaXN0ZXJBdmFpbGFibGVWZXJzaW9ucyhwYWNrYWdlTmFtZTogc3RyaW5nLCB2ZXJzaW9uczogc3RyaW5nW10pOiB2b2lkIHtcbiAgICB0aGlzLmF2YWlsYWJsZVZlcnNpb25zLnNldChwYWNrYWdlTmFtZSwgdmVyc2lvbnMpO1xuICB9XG5cbiAgZ2V0SW5zdGFsbGVkVmVyc2lvbihwYWNrYWdlTmFtZTogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5pbnN0YWxsZWRWZXJzaW9ucy5nZXQocGFja2FnZU5hbWUpO1xuICB9XG5cbiAgZ2V0QXZhaWxhYmxlVmVyc2lvbnMocGFja2FnZU5hbWU6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5hdmFpbGFibGVWZXJzaW9ucy5nZXQocGFja2FnZU5hbWUpIHx8IFtdO1xuICB9XG5cbiAgdmFsaWRhdGVWZXJzaW9uQ29uc3RyYWludChwYWNrYWdlTmFtZTogc3RyaW5nLCBjb25zdHJhaW50OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnN0YWxsZWRWZXJzaW9uID0gdGhpcy5pbnN0YWxsZWRWZXJzaW9ucy5nZXQocGFja2FnZU5hbWUpO1xuICAgIFxuICAgIGlmICghaW5zdGFsbGVkVmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc2VtdmVyLnNhdGlzZmllcyhpbnN0YWxsZWRWZXJzaW9uLCBjb25zdHJhaW50KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBpbnN0YWxsZWRWZXJzaW9uID09PSBjb25zdHJhaW50O1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuYXZhaWxhYmxlVmVyc2lvbnMuY2xlYXIoKTtcbiAgICB0aGlzLmluc3RhbGxlZFZlcnNpb25zLmNsZWFyKCk7XG4gIH1cbn0iXX0=","customTransformCache":false,"dependencies":["@angular/core","semver"],"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/version-manager.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Injectable } from '@angular/core';\nimport * as semver from 'semver';\nimport * as i0 from \"@angular/core\";\nexport class VersionManager {\n    availableVersions = new Map();\n    installedVersions = new Map();\n    async resolveVersion(packageName, strategy = { type: 'compatible' }) {\n        const installedVersion = this.installedVersions.get(packageName);\n        const availableVersions = this.availableVersions.get(packageName) || [];\n        switch (strategy.type) {\n            case 'exact':\n                if (!installedVersion) {\n                    throw new Error(`Exact version required but ${packageName} not installed`);\n                }\n                return installedVersion;\n            case 'compatible':\n                return this.findCompatibleVersion(packageName, installedVersion, availableVersions);\n            case 'fallback':\n                try {\n                    return this.findCompatibleVersion(packageName, installedVersion, availableVersions);\n                }\n                catch {\n                    if (strategy.fallbackVersion) {\n                        return strategy.fallbackVersion;\n                    }\n                    throw new Error(`No compatible version found for ${packageName} and no fallback provided`);\n                }\n            case 'error':\n                if (!this.isVersionCompatible(installedVersion, availableVersions)) {\n                    throw new Error(`Version conflict for ${packageName}: installed ${installedVersion}, available ${availableVersions.join(', ')}`);\n                }\n                return installedVersion;\n            default:\n                throw new Error(`Unknown version strategy: ${strategy.type}`);\n        }\n    }\n    findCompatibleVersion(packageName, installedVersion, availableVersions = []) {\n        if (!installedVersion) {\n            if (availableVersions.length > 0) {\n                return availableVersions[0];\n            }\n            throw new Error(`No version available for ${packageName}`);\n        }\n        if (availableVersions.length === 0) {\n            return installedVersion;\n        }\n        const compatibleVersions = availableVersions.filter(version => this.areVersionsCompatible(installedVersion, version));\n        if (compatibleVersions.length === 0) {\n            throw new Error(`No compatible version found for ${packageName}. Installed: ${installedVersion}, Available: ${availableVersions.join(', ')}`);\n        }\n        return this.selectBestVersion(compatibleVersions);\n    }\n    areVersionsCompatible(version1, version2) {\n        try {\n            const range1 = semver.major(version1);\n            const range2 = semver.major(version2);\n            return range1 === range2;\n        }\n        catch {\n            return version1 === version2;\n        }\n    }\n    isVersionCompatible(installedVersion, availableVersions = []) {\n        if (!installedVersion || availableVersions.length === 0) {\n            return true;\n        }\n        return availableVersions.some(version => this.areVersionsCompatible(installedVersion, version));\n    }\n    selectBestVersion(versions) {\n        try {\n            return semver.rsort(versions)[0];\n        }\n        catch {\n            return versions[0];\n        }\n    }\n    registerInstalledVersion(packageName, version) {\n        this.installedVersions.set(packageName, version);\n    }\n    registerAvailableVersions(packageName, versions) {\n        this.availableVersions.set(packageName, versions);\n    }\n    getInstalledVersion(packageName) {\n        return this.installedVersions.get(packageName);\n    }\n    getAvailableVersions(packageName) {\n        return this.availableVersions.get(packageName) || [];\n    }\n    validateVersionConstraint(packageName, constraint) {\n        const installedVersion = this.installedVersions.get(packageName);\n        if (!installedVersion) {\n            return false;\n        }\n        try {\n            return semver.satisfies(installedVersion, constraint);\n        }\n        catch {\n            return installedVersion === constraint;\n        }\n    }\n    clear() {\n        this.availableVersions.clear();\n        this.installedVersions.clear();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: VersionManager, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: VersionManager, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: VersionManager, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyc2lvbi1tYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmF0aXZlLWZlZGVyYXRpb24vc3JjL2xpYi9ydW50aW1lL3ZlcnNpb24tbWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTNDLE9BQU8sS0FBSyxNQUFNLE1BQU0sUUFBUSxDQUFDOztBQUtqQyxNQUFNLE9BQU8sY0FBYztJQUNqQixpQkFBaUIsR0FBRyxJQUFJLEdBQUcsRUFBb0IsQ0FBQztJQUNoRCxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsRUFBa0IsQ0FBQztJQUV0RCxLQUFLLENBQUMsY0FBYyxDQUFDLFdBQW1CLEVBQUUsV0FBNEIsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFO1FBQzFGLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNqRSxNQUFNLGlCQUFpQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDO1FBRXhFLFFBQVEsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ3RCLEtBQUssT0FBTztnQkFDVixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztvQkFDdEIsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsV0FBVyxnQkFBZ0IsQ0FBQyxDQUFDO2dCQUM3RSxDQUFDO2dCQUNELE9BQU8sZ0JBQWdCLENBQUM7WUFFMUIsS0FBSyxZQUFZO2dCQUNmLE9BQU8sSUFBSSxDQUFDLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxnQkFBZ0IsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1lBRXRGLEtBQUssVUFBVTtnQkFDYixJQUFJLENBQUM7b0JBQ0gsT0FBTyxJQUFJLENBQUMscUJBQXFCLENBQUMsV0FBVyxF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QixDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2pDLENBQUM7d0dBNUhVLGNBQWM7NEdBQWQsY0FBYyxjQUZiLE1BQU07OzRGQUVQLGNBQWM7a0JBSDFCLFVBQVU7bUJBQUM7b0JBQ1YsVUFBVSxFQUFFLE1BQU07aUJBQ25CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmVyc2lvblN0cmF0ZWd5IH0gZnJvbSAnLi4vdHlwZXMvZmVkZXJhdGlvbic7XG5pbXBvcnQgKiBhcyBzZW12ZXIgZnJvbSAnc2VtdmVyJztcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgVmVyc2lvbk1hbmFnZXIge1xuICBwcml2YXRlIGF2YWlsYWJsZVZlcnNpb25zID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZ1tdPigpO1xuICBwcml2YXRlIGluc3RhbGxlZFZlcnNpb25zID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcblxuICBhc3luYyByZXNvbHZlVmVyc2lvbihwYWNrYWdlTmFtZTogc3RyaW5nLCBzdHJhdGVneTogVmVyc2lvblN0cmF0ZWd5ID0geyB0eXBlOiAnY29tcGF0aWJsZScgfSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgaW5zdGFsbGVkVmVyc2lvbiA9IHRoaXMuaW5zdGFsbGVkVmVyc2lvbnMuZ2V0KHBhY2thZ2VOYW1lKTtcbiAgICBjb25zdCBhdmFpbGFibGVWZXJzaW9ucyA9IHRoaXMuYXZhaWxhYmxlVmVyc2lvbnMuZ2V0KHBhY2thZ2VOYW1lKSB8fCBbXTtcblxuICAgIHN3aXRjaCAoc3RyYXRlZ3kudHlwZSkge1xuICAgICAgY2FzZSAnZXhhY3QnOlxuICAgICAgICBpZiAoIWluc3RhbGxlZFZlcnNpb24pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4YWN0IHZlcnNpb24gcmVxdWlyZWQgYnV0ICR7cGFja2FnZU5hbWV9IG5vdCBpbnN0YWxsZWRgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdGFsbGVkVmVyc2lvbjtcblxuICAgICAgY2FzZSAnY29tcGF0aWJsZSc6XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRDb21wYXRpYmxlVmVyc2lvbihwYWNrYWdlTmFtZSwgaW5zdGFsbGVkVmVyc2lvbiwgYXZhaWxhYmxlVmVyc2lvbnMpO1xuXG4gICAgICBjYXNlICdmYWxsYmFjayc6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmluZENvbXBhdGlibGVWZXJzaW9uKHBhY2thZ2VOYW1lLCBpbnN0YWxsZWRWZXJzaW9uLCBhdmFpbGFibGVWZXJzaW9ucyk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIGlmIChzdHJhdGVneS5mYWxsYmFja1ZlcnNpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJhdGVneS5mYWxsYmFja1ZlcnNpb247XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gY29tcGF0aWJsZSB2ZXJzaW9uIGZvdW5kIGZvciAke3BhY2thZ2VOYW1lfSBhbmQgbm8gZmFsbGJhY2sgcHJvdmlkZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIGlmICghdGhpcy5pc1ZlcnNpb25Db21wYXRpYmxlKGluc3RhbGxlZFZlcnNpb24sIGF2YWlsYWJsZVZlcnNpb25zKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVmVyc2lvbiBjb25mbGljdCBmb3IgJHtwYWNrYWdlTmFtZX06IGluc3RhbGxlZCAke2luc3RhbGxlZFZlcnNpb259LCBhdmFpbGFibGUgJHthdmFpbGFibGVWZXJzaW9ucy5qb2luKCcsICcpfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0YWxsZWRWZXJzaW9uITtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHZlcnNpb24gc3RyYXRlZ3k6ICR7c3RyYXRlZ3kudHlwZX1gKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZpbmRDb21wYXRpYmxlVmVyc2lvbihwYWNrYWdlTmFtZTogc3RyaW5nLCBpbnN0YWxsZWRWZXJzaW9uPzogc3RyaW5nLCBhdmFpbGFibGVWZXJzaW9uczogc3RyaW5nW10gPSBbXSk6IHN0cmluZyB7XG4gICAgaWYgKCFpbnN0YWxsZWRWZXJzaW9uKSB7XG4gICAgICBpZiAoYXZhaWxhYmxlVmVyc2lvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gYXZhaWxhYmxlVmVyc2lvbnNbMF07XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHZlcnNpb24gYXZhaWxhYmxlIGZvciAke3BhY2thZ2VOYW1lfWApO1xuICAgIH1cblxuICAgIGlmIChhdmFpbGFibGVWZXJzaW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBpbnN0YWxsZWRWZXJzaW9uO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbXBhdGlibGVWZXJzaW9ucyA9IGF2YWlsYWJsZVZlcnNpb25zLmZpbHRlcih2ZXJzaW9uID0+IFxuICAgICAgdGhpcy5hcmVWZXJzaW9uc0NvbXBhdGlibGUoaW5zdGFsbGVkVmVyc2lvbiwgdmVyc2lvbilcbiAgICApO1xuXG4gICAgaWYgKGNvbXBhdGlibGVWZXJzaW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gY29tcGF0aWJsZSB2ZXJzaW9uIGZvdW5kIGZvciAke3BhY2thZ2VOYW1lfS4gSW5zdGFsbGVkOiAke2luc3RhbGxlZFZlcnNpb259LCBBdmFpbGFibGU6ICR7YXZhaWxhYmxlVmVyc2lvbnMuam9pbignLCAnKX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zZWxlY3RCZXN0VmVyc2lvbihjb21wYXRpYmxlVmVyc2lvbnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBhcmVWZXJzaW9uc0NvbXBhdGlibGUodmVyc2lvbjE6IHN0cmluZywgdmVyc2lvbjI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByYW5nZTEgPSBzZW12ZXIubWFqb3IodmVyc2lvbjEpO1xuICAgICAgY29uc3QgcmFuZ2UyID0gc2VtdmVyLm1ham9yKHZlcnNpb24yKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJhbmdlMSA9PT0gcmFuZ2UyO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHZlcnNpb24xID09PSB2ZXJzaW9uMjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzVmVyc2lvbkNvbXBhdGlibGUoaW5zdGFsbGVkVmVyc2lvbj86IHN0cmluZywgYXZhaWxhYmxlVmVyc2lvbnM6IHN0cmluZ1tdID0gW10pOiBib29sZWFuIHtcbiAgICBpZiAoIWluc3RhbGxlZFZlcnNpb24gfHwgYXZhaWxhYmxlVmVyc2lvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXZhaWxhYmxlVmVyc2lvbnMuc29tZSh2ZXJzaW9uID0+IFxuICAgICAgdGhpcy5hcmVWZXJzaW9uc0NvbXBhdGlibGUoaW5zdGFsbGVkVmVyc2lvbiwgdmVyc2lvbilcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzZWxlY3RCZXN0VmVyc2lvbih2ZXJzaW9uczogc3RyaW5nW10pOiBzdHJpbmcge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc2VtdmVyLnJzb3J0KHZlcnNpb25zKVswXTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB2ZXJzaW9uc1swXTtcbiAgICB9XG4gIH1cblxuICByZWdpc3Rlckluc3RhbGxlZFZlcnNpb24ocGFja2FnZU5hbWU6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5pbnN0YWxsZWRWZXJzaW9ucy5zZXQocGFja2FnZU5hbWUsIHZlcnNpb24pO1xuICB9XG5cbiAgcmVnaXN0ZXJBdmFpbGFibGVWZXJzaW9ucyhwYWNrYWdlTmFtZTogc3RyaW5nLCB2ZXJzaW9uczogc3RyaW5nW10pOiB2b2lkIHtcbiAgICB0aGlzLmF2YWlsYWJsZVZlcnNpb25zLnNldChwYWNrYWdlTmFtZSwgdmVyc2lvbnMpO1xuICB9XG5cbiAgZ2V0SW5zdGFsbGVkVmVyc2lvbihwYWNrYWdlTmFtZTogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5pbnN0YWxsZWRWZXJzaW9ucy5nZXQocGFja2FnZU5hbWUpO1xuICB9XG5cbiAgZ2V0QXZhaWxhYmxlVmVyc2lvbnMocGFja2FnZU5hbWU6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5hdmFpbGFibGVWZXJzaW9ucy5nZXQocGFja2FnZU5hbWUpIHx8IFtdO1xuICB9XG5cbiAgdmFsaWRhdGVWZXJzaW9uQ29uc3RyYWludChwYWNrYWdlTmFtZTogc3RyaW5nLCBjb25zdHJhaW50OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnN0YWxsZWRWZXJzaW9uID0gdGhpcy5pbnN0YWxsZWRWZXJzaW9ucy5nZXQocGFja2FnZU5hbWUpO1xuICAgIFxuICAgIGlmICghaW5zdGFsbGVkVmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc2VtdmVyLnNhdGlzZmllcyhpbnN0YWxsZWRWZXJzaW9uLCBjb25zdHJhaW50KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBpbnN0YWxsZWRWZXJzaW9uID09PSBjb25zdHJhaW50O1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuYXZhaWxhYmxlVmVyc2lvbnMuY2xlYXIoKTtcbiAgICB0aGlzLmluc3RhbGxlZFZlcnNpb25zLmNsZWFyKCk7XG4gIH1cbn0iXX0=","originalSourcemap":{"version":3,"file":"version-manager.js","sourceRoot":"","sources":["../../../../../projects/native-federation/src/lib/runtime/version-manager.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[19,0,0,19],[21,0,0,21],[27,0,0,27],[42,0,0,42],[43,0,0,43]],[[0,0,2,0],[7,0,2,7],[12,0,2,12],[18,0,2,18],[24,0,2,24],[32,0,2,32],[33,0,2,33]],[],[[0,0,7,0],[6,0,7,6],[13,0,7,13],[27,0,7,27]],[[4,0,8,10],[21,0,8,27],[24,0,8,30],[28,0,8,34],[31,0,8,37],[33,0,8,57],[34,0,8,58]],[[4,0,9,10],[21,0,9,27],[24,0,9,30],[28,0,9,34],[31,0,9,37],[33,0,9,55],[34,0,9,56]],[[4,0,11,2],[9,0,11,7],[10,0,11,8],[24,0,11,22],[25,0,11,23],[36,0,11,42],[38,0,11,44],[49,0,11,72],[51,0,11,74],[55,0,11,78],[57,0,11,80],[69,0,11,92],[71,0,11,94]],[[8,0,12,4],[14,0,12,10],[30,0,12,26],[33,0,12,29],[37,0,12,33],[38,0,12,34],[55,0,12,51],[56,0,12,52],[59,0,12,55],[60,0,12,56],[71,0,12,67],[72,0,12,68],[73,0,12,69]],[[8,0,13,4],[14,0,13,10],[31,0,13,27],[34,0,13,30],[38,0,13,34],[39,0,13,35],[56,0,13,52],[57,0,13,53],[60,0,13,56],[61,0,13,57],[72,0,13,68],[73,0,13,69],[77,0,13,73],[79,0,13,75],[80,0,13,76]],[[8,0,15,4],[16,0,15,12],[24,0,15,20],[25,0,15,21],[29,0,15,25],[31,0,15,27],[32,0,15,28]],[[12,0,16,6],[17,0,16,11],[24,0,16,18]],[[16,0,17,8],[20,0,17,12],[21,0,17,13],[37,0,17,29],[39,0,17,31],[40,0,17,32]],[[20,0,18,10],[26,0,18,16],[30,0,18,20],[35,0,18,25],[36,0,18,26],[66,0,18,56],[77,0,18,67],[93,0,18,83],[94,0,18,84],[95,0,18,85]],[[16,0,19,8],[17,0,19,9]],[[16,0,20,8],[23,0,20,15],[39,0,20,31],[40,0,20,32]],[[12,0,22,6],[17,0,22,11],[29,0,22,23]],[[16,0,23,8],[23,0,23,15],[27,0,23,19],[28,0,23,20],[49,0,23,41],[50,0,23,42],[61,0,23,53],[63,0,23,55],[79,0,23,71],[81,0,23,73],[98,0,23,90],[99,0,23,91],[100,0,23,92]],[[12,0,25,6],[17,0,25,11],[27,0,25,21]],[[16,0,26,8],[20,0,26,12],[21,0,26,13]],[[20,0,27,10],[27,0,27,17],[31,0,27,21],[32,0,27,22],[53,0,27,43],[54,0,27,44],[65,0,27,55],[67,0,27,57],[83,0,27,73],[85,0,27,75],[102,0,27,92],[103,0,27,93],[104,0,27,94]],[[16,0,28,8],[17,0,28,9]],[[16,0,28,10],[22,0,28,16],[23,0,28,17]],[[20,0,29,10],[24,0,29,14],[32,0,29,22],[33,0,29,23],[48,0,29,38],[50,0,29,40],[51,0,29,41]],[[24,0,30,12],[31,0,30,19],[39,0,30,27],[40,0,30,28],[55,0,30,43],[56,0,30,44]],[[20,0,31,10],[21,0,31,11]],[[20,0,32,10],[26,0,32,16],[30,0,32,20],[35,0,32,25],[36,0,32,26],[71,0,32,61],[82,0,32,72],[109,0,32,99],[110,0,32,100],[111,0,32,101]],[[16,0,33,8],[17,0,33,9]],[[12,0,35,6],[17,0,35,11],[24,0,35,18]],[[16,0,36,8],[20,0,36,12],[21,0,36,13],[25,0,36,17],[26,0,36,18],[45,0,36,37],[46,0,36,38],[62,0,36,54],[64,0,36,56],[81,0,36,73],[82,0,36,74],[84,0,36,76],[85,0,36,77]],[[20,0,37,10],[26,0,37,16],[30,0,37,20],[35,0,37,25],[36,0,37,26],[60,0,37,50],[71,0,37,61],[86,0,37,76],[102,0,37,92],[117,0,37,107],[134,0,37,124],[135,0,37,125],[139,0,37,129],[140,0,37,130],[144,0,37,134],[145,0,37,135],[147,0,37,137],[148,0,37,138],[149,0,37,139]],[[16,0,38,8],[17,0,38,9]],[[16,0,39,8],[23,0,39,15],[39,0,39,32],[40,0,39,33]],[[12,0,41,6]],[[16,0,42,8],[22,0,42,14],[26,0,42,18],[31,0,42,23],[32,0,42,24],[61,0,42,53],[69,0,42,61],[70,0,42,62],[74,0,42,66],[76,0,42,68],[77,0,42,69],[78,0,42,70]],[[8,0,43,4],[9,0,43,5]],[[4,0,44,2],[5,0,44,3]],[[4,0,46,10],[25,0,46,31],[26,0,46,32],[37,0,46,51],[39,0,46,53],[55,0,46,78],[57,0,46,80],[77,0,46,110],[79,0,46,112]],[[8,0,47,4],[12,0,47,8],[13,0,47,9],[29,0,47,25],[31,0,47,27],[32,0,47,28]],[[12,0,48,6],[16,0,48,10],[33,0,48,27],[34,0,48,28],[40,0,48,34],[43,0,48,37],[44,0,48,38],[46,0,48,40],[47,0,48,41]],[[16,0,49,8],[23,0,49,15],[40,0,49,32],[41,0,49,33],[42,0,49,34],[43,0,49,35],[44,0,49,36]],[[12,0,50,6],[13,0,50,7]],[[12,0,51,6],[18,0,51,12],[22,0,51,16],[27,0,51,21],[28,0,51,22],[56,0,51,50],[67,0,51,61],[69,0,51,63],[70,0,51,64],[71,0,51,65]],[[8,0,52,4],[9,0,52,5]],[[8,0,54,4],[12,0,54,8],[29,0,54,25],[30,0,54,26],[36,0,54,32],[41,0,54,37],[42,0,54,38],[44,0,54,40],[45,0,54,41]],[[12,0,55,6],[19,0,55,13],[35,0,55,29],[36,0,55,30]],[[8,0,56,4],[9,0,56,5]],[[8,0,58,4],[14,0,58,10],[32,0,58,28],[35,0,58,31],[52,0,58,48],[53,0,58,49],[59,0,58,55],[60,0,58,56],[67,0,58,63],[68,0,58,64],[70,0,58,66],[71,0,59,6],[75,0,59,10],[76,0,59,11],[97,0,59,32],[98,0,59,33],[114,0,59,49],[116,0,59,51],[123,0,59,58],[124,0,59,59],[125,0,60,5],[126,0,60,6]],[[8,0,62,4],[12,0,62,8],[30,0,62,26],[31,0,62,27],[37,0,62,33],[42,0,62,38],[43,0,62,39],[45,0,62,41],[46,0,62,42]],[[12,0,63,6],[18,0,63,12],[22,0,63,16],[27,0,63,21],[28,0,63,22],[63,0,63,57],[74,0,63,68],[90,0,63,84],[106,0,63,100],[122,0,63,116],[139,0,63,133],[140,0,63,134],[144,0,63,138],[145,0,63,139],[149,0,63,143],[150,0,63,144],[152,0,63,146],[153,0,63,147],[154,0,63,148]],[[8,0,64,4],[9,0,64,5]],[[8,0,66,4],[15,0,66,11],[19,0,66,15],[20,0,66,16],[37,0,66,33],[38,0,66,34],[56,0,66,52],[57,0,66,53],[58,0,66,54]],[[4,0,67,2],[5,0,67,3]],[[4,0,69,10],[25,0,69,31],[26,0,69,32],[34,0,69,48],[36,0,69,50],[44,0,69,66]],[[8,0,70,4],[12,0,70,8],[13,0,70,9]],[[12,0,71,6],[18,0,71,12],[24,0,71,18],[27,0,71,21],[33,0,71,27],[34,0,71,28],[39,0,71,33],[40,0,71,34],[48,0,71,42],[49,0,71,43],[50,0,71,44]],[[12,0,72,6],[18,0,72,12],[24,0,72,18],[27,0,72,21],[33,0,72,27],[34,0,72,28],[39,0,72,33],[40,0,72,34],[48,0,72,42],[49,0,72,43],[50,0,72,44]],[[12,0,74,6],[19,0,74,13],[25,0,74,19],[30,0,74,24],[36,0,74,30],[37,0,74,31]],[[8,0,75,4],[9,0,75,5]],[[8,0,75,6],[14,0,75,12],[15,0,75,13]],[[12,0,76,6],[19,0,76,13],[27,0,76,21],[32,0,76,26],[40,0,76,34],[41,0,76,35]],[[8,0,77,4],[9,0,77,5]],[[4,0,78,2],[5,0,78,3]],[[4,0,80,10],[23,0,80,29],[24,0,80,30],[40,0,80,55],[42,0,80,57],[62,0,80,87],[64,0,80,89]],[[8,0,81,4],[12,0,81,8],[13,0,81,9],[29,0,81,25],[33,0,81,29],[50,0,81,46],[51,0,81,47],[57,0,81,53],[62,0,81,58],[63,0,81,59],[65,0,81,61],[66,0,81,62]],[[12,0,82,6],[19,0,82,13],[23,0,82,17],[24,0,82,18]],[[8,0,83,4],[9,0,83,5]],[[8,0,85,4],[15,0,85,11],[32,0,85,28],[33,0,85,29],[37,0,85,33],[38,0,85,34],[45,0,85,41],[46,0,85,42],[48,0,85,44],[49,0,86,6],[53,0,86,10],[54,0,86,11],[75,0,86,32],[76,0,86,33],[92,0,86,49],[94,0,86,51],[101,0,86,58],[102,0,86,59],[103,0,87,5],[104,0,87,6]],[[4,0,88,2],[5,0,88,3]],[[4,0,90,10],[21,0,90,27],[22,0,90,28],[30,0,90,46]],[[8,0,91,4],[12,0,91,8],[13,0,91,9]],[[12,0,92,6],[19,0,92,13],[25,0,92,19],[26,0,92,20],[31,0,92,25],[32,0,92,26],[40,0,92,34],[41,0,92,35],[42,0,92,36],[43,0,92,37],[44,0,92,38],[45,0,92,39]],[[8,0,93,4],[9,0,93,5]],[[8,0,93,6],[14,0,93,12],[15,0,93,13]],[[12,0,94,6],[19,0,94,13],[27,0,94,21],[28,0,94,22],[29,0,94,23],[30,0,94,24],[31,0,94,25]],[[8,0,95,4],[9,0,95,5]],[[4,0,96,2],[5,0,96,3]],[[4,0,98,2],[28,0,98,26],[29,0,98,27],[40,0,98,46],[42,0,98,48],[49,0,98,63]],[[8,0,99,4],[12,0,99,8],[13,0,99,9],[30,0,99,26],[31,0,99,27],[34,0,99,30],[35,0,99,31],[46,0,99,42],[48,0,99,44],[55,0,99,51],[56,0,99,52],[57,0,99,53]],[[4,0,100,2],[5,0,100,3]],[[4,0,102,2],[29,0,102,27],[30,0,102,28],[41,0,102,47],[43,0,102,49],[51,0,102,67]],[[8,0,103,4],[12,0,103,8],[13,0,103,9],[30,0,103,26],[31,0,103,27],[34,0,103,30],[35,0,103,31],[46,0,103,42],[48,0,103,44],[56,0,103,52],[57,0,103,53],[58,0,103,54]],[[4,0,104,2],[5,0,104,3]],[[4,0,106,2],[23,0,106,21],[24,0,106,22],[35,0,106,41]],[[8,0,107,4],[15,0,107,11],[19,0,107,15],[20,0,107,16],[37,0,107,33],[38,0,107,34],[41,0,107,37],[42,0,107,38],[53,0,107,49],[54,0,107,50],[55,0,107,51]],[[4,0,108,2],[5,0,108,3]],[[4,0,110,2],[24,0,110,22],[25,0,110,23],[36,0,110,42]],[[8,0,111,4],[15,0,111,11],[19,0,111,15],[20,0,111,16],[37,0,111,33],[38,0,111,34],[41,0,111,37],[42,0,111,38],[53,0,111,49],[54,0,111,50],[58,0,111,54],[60,0,111,56],[61,0,111,57]],[[4,0,112,2],[5,0,112,3]],[[4,0,114,2],[29,0,114,27],[30,0,114,28],[41,0,114,47],[43,0,114,49],[53,0,114,67]],[[8,0,115,4],[14,0,115,10],[30,0,115,26],[33,0,115,29],[37,0,115,33],[38,0,115,34],[55,0,115,51],[56,0,115,52],[59,0,115,55],[60,0,115,56],[71,0,115,67],[72,0,115,68],[73,0,115,69]],[[8,0,117,4],[12,0,117,8],[13,0,117,9],[29,0,117,25],[31,0,117,27],[32,0,117,28]],[[12,0,118,6],[19,0,118,13],[24,0,118,18],[25,0,118,19]],[[8,0,119,4],[9,0,119,5]],[[8,0,121,4],[12,0,121,8],[13,0,121,9]],[[12,0,122,6],[19,0,122,13],[25,0,122,19],[26,0,122,20],[35,0,122,29],[36,0,122,30],[52,0,122,46],[54,0,122,48],[64,0,122,58],[65,0,122,59],[66,0,122,60]],[[8,0,123,4],[9,0,123,5]],[[8,0,123,6],[14,0,123,12],[15,0,123,13]],[[12,0,124,6],[19,0,124,13],[35,0,124,29],[40,0,124,34],[50,0,124,44],[51,0,124,45]],[[8,0,125,4],[9,0,125,5]],[[4,0,126,2],[5,0,126,3]],[[4,0,128,2],[9,0,128,7]],[[8,0,129,4],[12,0,129,8],[13,0,129,9],[30,0,129,26],[31,0,129,27],[36,0,129,32],[38,0,129,34],[39,0,129,35]],[[8,0,130,4],[12,0,130,8],[13,0,130,9],[30,0,130,26],[31,0,130,27],[36,0,130,32],[38,0,130,34],[39,0,130,35]],[[4,0,131,2],[5,0,131,3]],[[104,0,7,13],[118,0,7,27]],[[108,0,7,13],[122,0,7,27],[136,0,5,14],[142,0,5,20]],[],[[92,0,7,13],[106,0,7,27]],[[18,0,4,1],[28,0,4,11]],[[19,0,4,12]],[[20,0,5,2],[30,0,5,12],[32,0,5,14],[38,0,5,20]],[[17,0,6,1]]],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { VersionStrategy } from '../types/federation';\nimport * as semver from 'semver';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VersionManager {\n  private availableVersions = new Map<string, string[]>();\n  private installedVersions = new Map<string, string>();\n\n  async resolveVersion(packageName: string, strategy: VersionStrategy = { type: 'compatible' }): Promise<string> {\n    const installedVersion = this.installedVersions.get(packageName);\n    const availableVersions = this.availableVersions.get(packageName) || [];\n\n    switch (strategy.type) {\n      case 'exact':\n        if (!installedVersion) {\n          throw new Error(`Exact version required but ${packageName} not installed`);\n        }\n        return installedVersion;\n\n      case 'compatible':\n        return this.findCompatibleVersion(packageName, installedVersion, availableVersions);\n\n      case 'fallback':\n        try {\n          return this.findCompatibleVersion(packageName, installedVersion, availableVersions);\n        } catch {\n          if (strategy.fallbackVersion) {\n            return strategy.fallbackVersion;\n          }\n          throw new Error(`No compatible version found for ${packageName} and no fallback provided`);\n        }\n\n      case 'error':\n        if (!this.isVersionCompatible(installedVersion, availableVersions)) {\n          throw new Error(`Version conflict for ${packageName}: installed ${installedVersion}, available ${availableVersions.join(', ')}`);\n        }\n        return installedVersion!;\n\n      default:\n        throw new Error(`Unknown version strategy: ${strategy.type}`);\n    }\n  }\n\n  private findCompatibleVersion(packageName: string, installedVersion?: string, availableVersions: string[] = []): string {\n    if (!installedVersion) {\n      if (availableVersions.length > 0) {\n        return availableVersions[0];\n      }\n      throw new Error(`No version available for ${packageName}`);\n    }\n\n    if (availableVersions.length === 0) {\n      return installedVersion;\n    }\n\n    const compatibleVersions = availableVersions.filter(version => \n      this.areVersionsCompatible(installedVersion, version)\n    );\n\n    if (compatibleVersions.length === 0) {\n      throw new Error(`No compatible version found for ${packageName}. Installed: ${installedVersion}, Available: ${availableVersions.join(', ')}`);\n    }\n\n    return this.selectBestVersion(compatibleVersions);\n  }\n\n  private areVersionsCompatible(version1: string, version2: string): boolean {\n    try {\n      const range1 = semver.major(version1);\n      const range2 = semver.major(version2);\n      \n      return range1 === range2;\n    } catch {\n      return version1 === version2;\n    }\n  }\n\n  private isVersionCompatible(installedVersion?: string, availableVersions: string[] = []): boolean {\n    if (!installedVersion || availableVersions.length === 0) {\n      return true;\n    }\n\n    return availableVersions.some(version => \n      this.areVersionsCompatible(installedVersion, version)\n    );\n  }\n\n  private selectBestVersion(versions: string[]): string {\n    try {\n      return semver.rsort(versions)[0];\n    } catch {\n      return versions[0];\n    }\n  }\n\n  registerInstalledVersion(packageName: string, version: string): void {\n    this.installedVersions.set(packageName, version);\n  }\n\n  registerAvailableVersions(packageName: string, versions: string[]): void {\n    this.availableVersions.set(packageName, versions);\n  }\n\n  getInstalledVersion(packageName: string): string | undefined {\n    return this.installedVersions.get(packageName);\n  }\n\n  getAvailableVersions(packageName: string): string[] {\n    return this.availableVersions.get(packageName) || [];\n  }\n\n  validateVersionConstraint(packageName: string, constraint: string): boolean {\n    const installedVersion = this.installedVersions.get(packageName);\n    \n    if (!installedVersion) {\n      return false;\n    }\n\n    try {\n      return semver.satisfies(installedVersion, constraint);\n    } catch {\n      return installedVersion === constraint;\n    }\n  }\n\n  clear(): void {\n    this.availableVersions.clear();\n    this.installedVersions.clear();\n  }\n}"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"semver":{"attributes":{},"external":true,"id":"semver","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":22250,"body":[{"type":"ImportDeclaration","start":0,"end":43,"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Injectable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Injectable"}}],"source":{"type":"Literal","start":27,"end":42,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":44,"end":95,"specifiers":[{"type":"ImportSpecifier","start":53,"end":67,"imported":{"type":"Identifier","start":53,"end":67,"name":"VersionManager"},"local":{"type":"Identifier","start":53,"end":67,"name":"VersionManager"}}],"source":{"type":"Literal","start":75,"end":94,"value":"./version-manager","raw":"'./version-manager'"},"attributes":[]},{"type":"ImportDeclaration","start":96,"end":132,"specifiers":[{"type":"ImportNamespaceSpecifier","start":103,"end":110,"local":{"type":"Identifier","start":108,"end":110,"name":"i0"}}],"source":{"type":"Literal","start":116,"end":131,"value":"@angular/core","raw":"\"@angular/core\""},"attributes":[]},{"type":"ImportDeclaration","start":133,"end":173,"specifiers":[{"type":"ImportNamespaceSpecifier","start":140,"end":147,"local":{"type":"Identifier","start":145,"end":147,"name":"i1"}}],"source":{"type":"Literal","start":153,"end":172,"value":"./version-manager","raw":"\"./version-manager\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":174,"end":6353,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":181,"end":6353,"decorators":[],"id":{"type":"Identifier","start":187,"end":199,"name":"ModuleLoader"},"superClass":null,"body":{"type":"ClassBody","start":200,"end":6353,"body":[{"type":"PropertyDefinition","start":206,"end":221,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":206,"end":220,"name":"versionManager"},"value":null},{"type":"PropertyDefinition","start":226,"end":252,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":226,"end":239,"name":"loadedModules"},"value":{"type":"NewExpression","start":242,"end":251,"callee":{"type":"Identifier","start":246,"end":249,"name":"Map"},"arguments":[]}},{"type":"PropertyDefinition","start":257,"end":271,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":257,"end":265,"name":"manifest"},"value":{"type":"ObjectExpression","start":268,"end":270,"properties":[]}},{"type":"PropertyDefinition","start":276,"end":293,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":276,"end":292,"name":"importMapElement"},"value":null},{"type":"MethodDefinition","start":298,"end":379,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":298,"end":309,"name":"constructor"},"value":{"type":"FunctionExpression","start":309,"end":379,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":310,"end":324,"name":"versionManager"}],"body":{"type":"BlockStatement","start":326,"end":379,"body":[{"type":"ExpressionStatement","start":336,"end":373,"expression":{"type":"AssignmentExpression","start":336,"end":372,"operator":"=","left":{"type":"MemberExpression","start":336,"end":355,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":336,"end":340},"property":{"type":"Identifier","start":341,"end":355,"name":"versionManager"}},"right":{"type":"Identifier","start":358,"end":372,"name":"versionManager"}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":384,"end":565,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":390,"end":400,"name":"initialize"},"value":{"type":"FunctionExpression","start":400,"end":565,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":401,"end":413,"name":"manifestPath"}],"body":{"type":"BlockStatement","start":415,"end":565,"body":[{"type":"IfStatement","start":425,"end":521,"test":{"type":"Identifier","start":429,"end":441,"name":"manifestPath"},"consequent":{"type":"BlockStatement","start":443,"end":521,"body":[{"type":"ExpressionStatement","start":457,"end":511,"expression":{"type":"AssignmentExpression","start":457,"end":510,"operator":"=","left":{"type":"MemberExpression","start":457,"end":470,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":457,"end":461},"property":{"type":"Identifier","start":462,"end":470,"name":"manifest"}},"right":{"type":"AwaitExpression","start":473,"end":510,"argument":{"type":"CallExpression","start":479,"end":510,"optional":false,"callee":{"type":"MemberExpression","start":479,"end":496,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":479,"end":483},"property":{"type":"Identifier","start":484,"end":496,"name":"loadManifest"}},"arguments":[{"type":"Identifier","start":497,"end":509,"name":"manifestPath"}]}}}}]},"alternate":null},{"type":"ExpressionStatement","start":530,"end":559,"expression":{"type":"AwaitExpression","start":530,"end":558,"argument":{"type":"CallExpression","start":536,"end":558,"optional":false,"callee":{"type":"MemberExpression","start":536,"end":556,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":536,"end":540},"property":{"type":"Identifier","start":541,"end":556,"name":"setupImportMaps"}},"arguments":[]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":570,"end":1579,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":576,"end":592,"name":"loadRemoteModule"},"value":{"type":"FunctionExpression","start":592,"end":1579,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":593,"end":603,"name":"remoteName"},{"type":"Identifier","start":605,"end":615,"name":"modulePath"}],"body":{"type":"BlockStatement","start":617,"end":1579,"body":[{"type":"VariableDeclaration","start":627,"end":673,"kind":"const","declarations":[{"type":"VariableDeclarator","start":633,"end":672,"id":{"type":"Identifier","start":633,"end":641,"name":"moduleId"},"init":{"type":"TemplateLiteral","start":644,"end":672,"quasis":[{"type":"TemplateElement","start":645,"end":645,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":658,"end":658,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":671,"end":671,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":647,"end":657,"name":"remoteName"},{"type":"Identifier","start":660,"end":670,"name":"modulePath"}]}}]},{"type":"IfStatement","start":682,"end":894,"test":{"type":"CallExpression","start":686,"end":718,"optional":false,"callee":{"type":"MemberExpression","start":686,"end":708,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":686,"end":704,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":686,"end":690},"property":{"type":"Identifier","start":691,"end":704,"name":"loadedModules"}},"property":{"type":"Identifier","start":705,"end":708,"name":"has"}},"arguments":[{"type":"Identifier","start":709,"end":717,"name":"moduleId"}]},"consequent":{"type":"BlockStatement","start":720,"end":894,"body":[{"type":"VariableDeclaration","start":734,"end":786,"kind":"const","declarations":[{"type":"VariableDeclarator","start":740,"end":785,"id":{"type":"Identifier","start":740,"end":750,"name":"moduleInfo"},"init":{"type":"CallExpression","start":753,"end":785,"optional":false,"callee":{"type":"MemberExpression","start":753,"end":775,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":753,"end":771,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":753,"end":757},"property":{"type":"Identifier","start":758,"end":771,"name":"loadedModules"}},"property":{"type":"Identifier","start":772,"end":775,"name":"get"}},"arguments":[{"type":"Identifier","start":776,"end":784,"name":"moduleId"}]}}]},{"type":"IfStatement","start":799,"end":884,"test":{"type":"MemberExpression","start":803,"end":820,"computed":false,"optional":false,"object":{"type":"Identifier","start":803,"end":813,"name":"moduleInfo"},"property":{"type":"Identifier","start":814,"end":820,"name":"loaded"}},"consequent":{"type":"BlockStatement","start":822,"end":884,"body":[{"type":"ReturnStatement","start":840,"end":870,"argument":{"type":"ImportExpression","start":847,"end":869,"source":{"type":"MemberExpression","start":854,"end":868,"computed":false,"optional":false,"object":{"type":"Identifier","start":854,"end":864,"name":"moduleInfo"},"property":{"type":"Identifier","start":865,"end":868,"name":"url"}},"options":null}}]},"alternate":null}]},"alternate":null},{"type":"VariableDeclaration","start":903,"end":961,"kind":"const","declarations":[{"type":"VariableDeclarator","start":909,"end":960,"id":{"type":"Identifier","start":909,"end":918,"name":"remoteUrl"},"init":{"type":"AwaitExpression","start":921,"end":960,"argument":{"type":"CallExpression","start":927,"end":960,"optional":false,"callee":{"type":"MemberExpression","start":927,"end":948,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":927,"end":931},"property":{"type":"Identifier","start":932,"end":948,"name":"resolveRemoteUrl"}},"arguments":[{"type":"Identifier","start":949,"end":959,"name":"remoteName"}]}}}]},{"type":"VariableDeclaration","start":970,"end":1039,"kind":"const","declarations":[{"type":"VariableDeclarator","start":976,"end":1038,"id":{"type":"Identifier","start":976,"end":985,"name":"moduleUrl"},"init":{"type":"AwaitExpression","start":988,"end":1038,"argument":{"type":"CallExpression","start":994,"end":1038,"optional":false,"callee":{"type":"MemberExpression","start":994,"end":1015,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":994,"end":998},"property":{"type":"Identifier","start":999,"end":1015,"name":"resolveModuleUrl"}},"arguments":[{"type":"Identifier","start":1016,"end":1025,"name":"remoteUrl"},{"type":"Identifier","start":1027,"end":1037,"name":"modulePath"}]}}}]},{"type":"TryStatement","start":1048,"end":1573,"block":{"type":"BlockStatement","start":1052,"end":1433,"body":[{"type":"VariableDeclaration","start":1066,"end":1114,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1072,"end":1113,"id":{"type":"Identifier","start":1072,"end":1078,"name":"module"},"init":{"type":"AwaitExpression","start":1081,"end":1113,"argument":{"type":"CallExpression","start":1087,"end":1113,"optional":false,"callee":{"type":"MemberExpression","start":1087,"end":1102,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1087,"end":1091},"property":{"type":"Identifier","start":1092,"end":1102,"name":"loadModule"}},"arguments":[{"type":"Identifier","start":1103,"end":1112,"name":"moduleUrl"}]}}}]},{"type":"ExpressionStatement","start":1127,"end":1396,"expression":{"type":"CallExpression","start":1127,"end":1395,"optional":false,"callee":{"type":"MemberExpression","start":1127,"end":1149,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1127,"end":1145,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1127,"end":1131},"property":{"type":"Identifier","start":1132,"end":1145,"name":"loadedModules"}},"property":{"type":"Identifier","start":1146,"end":1149,"name":"set"}},"arguments":[{"type":"Identifier","start":1150,"end":1158,"name":"moduleId"},{"type":"ObjectExpression","start":1160,"end":1394,"properties":[{"type":"Property","start":1178,"end":1190,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1178,"end":1180,"name":"id"},"value":{"type":"Identifier","start":1182,"end":1190,"name":"moduleId"},"kind":"init"},{"type":"Property","start":1208,"end":1224,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1208,"end":1212,"name":"name"},"value":{"type":"Identifier","start":1214,"end":1224,"name":"remoteName"},"kind":"init"},{"type":"Property","start":1242,"end":1258,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1242,"end":1249,"name":"version"},"value":{"type":"Literal","start":1251,"end":1258,"value":"1.0.0","raw":"'1.0.0'"},"kind":"init"},{"type":"Property","start":1276,"end":1290,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1276,"end":1279,"name":"url"},"value":{"type":"Identifier","start":1281,"end":1290,"name":"moduleUrl"},"kind":"init"},{"type":"Property","start":1308,"end":1316,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1308,"end":1312,"name":"deps"},"value":{"type":"ArrayExpression","start":1314,"end":1316,"elements":[]},"kind":"init"},{"type":"Property","start":1334,"end":1346,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1334,"end":1340,"name":"loaded"},"value":{"type":"Literal","start":1342,"end":1346,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":1364,"end":1380,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1364,"end":1373,"name":"singleton"},"value":{"type":"Literal","start":1375,"end":1380,"value":false,"raw":"false"},"kind":"init"}]}]}},{"type":"ReturnStatement","start":1409,"end":1423,"argument":{"type":"Identifier","start":1416,"end":1422,"name":"module"}}]},"handler":{"type":"CatchClause","start":1442,"end":1573,"param":{"type":"Identifier","start":1449,"end":1454,"name":"error"},"body":{"type":"BlockStatement","start":1456,"end":1573,"body":[{"type":"ThrowStatement","start":1470,"end":1563,"argument":{"type":"NewExpression","start":1476,"end":1562,"callee":{"type":"Identifier","start":1480,"end":1485,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":1486,"end":1561,"quasis":[{"type":"TemplateElement","start":1487,"end":1516,"tail":false,"value":{"cooked":"Failed to load remote module ","raw":"Failed to load remote module "}},{"type":"TemplateElement","start":1529,"end":1529,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":1542,"end":1544,"tail":false,"value":{"cooked":": ","raw":": "}},{"type":"TemplateElement","start":1560,"end":1560,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":1518,"end":1528,"name":"remoteName"},{"type":"Identifier","start":1531,"end":1541,"name":"modulePath"},{"type":"MemberExpression","start":1546,"end":1559,"computed":false,"optional":false,"object":{"type":"Identifier","start":1546,"end":1551,"name":"error"},"property":{"type":"Identifier","start":1552,"end":1559,"name":"message"}}]}]}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1584,"end":2770,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1590,"end":1606,"name":"loadSharedModule"},"value":{"type":"FunctionExpression","start":1606,"end":2770,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":1607,"end":1618,"name":"packageName"},{"type":"Identifier","start":1620,"end":1635,"name":"versionStrategy"}],"body":{"type":"BlockStatement","start":1637,"end":2770,"body":[{"type":"VariableDeclaration","start":1647,"end":1702,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1653,"end":1701,"id":{"type":"Identifier","start":1653,"end":1663,"name":"moduleInfo"},"init":{"type":"CallExpression","start":1666,"end":1701,"optional":false,"callee":{"type":"MemberExpression","start":1666,"end":1688,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1666,"end":1684,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1666,"end":1670},"property":{"type":"Identifier","start":1671,"end":1684,"name":"loadedModules"}},"property":{"type":"Identifier","start":1685,"end":1688,"name":"get"}},"arguments":[{"type":"Identifier","start":1689,"end":1700,"name":"packageName"}]}}]},{"type":"IfStatement","start":1711,"end":1813,"test":{"type":"LogicalExpression","start":1715,"end":1757,"operator":"&&","left":{"type":"ChainExpression","start":1715,"end":1736,"expression":{"type":"MemberExpression","start":1715,"end":1736,"computed":false,"optional":true,"object":{"type":"Identifier","start":1715,"end":1725,"name":"moduleInfo"},"property":{"type":"Identifier","start":1727,"end":1736,"name":"singleton"}}},"right":{"type":"MemberExpression","start":1740,"end":1757,"computed":false,"optional":false,"object":{"type":"Identifier","start":1740,"end":1750,"name":"moduleInfo"},"property":{"type":"Identifier","start":1751,"end":1757,"name":"loaded"}}},"consequent":{"type":"BlockStatement","start":1759,"end":1813,"body":[{"type":"ReturnStatement","start":1773,"end":1803,"argument":{"type":"ImportExpression","start":1780,"end":1802,"source":{"type":"MemberExpression","start":1787,"end":1801,"computed":false,"optional":false,"object":{"type":"Identifier","start":1787,"end":1797,"name":"moduleInfo"},"property":{"type":"Identifier","start":1798,"end":1801,"name":"url"}},"options":null}}]},"alternate":null},{"type":"VariableDeclaration","start":1822,"end":1917,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1828,"end":1916,"id":{"type":"Identifier","start":1828,"end":1843,"name":"resolvedVersion"},"init":{"type":"AwaitExpression","start":1846,"end":1916,"argument":{"type":"CallExpression","start":1852,"end":1916,"optional":false,"callee":{"type":"MemberExpression","start":1852,"end":1886,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1852,"end":1871,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1852,"end":1856},"property":{"type":"Identifier","start":1857,"end":1871,"name":"versionManager"}},"property":{"type":"Identifier","start":1872,"end":1886,"name":"resolveVersion"}},"arguments":[{"type":"Identifier","start":1887,"end":1898,"name":"packageName"},{"type":"Identifier","start":1900,"end":1915,"name":"versionStrategy"}]}}}]},{"type":"VariableDeclaration","start":1926,"end":2008,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1932,"end":2007,"id":{"type":"Identifier","start":1932,"end":1941,"name":"moduleUrl"},"init":{"type":"AwaitExpression","start":1944,"end":2007,"argument":{"type":"CallExpression","start":1950,"end":2007,"optional":false,"callee":{"type":"MemberExpression","start":1950,"end":1977,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1950,"end":1954},"property":{"type":"Identifier","start":1955,"end":1977,"name":"resolveSharedModuleUrl"}},"arguments":[{"type":"Identifier","start":1978,"end":1989,"name":"packageName"},{"type":"Identifier","start":1991,"end":2006,"name":"resolvedVersion"}]}}}]},{"type":"TryStatement","start":2017,"end":2764,"block":{"type":"BlockStatement","start":2021,"end":2416,"body":[{"type":"VariableDeclaration","start":2035,"end":2083,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2041,"end":2082,"id":{"type":"Identifier","start":2041,"end":2047,"name":"module"},"init":{"type":"AwaitExpression","start":2050,"end":2082,"argument":{"type":"CallExpression","start":2056,"end":2082,"optional":false,"callee":{"type":"MemberExpression","start":2056,"end":2071,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2056,"end":2060},"property":{"type":"Identifier","start":2061,"end":2071,"name":"loadModule"}},"arguments":[{"type":"Identifier","start":2072,"end":2081,"name":"moduleUrl"}]}}}]},{"type":"ExpressionStatement","start":2096,"end":2379,"expression":{"type":"CallExpression","start":2096,"end":2378,"optional":false,"callee":{"type":"MemberExpression","start":2096,"end":2118,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2096,"end":2114,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2096,"end":2100},"property":{"type":"Identifier","start":2101,"end":2114,"name":"loadedModules"}},"property":{"type":"Identifier","start":2115,"end":2118,"name":"set"}},"arguments":[{"type":"Identifier","start":2119,"end":2130,"name":"packageName"},{"type":"ObjectExpression","start":2132,"end":2377,"properties":[{"type":"Property","start":2150,"end":2165,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2150,"end":2152,"name":"id"},"value":{"type":"Identifier","start":2154,"end":2165,"name":"packageName"},"kind":"init"},{"type":"Property","start":2183,"end":2200,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2183,"end":2187,"name":"name"},"value":{"type":"Identifier","start":2189,"end":2200,"name":"packageName"},"kind":"init"},{"type":"Property","start":2218,"end":2242,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2218,"end":2225,"name":"version"},"value":{"type":"Identifier","start":2227,"end":2242,"name":"resolvedVersion"},"kind":"init"},{"type":"Property","start":2260,"end":2274,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2260,"end":2263,"name":"url"},"value":{"type":"Identifier","start":2265,"end":2274,"name":"moduleUrl"},"kind":"init"},{"type":"Property","start":2292,"end":2300,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2292,"end":2296,"name":"deps"},"value":{"type":"ArrayExpression","start":2298,"end":2300,"elements":[]},"kind":"init"},{"type":"Property","start":2318,"end":2330,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2318,"end":2324,"name":"loaded"},"value":{"type":"Literal","start":2326,"end":2330,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":2348,"end":2363,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2348,"end":2357,"name":"singleton"},"value":{"type":"Literal","start":2359,"end":2363,"value":true,"raw":"true"},"kind":"init"}]}]}},{"type":"ReturnStatement","start":2392,"end":2406,"argument":{"type":"Identifier","start":2399,"end":2405,"name":"module"}}]},"handler":{"type":"CatchClause","start":2425,"end":2764,"param":{"type":"Identifier","start":2432,"end":2437,"name":"error"},"body":{"type":"BlockStatement","start":2439,"end":2764,"body":[{"type":"IfStatement","start":2453,"end":2660,"test":{"type":"LogicalExpression","start":2457,"end":2528,"operator":"&&","left":{"type":"BinaryExpression","start":2457,"end":2493,"operator":"===","left":{"type":"ChainExpression","start":2457,"end":2478,"expression":{"type":"MemberExpression","start":2457,"end":2478,"computed":false,"optional":true,"object":{"type":"Identifier","start":2457,"end":2472,"name":"versionStrategy"},"property":{"type":"Identifier","start":2474,"end":2478,"name":"type"}}},"right":{"type":"Literal","start":2483,"end":2493,"value":"fallback","raw":"'fallback'"}},"right":{"type":"MemberExpression","start":2497,"end":2528,"computed":false,"optional":false,"object":{"type":"Identifier","start":2497,"end":2512,"name":"versionStrategy"},"property":{"type":"Identifier","start":2513,"end":2528,"name":"fallbackVersion"}}},"consequent":{"type":"BlockStatement","start":2530,"end":2660,"body":[{"type":"ReturnStatement","start":2548,"end":2646,"argument":{"type":"CallExpression","start":2555,"end":2645,"optional":false,"callee":{"type":"MemberExpression","start":2555,"end":2576,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2555,"end":2559},"property":{"type":"Identifier","start":2560,"end":2576,"name":"loadSharedModule"}},"arguments":[{"type":"Identifier","start":2577,"end":2588,"name":"packageName"},{"type":"ObjectExpression","start":2590,"end":2644,"properties":[{"type":"Property","start":2612,"end":2625,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2612,"end":2616,"name":"type"},"value":{"type":"Literal","start":2618,"end":2625,"value":"exact","raw":"'exact'"},"kind":"init"}]}]}}]},"alternate":null},{"type":"ThrowStatement","start":2673,"end":2754,"argument":{"type":"NewExpression","start":2679,"end":2753,"callee":{"type":"Identifier","start":2683,"end":2688,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":2689,"end":2752,"quasis":[{"type":"TemplateElement","start":2690,"end":2719,"tail":false,"value":{"cooked":"Failed to load shared module ","raw":"Failed to load shared module "}},{"type":"TemplateElement","start":2733,"end":2735,"tail":false,"value":{"cooked":": ","raw":": "}},{"type":"TemplateElement","start":2751,"end":2751,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":2721,"end":2732,"name":"packageName"},{"type":"MemberExpression","start":2737,"end":2750,"computed":false,"optional":false,"object":{"type":"Identifier","start":2737,"end":2742,"name":"error"},"property":{"type":"Identifier","start":2743,"end":2750,"name":"message"}}]}]}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2775,"end":3234,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2781,"end":2793,"name":"loadManifest"},"value":{"type":"FunctionExpression","start":2793,"end":3234,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":2794,"end":2806,"name":"manifestPath"}],"body":{"type":"BlockStatement","start":2808,"end":3234,"body":[{"type":"TryStatement","start":2818,"end":3228,"block":{"type":"BlockStatement","start":2822,"end":3061,"body":[{"type":"VariableDeclaration","start":2836,"end":2879,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2842,"end":2878,"id":{"type":"Identifier","start":2842,"end":2850,"name":"response"},"init":{"type":"AwaitExpression","start":2853,"end":2878,"argument":{"type":"CallExpression","start":2859,"end":2878,"optional":false,"callee":{"type":"Identifier","start":2859,"end":2864,"name":"fetch"},"arguments":[{"type":"Identifier","start":2865,"end":2877,"name":"manifestPath"}]}}}]},{"type":"IfStatement","start":2892,"end":3009,"test":{"type":"UnaryExpression","start":2896,"end":2908,"operator":"!","argument":{"type":"MemberExpression","start":2897,"end":2908,"computed":false,"optional":false,"object":{"type":"Identifier","start":2897,"end":2905,"name":"response"},"property":{"type":"Identifier","start":2906,"end":2908,"name":"ok"}},"prefix":true},"consequent":{"type":"BlockStatement","start":2910,"end":3009,"body":[{"type":"ThrowStatement","start":2928,"end":2995,"argument":{"type":"NewExpression","start":2934,"end":2994,"callee":{"type":"Identifier","start":2938,"end":2943,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":2944,"end":2993,"quasis":[{"type":"TemplateElement","start":2945,"end":2950,"tail":false,"value":{"cooked":"HTTP ","raw":"HTTP "}},{"type":"TemplateElement","start":2968,"end":2970,"tail":false,"value":{"cooked":": ","raw":": "}},{"type":"TemplateElement","start":2992,"end":2992,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"MemberExpression","start":2952,"end":2967,"computed":false,"optional":false,"object":{"type":"Identifier","start":2952,"end":2960,"name":"response"},"property":{"type":"Identifier","start":2961,"end":2967,"name":"status"}},{"type":"MemberExpression","start":2972,"end":2991,"computed":false,"optional":false,"object":{"type":"Identifier","start":2972,"end":2980,"name":"response"},"property":{"type":"Identifier","start":2981,"end":2991,"name":"statusText"}}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":3022,"end":3051,"argument":{"type":"AwaitExpression","start":3029,"end":3050,"argument":{"type":"CallExpression","start":3035,"end":3050,"optional":false,"callee":{"type":"MemberExpression","start":3035,"end":3048,"computed":false,"optional":false,"object":{"type":"Identifier","start":3035,"end":3043,"name":"response"},"property":{"type":"Identifier","start":3044,"end":3048,"name":"json"}},"arguments":[]}}}]},"handler":{"type":"CatchClause","start":3070,"end":3228,"param":{"type":"Identifier","start":3077,"end":3082,"name":"error"},"body":{"type":"BlockStatement","start":3084,"end":3228,"body":[{"type":"ExpressionStatement","start":3098,"end":3195,"expression":{"type":"CallExpression","start":3098,"end":3194,"optional":false,"callee":{"type":"MemberExpression","start":3098,"end":3110,"computed":false,"optional":false,"object":{"type":"Identifier","start":3098,"end":3105,"name":"console"},"property":{"type":"Identifier","start":3106,"end":3110,"name":"warn"}},"arguments":[{"type":"TemplateLiteral","start":3111,"end":3178,"quasis":[{"type":"TemplateElement","start":3112,"end":3161,"tail":false,"value":{"cooked":"[Native Federation] Failed to load manifest from ","raw":"[Native Federation] Failed to load manifest from "}},{"type":"TemplateElement","start":3176,"end":3177,"tail":true,"value":{"cooked":":","raw":":"}}],"expressions":[{"type":"Identifier","start":3163,"end":3175,"name":"manifestPath"}]},{"type":"MemberExpression","start":3180,"end":3193,"computed":false,"optional":false,"object":{"type":"Identifier","start":3180,"end":3185,"name":"error"},"property":{"type":"Identifier","start":3186,"end":3193,"name":"message"}}]}},{"type":"ReturnStatement","start":3208,"end":3218,"argument":{"type":"ObjectExpression","start":3215,"end":3217,"properties":[]}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3239,"end":3659,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3245,"end":3260,"name":"setupImportMaps"},"value":{"type":"FunctionExpression","start":3260,"end":3659,"async":true,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":3263,"end":3659,"body":[{"type":"TryStatement","start":3273,"end":3653,"block":{"type":"BlockStatement","start":3277,"end":3528,"body":[{"type":"VariableDeclaration","start":3291,"end":3349,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3297,"end":3348,"id":{"type":"Identifier","start":3297,"end":3314,"name":"importMapResponse"},"init":{"type":"AwaitExpression","start":3317,"end":3348,"argument":{"type":"CallExpression","start":3323,"end":3348,"optional":false,"callee":{"type":"Identifier","start":3323,"end":3328,"name":"fetch"},"arguments":[{"type":"Literal","start":3329,"end":3347,"value":"./importmap.json","raw":"'./importmap.json'"}]}}}]},{"type":"IfStatement","start":3362,"end":3518,"test":{"type":"MemberExpression","start":3366,"end":3386,"computed":false,"optional":false,"object":{"type":"Identifier","start":3366,"end":3383,"name":"importMapResponse"},"property":{"type":"Identifier","start":3384,"end":3386,"name":"ok"}},"consequent":{"type":"BlockStatement","start":3388,"end":3518,"body":[{"type":"VariableDeclaration","start":3406,"end":3455,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3412,"end":3454,"id":{"type":"Identifier","start":3412,"end":3421,"name":"importMap"},"init":{"type":"AwaitExpression","start":3424,"end":3454,"argument":{"type":"CallExpression","start":3430,"end":3454,"optional":false,"callee":{"type":"MemberExpression","start":3430,"end":3452,"computed":false,"optional":false,"object":{"type":"Identifier","start":3430,"end":3447,"name":"importMapResponse"},"property":{"type":"Identifier","start":3448,"end":3452,"name":"json"}},"arguments":[]}}}]},{"type":"ExpressionStatement","start":3472,"end":3504,"expression":{"type":"CallExpression","start":3472,"end":3503,"optional":false,"callee":{"type":"MemberExpression","start":3472,"end":3492,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3472,"end":3476},"property":{"type":"Identifier","start":3477,"end":3492,"name":"injectImportMap"}},"arguments":[{"type":"Identifier","start":3493,"end":3502,"name":"importMap"}]}}]},"alternate":null}]},"handler":{"type":"CatchClause","start":3537,"end":3653,"param":{"type":"Identifier","start":3544,"end":3549,"name":"error"},"body":{"type":"BlockStatement","start":3551,"end":3653,"body":[{"type":"ExpressionStatement","start":3565,"end":3643,"expression":{"type":"CallExpression","start":3565,"end":3642,"optional":false,"callee":{"type":"MemberExpression","start":3565,"end":3577,"computed":false,"optional":false,"object":{"type":"Identifier","start":3565,"end":3572,"name":"console"},"property":{"type":"Identifier","start":3573,"end":3577,"name":"warn"}},"arguments":[{"type":"Literal","start":3578,"end":3626,"value":"[Native Federation] Failed to load import map:","raw":"'[Native Federation] Failed to load import map:'"},{"type":"MemberExpression","start":3628,"end":3641,"computed":false,"optional":false,"object":{"type":"Identifier","start":3628,"end":3633,"name":"error"},"property":{"type":"Identifier","start":3634,"end":3641,"name":"message"}}]}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3664,"end":4034,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3664,"end":3679,"name":"injectImportMap"},"value":{"type":"FunctionExpression","start":3679,"end":4034,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3680,"end":3689,"name":"importMap"}],"body":{"type":"BlockStatement","start":3691,"end":4034,"body":[{"type":"IfStatement","start":3701,"end":3783,"test":{"type":"MemberExpression","start":3705,"end":3726,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3705,"end":3709},"property":{"type":"Identifier","start":3710,"end":3726,"name":"importMapElement"}},"consequent":{"type":"BlockStatement","start":3728,"end":3783,"body":[{"type":"ExpressionStatement","start":3742,"end":3773,"expression":{"type":"CallExpression","start":3742,"end":3772,"optional":false,"callee":{"type":"MemberExpression","start":3742,"end":3770,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3742,"end":3763,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3742,"end":3746},"property":{"type":"Identifier","start":3747,"end":3763,"name":"importMapElement"}},"property":{"type":"Identifier","start":3764,"end":3770,"name":"remove"}},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","start":3792,"end":3849,"expression":{"type":"AssignmentExpression","start":3792,"end":3848,"operator":"=","left":{"type":"MemberExpression","start":3792,"end":3813,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3792,"end":3796},"property":{"type":"Identifier","start":3797,"end":3813,"name":"importMapElement"}},"right":{"type":"CallExpression","start":3816,"end":3848,"optional":false,"callee":{"type":"MemberExpression","start":3816,"end":3838,"computed":false,"optional":false,"object":{"type":"Identifier","start":3816,"end":3824,"name":"document"},"property":{"type":"Identifier","start":3825,"end":3838,"name":"createElement"}},"arguments":[{"type":"Literal","start":3839,"end":3847,"value":"script","raw":"'script'"}]}}},{"type":"ExpressionStatement","start":3858,"end":3899,"expression":{"type":"AssignmentExpression","start":3858,"end":3898,"operator":"=","left":{"type":"MemberExpression","start":3858,"end":3884,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3858,"end":3879,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3858,"end":3862},"property":{"type":"Identifier","start":3863,"end":3879,"name":"importMapElement"}},"property":{"type":"Identifier","start":3880,"end":3884,"name":"type"}},"right":{"type":"Literal","start":3887,"end":3898,"value":"importmap","raw":"'importmap'"}}},{"type":"ExpressionStatement","start":3908,"end":3970,"expression":{"type":"AssignmentExpression","start":3908,"end":3969,"operator":"=","left":{"type":"MemberExpression","start":3908,"end":3941,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3908,"end":3929,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3908,"end":3912},"property":{"type":"Identifier","start":3913,"end":3929,"name":"importMapElement"}},"property":{"type":"Identifier","start":3930,"end":3941,"name":"textContent"}},"right":{"type":"CallExpression","start":3944,"end":3969,"optional":false,"callee":{"type":"MemberExpression","start":3944,"end":3958,"computed":false,"optional":false,"object":{"type":"Identifier","start":3944,"end":3948,"name":"JSON"},"property":{"type":"Identifier","start":3949,"end":3958,"name":"stringify"}},"arguments":[{"type":"Identifier","start":3959,"end":3968,"name":"importMap"}]}}},{"type":"ExpressionStatement","start":3979,"end":4028,"expression":{"type":"CallExpression","start":3979,"end":4027,"optional":false,"callee":{"type":"MemberExpression","start":3979,"end":4004,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3979,"end":3992,"computed":false,"optional":false,"object":{"type":"Identifier","start":3979,"end":3987,"name":"document"},"property":{"type":"Identifier","start":3988,"end":3992,"name":"head"}},"property":{"type":"Identifier","start":3993,"end":4004,"name":"appendChild"}},"arguments":[{"type":"MemberExpression","start":4005,"end":4026,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4005,"end":4009},"property":{"type":"Identifier","start":4010,"end":4026,"name":"importMapElement"}}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4039,"end":4249,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4045,"end":4061,"name":"resolveRemoteUrl"},"value":{"type":"FunctionExpression","start":4061,"end":4249,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":4062,"end":4072,"name":"remoteName"}],"body":{"type":"BlockStatement","start":4074,"end":4249,"body":[{"type":"IfStatement","start":4084,"end":4172,"test":{"type":"MemberExpression","start":4088,"end":4113,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":4088,"end":4101,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4088,"end":4092},"property":{"type":"Identifier","start":4093,"end":4101,"name":"manifest"}},"property":{"type":"Identifier","start":4102,"end":4112,"name":"remoteName"}},"consequent":{"type":"BlockStatement","start":4115,"end":4172,"body":[{"type":"ReturnStatement","start":4129,"end":4162,"argument":{"type":"MemberExpression","start":4136,"end":4161,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":4136,"end":4149,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4136,"end":4140},"property":{"type":"Identifier","start":4141,"end":4149,"name":"manifest"}},"property":{"type":"Identifier","start":4150,"end":4160,"name":"remoteName"}}}]},"alternate":null},{"type":"ThrowStatement","start":4181,"end":4243,"argument":{"type":"NewExpression","start":4187,"end":4242,"callee":{"type":"Identifier","start":4191,"end":4196,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":4197,"end":4241,"quasis":[{"type":"TemplateElement","start":4198,"end":4205,"tail":false,"value":{"cooked":"Remote ","raw":"Remote "}},{"type":"TemplateElement","start":4218,"end":4240,"tail":true,"value":{"cooked":" not found in manifest","raw":" not found in manifest"}}],"expressions":[{"type":"Identifier","start":4207,"end":4217,"name":"remoteName"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4254,"end":5029,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4260,"end":4276,"name":"resolveModuleUrl"},"value":{"type":"FunctionExpression","start":4276,"end":5029,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":4277,"end":4286,"name":"remoteUrl"},{"type":"Identifier","start":4288,"end":4298,"name":"modulePath"}],"body":{"type":"BlockStatement","start":4300,"end":5029,"body":[{"type":"TryStatement","start":4310,"end":5023,"block":{"type":"BlockStatement","start":4314,"end":4910,"body":[{"type":"VariableDeclaration","start":4328,"end":4368,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4334,"end":4367,"id":{"type":"Identifier","start":4334,"end":4342,"name":"response"},"init":{"type":"AwaitExpression","start":4345,"end":4367,"argument":{"type":"CallExpression","start":4351,"end":4367,"optional":false,"callee":{"type":"Identifier","start":4351,"end":4356,"name":"fetch"},"arguments":[{"type":"Identifier","start":4357,"end":4366,"name":"remoteUrl"}]}}}]},{"type":"IfStatement","start":4381,"end":4504,"test":{"type":"UnaryExpression","start":4385,"end":4397,"operator":"!","argument":{"type":"MemberExpression","start":4386,"end":4397,"computed":false,"optional":false,"object":{"type":"Identifier","start":4386,"end":4394,"name":"response"},"property":{"type":"Identifier","start":4395,"end":4397,"name":"ok"}},"prefix":true},"consequent":{"type":"BlockStatement","start":4399,"end":4504,"body":[{"type":"ThrowStatement","start":4417,"end":4490,"argument":{"type":"NewExpression","start":4423,"end":4489,"callee":{"type":"Identifier","start":4427,"end":4432,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":4433,"end":4488,"quasis":[{"type":"TemplateElement","start":4434,"end":4469,"tail":false,"value":{"cooked":"Failed to fetch remote entry: HTTP ","raw":"Failed to fetch remote entry: HTTP "}},{"type":"TemplateElement","start":4487,"end":4487,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"MemberExpression","start":4471,"end":4486,"computed":false,"optional":false,"object":{"type":"Identifier","start":4471,"end":4479,"name":"response"},"property":{"type":"Identifier","start":4480,"end":4486,"name":"status"}}]}]}}]},"alternate":null},{"type":"VariableDeclaration","start":4517,"end":4559,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4523,"end":4558,"id":{"type":"Identifier","start":4523,"end":4534,"name":"remoteEntry"},"init":{"type":"AwaitExpression","start":4537,"end":4558,"argument":{"type":"CallExpression","start":4543,"end":4558,"optional":false,"callee":{"type":"MemberExpression","start":4543,"end":4556,"computed":false,"optional":false,"object":{"type":"Identifier","start":4543,"end":4551,"name":"response"},"property":{"type":"Identifier","start":4552,"end":4556,"name":"json"}},"arguments":[]}}}]},{"type":"IfStatement","start":4572,"end":4716,"test":{"type":"UnaryExpression","start":4576,"end":4620,"operator":"!","argument":{"type":"ChainExpression","start":4577,"end":4620,"expression":{"type":"MemberExpression","start":4577,"end":4620,"computed":true,"optional":true,"object":{"type":"MemberExpression","start":4577,"end":4606,"computed":false,"optional":true,"object":{"type":"MemberExpression","start":4577,"end":4597,"computed":false,"optional":false,"object":{"type":"Identifier","start":4577,"end":4588,"name":"remoteEntry"},"property":{"type":"Identifier","start":4589,"end":4597,"name":"metadata"}},"property":{"type":"Identifier","start":4599,"end":4606,"name":"exposes"}},"property":{"type":"Identifier","start":4609,"end":4619,"name":"modulePath"}}},"prefix":true},"consequent":{"type":"BlockStatement","start":4622,"end":4716,"body":[{"type":"ThrowStatement","start":4640,"end":4702,"argument":{"type":"NewExpression","start":4646,"end":4701,"callee":{"type":"Identifier","start":4650,"end":4655,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":4656,"end":4700,"quasis":[{"type":"TemplateElement","start":4657,"end":4664,"tail":false,"value":{"cooked":"Module ","raw":"Module "}},{"type":"TemplateElement","start":4677,"end":4699,"tail":true,"value":{"cooked":" not exposed by remote","raw":" not exposed by remote"}}],"expressions":[{"type":"Identifier","start":4666,"end":4676,"name":"modulePath"}]}]}}]},"alternate":null},{"type":"VariableDeclaration","start":4729,"end":4771,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4735,"end":4770,"id":{"type":"Identifier","start":4735,"end":4742,"name":"baseUrl"},"init":{"type":"MemberExpression","start":4745,"end":4770,"computed":false,"optional":false,"object":{"type":"NewExpression","start":4745,"end":4763,"callee":{"type":"Identifier","start":4749,"end":4752,"name":"URL"},"arguments":[{"type":"Identifier","start":4753,"end":4762,"name":"remoteUrl"}]},"property":{"type":"Identifier","start":4764,"end":4770,"name":"origin"}}}]},{"type":"VariableDeclaration","start":4784,"end":4845,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4790,"end":4844,"id":{"type":"Identifier","start":4790,"end":4801,"name":"exposedPath"},"init":{"type":"MemberExpression","start":4804,"end":4844,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":4804,"end":4832,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4804,"end":4824,"computed":false,"optional":false,"object":{"type":"Identifier","start":4804,"end":4815,"name":"remoteEntry"},"property":{"type":"Identifier","start":4816,"end":4824,"name":"metadata"}},"property":{"type":"Identifier","start":4825,"end":4832,"name":"exposes"}},"property":{"type":"Identifier","start":4833,"end":4843,"name":"modulePath"}}}]},{"type":"ReturnStatement","start":4858,"end":4900,"argument":{"type":"MemberExpression","start":4865,"end":4899,"computed":false,"optional":false,"object":{"type":"NewExpression","start":4865,"end":4894,"callee":{"type":"Identifier","start":4869,"end":4872,"name":"URL"},"arguments":[{"type":"Identifier","start":4873,"end":4884,"name":"exposedPath"},{"type":"Identifier","start":4886,"end":4893,"name":"baseUrl"}]},"property":{"type":"Identifier","start":4895,"end":4899,"name":"href"}}}]},"handler":{"type":"CatchClause","start":4919,"end":5023,"param":{"type":"Identifier","start":4926,"end":4931,"name":"error"},"body":{"type":"BlockStatement","start":4933,"end":5023,"body":[{"type":"ThrowStatement","start":4947,"end":5013,"argument":{"type":"NewExpression","start":4953,"end":5012,"callee":{"type":"Identifier","start":4957,"end":4962,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":4963,"end":5011,"quasis":[{"type":"TemplateElement","start":4964,"end":4994,"tail":false,"value":{"cooked":"Failed to resolve module URL: ","raw":"Failed to resolve module URL: "}},{"type":"TemplateElement","start":5010,"end":5010,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"MemberExpression","start":4996,"end":5009,"computed":false,"optional":false,"object":{"type":"Identifier","start":4996,"end":5001,"name":"error"},"property":{"type":"Identifier","start":5002,"end":5009,"name":"message"}}]}]}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5034,"end":5245,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5040,"end":5062,"name":"resolveSharedModuleUrl"},"value":{"type":"FunctionExpression","start":5062,"end":5245,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":5063,"end":5074,"name":"packageName"},{"type":"Identifier","start":5076,"end":5083,"name":"version"}],"body":{"type":"BlockStatement","start":5085,"end":5245,"body":[{"type":"VariableDeclaration","start":5095,"end":5134,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5101,"end":5133,"id":{"type":"Identifier","start":5101,"end":5108,"name":"baseUrl"},"init":{"type":"MemberExpression","start":5111,"end":5133,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5111,"end":5126,"computed":false,"optional":false,"object":{"type":"Identifier","start":5111,"end":5117,"name":"window"},"property":{"type":"Identifier","start":5118,"end":5126,"name":"location"}},"property":{"type":"Identifier","start":5127,"end":5133,"name":"origin"}}}]},{"type":"ReturnStatement","start":5143,"end":5239,"argument":{"type":"TemplateLiteral","start":5150,"end":5238,"quasis":[{"type":"TemplateElement","start":5151,"end":5151,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":5161,"end":5213,"tail":false,"value":{"cooked":"/node_modules/.cache/native-federation/esm-packages/","raw":"/node_modules/.cache/native-federation/esm-packages/"}},{"type":"TemplateElement","start":5227,"end":5237,"tail":true,"value":{"cooked":"/index.mjs","raw":"/index.mjs"}}],"expressions":[{"type":"Identifier","start":5153,"end":5160,"name":"baseUrl"},{"type":"Identifier","start":5215,"end":5226,"name":"packageName"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5250,"end":5446,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5256,"end":5266,"name":"loadModule"},"value":{"type":"FunctionExpression","start":5266,"end":5446,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":5267,"end":5270,"name":"url"}],"body":{"type":"BlockStatement","start":5272,"end":5446,"body":[{"type":"TryStatement","start":5282,"end":5440,"block":{"type":"BlockStatement","start":5286,"end":5335,"body":[{"type":"ReturnStatement","start":5300,"end":5325,"argument":{"type":"AwaitExpression","start":5307,"end":5324,"argument":{"type":"ImportExpression","start":5313,"end":5324,"source":{"type":"Identifier","start":5320,"end":5323,"name":"url"},"options":null}}}]},"handler":{"type":"CatchClause","start":5344,"end":5440,"param":{"type":"Identifier","start":5351,"end":5356,"name":"error"},"body":{"type":"BlockStatement","start":5358,"end":5440,"body":[{"type":"ThrowStatement","start":5372,"end":5430,"argument":{"type":"NewExpression","start":5378,"end":5429,"callee":{"type":"Identifier","start":5382,"end":5387,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":5388,"end":5428,"quasis":[{"type":"TemplateElement","start":5389,"end":5411,"tail":false,"value":{"cooked":"Module import failed: ","raw":"Module import failed: "}},{"type":"TemplateElement","start":5427,"end":5427,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"MemberExpression","start":5413,"end":5426,"computed":false,"optional":false,"object":{"type":"Identifier","start":5413,"end":5418,"name":"error"},"property":{"type":"Identifier","start":5419,"end":5426,"name":"message"}}]}]}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5451,"end":5521,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5451,"end":5467,"name":"getLoadedModules"},"value":{"type":"FunctionExpression","start":5467,"end":5521,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":5470,"end":5521,"body":[{"type":"ReturnStatement","start":5480,"end":5515,"argument":{"type":"NewExpression","start":5487,"end":5514,"callee":{"type":"Identifier","start":5491,"end":5494,"name":"Map"},"arguments":[{"type":"MemberExpression","start":5495,"end":5513,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5495,"end":5499},"property":{"type":"Identifier","start":5500,"end":5513,"name":"loadedModules"}}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5526,"end":5809,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5532,"end":5545,"name":"preloadModule"},"value":{"type":"FunctionExpression","start":5545,"end":5809,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":5546,"end":5556,"name":"remoteName"},{"type":"Identifier","start":5558,"end":5568,"name":"modulePath"}],"body":{"type":"BlockStatement","start":5570,"end":5809,"body":[{"type":"VariableDeclaration","start":5580,"end":5624,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5586,"end":5623,"id":{"type":"Identifier","start":5586,"end":5590,"name":"link"},"init":{"type":"CallExpression","start":5593,"end":5623,"optional":false,"callee":{"type":"MemberExpression","start":5593,"end":5615,"computed":false,"optional":false,"object":{"type":"Identifier","start":5593,"end":5601,"name":"document"},"property":{"type":"Identifier","start":5602,"end":5615,"name":"createElement"}},"arguments":[{"type":"Literal","start":5616,"end":5622,"value":"link","raw":"'link'"}]}}]},{"type":"ExpressionStatement","start":5633,"end":5660,"expression":{"type":"AssignmentExpression","start":5633,"end":5659,"operator":"=","left":{"type":"MemberExpression","start":5633,"end":5641,"computed":false,"optional":false,"object":{"type":"Identifier","start":5633,"end":5637,"name":"link"},"property":{"type":"Identifier","start":5638,"end":5641,"name":"rel"}},"right":{"type":"Literal","start":5644,"end":5659,"value":"modulepreload","raw":"'modulepreload'"}}},{"type":"ExpressionStatement","start":5669,"end":5762,"expression":{"type":"AssignmentExpression","start":5669,"end":5761,"operator":"=","left":{"type":"MemberExpression","start":5669,"end":5678,"computed":false,"optional":false,"object":{"type":"Identifier","start":5669,"end":5673,"name":"link"},"property":{"type":"Identifier","start":5674,"end":5678,"name":"href"}},"right":{"type":"AwaitExpression","start":5681,"end":5761,"argument":{"type":"CallExpression","start":5687,"end":5761,"optional":false,"callee":{"type":"MemberExpression","start":5687,"end":5708,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5687,"end":5691},"property":{"type":"Identifier","start":5692,"end":5708,"name":"resolveModuleUrl"}},"arguments":[{"type":"AwaitExpression","start":5709,"end":5748,"argument":{"type":"CallExpression","start":5715,"end":5748,"optional":false,"callee":{"type":"MemberExpression","start":5715,"end":5736,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5715,"end":5719},"property":{"type":"Identifier","start":5720,"end":5736,"name":"resolveRemoteUrl"}},"arguments":[{"type":"Identifier","start":5737,"end":5747,"name":"remoteName"}]}},{"type":"Identifier","start":5750,"end":5760,"name":"modulePath"}]}}}},{"type":"ExpressionStatement","start":5771,"end":5803,"expression":{"type":"CallExpression","start":5771,"end":5802,"optional":false,"callee":{"type":"MemberExpression","start":5771,"end":5796,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5771,"end":5784,"computed":false,"optional":false,"object":{"type":"Identifier","start":5771,"end":5779,"name":"document"},"property":{"type":"Identifier","start":5780,"end":5784,"name":"head"}},"property":{"type":"Identifier","start":5785,"end":5796,"name":"appendChild"}},"arguments":[{"type":"Identifier","start":5797,"end":5801,"name":"link"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5814,"end":6008,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5814,"end":5824,"name":"clearCache"},"value":{"type":"FunctionExpression","start":5824,"end":6008,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":5827,"end":6008,"body":[{"type":"ExpressionStatement","start":5837,"end":5864,"expression":{"type":"CallExpression","start":5837,"end":5863,"optional":false,"callee":{"type":"MemberExpression","start":5837,"end":5861,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5837,"end":5855,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5837,"end":5841},"property":{"type":"Identifier","start":5842,"end":5855,"name":"loadedModules"}},"property":{"type":"Identifier","start":5856,"end":5861,"name":"clear"}},"arguments":[]}},{"type":"IfStatement","start":5873,"end":6002,"test":{"type":"MemberExpression","start":5877,"end":5898,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5877,"end":5881},"property":{"type":"Identifier","start":5882,"end":5898,"name":"importMapElement"}},"consequent":{"type":"BlockStatement","start":5900,"end":6002,"body":[{"type":"ExpressionStatement","start":5914,"end":5945,"expression":{"type":"CallExpression","start":5914,"end":5944,"optional":false,"callee":{"type":"MemberExpression","start":5914,"end":5942,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5914,"end":5935,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5914,"end":5918},"property":{"type":"Identifier","start":5919,"end":5935,"name":"importMapElement"}},"property":{"type":"Identifier","start":5936,"end":5942,"name":"remove"}},"arguments":[]}},{"type":"ExpressionStatement","start":5958,"end":5992,"expression":{"type":"AssignmentExpression","start":5958,"end":5991,"operator":"=","left":{"type":"MemberExpression","start":5958,"end":5979,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5958,"end":5962},"property":{"type":"Identifier","start":5963,"end":5979,"name":"importMapElement"}},"right":{"type":"Identifier","start":5982,"end":5991,"name":"undefined"}}}]},"alternate":null}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":6013,"end":6206,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":6020,"end":6024,"name":"ɵfac"},"value":{"type":"CallExpression","start":6027,"end":6205,"optional":false,"callee":{"type":"MemberExpression","start":6027,"end":6048,"computed":false,"optional":false,"object":{"type":"Identifier","start":6027,"end":6029,"name":"i0"},"property":{"type":"Identifier","start":6030,"end":6048,"name":"ɵɵngDeclareFactory"}},"arguments":[{"type":"ObjectExpression","start":6049,"end":6204,"properties":[{"type":"Property","start":6051,"end":6071,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6051,"end":6061,"name":"minVersion"},"value":{"type":"Literal","start":6063,"end":6071,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":6073,"end":6091,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6073,"end":6080,"name":"version"},"value":{"type":"Literal","start":6082,"end":6091,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":6093,"end":6105,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6093,"end":6101,"name":"ngImport"},"value":{"type":"Identifier","start":6103,"end":6105,"name":"i0"},"kind":"init"},{"type":"Property","start":6107,"end":6125,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6107,"end":6111,"name":"type"},"value":{"type":"Identifier","start":6113,"end":6125,"name":"ModuleLoader"},"kind":"init"},{"type":"Property","start":6127,"end":6163,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6127,"end":6131,"name":"deps"},"value":{"type":"ArrayExpression","start":6133,"end":6163,"elements":[{"type":"ObjectExpression","start":6134,"end":6162,"properties":[{"type":"Property","start":6136,"end":6160,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6136,"end":6141,"name":"token"},"value":{"type":"MemberExpression","start":6143,"end":6160,"computed":false,"optional":false,"object":{"type":"Identifier","start":6143,"end":6145,"name":"i1"},"property":{"type":"Identifier","start":6146,"end":6160,"name":"VersionManager"}},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":6165,"end":6202,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6165,"end":6171,"name":"target"},"value":{"type":"MemberExpression","start":6173,"end":6202,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6173,"end":6191,"computed":false,"optional":false,"object":{"type":"Identifier","start":6173,"end":6175,"name":"i0"},"property":{"type":"Identifier","start":6176,"end":6191,"name":"ɵɵFactoryTarget"}},"property":{"type":"Identifier","start":6192,"end":6202,"name":"Injectable"}},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":6211,"end":6351,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":6218,"end":6223,"name":"ɵprov"},"value":{"type":"CallExpression","start":6226,"end":6350,"optional":false,"callee":{"type":"MemberExpression","start":6226,"end":6250,"computed":false,"optional":false,"object":{"type":"Identifier","start":6226,"end":6228,"name":"i0"},"property":{"type":"Identifier","start":6229,"end":6250,"name":"ɵɵngDeclareInjectable"}},"arguments":[{"type":"ObjectExpression","start":6251,"end":6349,"properties":[{"type":"Property","start":6253,"end":6273,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6253,"end":6263,"name":"minVersion"},"value":{"type":"Literal","start":6265,"end":6273,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":6275,"end":6293,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6275,"end":6282,"name":"version"},"value":{"type":"Literal","start":6284,"end":6293,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":6295,"end":6307,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6295,"end":6303,"name":"ngImport"},"value":{"type":"Identifier","start":6305,"end":6307,"name":"i0"},"kind":"init"},{"type":"Property","start":6309,"end":6327,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6309,"end":6313,"name":"type"},"value":{"type":"Identifier","start":6315,"end":6327,"name":"ModuleLoader"},"kind":"init"},{"type":"Property","start":6329,"end":6347,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6329,"end":6339,"name":"providedIn"},"value":{"type":"Literal","start":6341,"end":6347,"value":"root","raw":"'root'"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":6354,"end":6651,"expression":{"type":"CallExpression","start":6354,"end":6650,"optional":false,"callee":{"type":"MemberExpression","start":6354,"end":6381,"computed":false,"optional":false,"object":{"type":"Identifier","start":6354,"end":6356,"name":"i0"},"property":{"type":"Identifier","start":6357,"end":6381,"name":"ɵɵngDeclareClassMetadata"}},"arguments":[{"type":"ObjectExpression","start":6382,"end":6649,"properties":[{"type":"Property","start":6384,"end":6404,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6384,"end":6394,"name":"minVersion"},"value":{"type":"Literal","start":6396,"end":6404,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":6406,"end":6424,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6406,"end":6413,"name":"version"},"value":{"type":"Literal","start":6415,"end":6424,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":6426,"end":6438,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6426,"end":6434,"name":"ngImport"},"value":{"type":"Identifier","start":6436,"end":6438,"name":"i0"},"kind":"init"},{"type":"Property","start":6440,"end":6458,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6440,"end":6444,"name":"type"},"value":{"type":"Identifier","start":6446,"end":6458,"name":"ModuleLoader"},"kind":"init"},{"type":"Property","start":6460,"end":6594,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6460,"end":6470,"name":"decorators"},"value":{"type":"ArrayExpression","start":6472,"end":6594,"elements":[{"type":"ObjectExpression","start":6473,"end":6593,"properties":[{"type":"Property","start":6487,"end":6503,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6487,"end":6491,"name":"type"},"value":{"type":"Identifier","start":6493,"end":6503,"name":"Injectable"},"kind":"init"},{"type":"Property","start":6517,"end":6583,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6517,"end":6521,"name":"args"},"value":{"type":"ArrayExpression","start":6523,"end":6583,"elements":[{"type":"ObjectExpression","start":6524,"end":6582,"properties":[{"type":"Property","start":6546,"end":6564,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6546,"end":6556,"name":"providedIn"},"value":{"type":"Literal","start":6558,"end":6564,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":6596,"end":6647,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6596,"end":6610,"name":"ctorParameters"},"value":{"type":"ArrowFunctionExpression","start":6612,"end":6647,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ArrayExpression","start":6618,"end":6647,"elements":[{"type":"ObjectExpression","start":6619,"end":6646,"properties":[{"type":"Property","start":6621,"end":6644,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6621,"end":6625,"name":"type"},"value":{"type":"MemberExpression","start":6627,"end":6644,"computed":false,"optional":false,"object":{"type":"Identifier","start":6627,"end":6629,"name":"i1"},"property":{"type":"Identifier","start":6630,"end":6644,"name":"VersionManager"}},"kind":"init"}]}]},"id":null},"kind":"init"}]}]}}],"_rollupRemoved":[{"end":22250,"start":6652,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { Injectable } from '@angular/core';\nimport { VersionManager } from './version-manager';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./version-manager\";\nexport class ModuleLoader {\n    versionManager;\n    loadedModules = new Map();\n    manifest = {};\n    importMapElement;\n    constructor(versionManager) {\n        this.versionManager = versionManager;\n    }\n    async initialize(manifestPath) {\n        if (manifestPath) {\n            this.manifest = await this.loadManifest(manifestPath);\n        }\n        await this.setupImportMaps();\n    }\n    async loadRemoteModule(remoteName, modulePath) {\n        const moduleId = `${remoteName}${modulePath}`;\n        if (this.loadedModules.has(moduleId)) {\n            const moduleInfo = this.loadedModules.get(moduleId);\n            if (moduleInfo.loaded) {\n                return import(moduleInfo.url);\n            }\n        }\n        const remoteUrl = await this.resolveRemoteUrl(remoteName);\n        const moduleUrl = await this.resolveModuleUrl(remoteUrl, modulePath);\n        try {\n            const module = await this.loadModule(moduleUrl);\n            this.loadedModules.set(moduleId, {\n                id: moduleId,\n                name: remoteName,\n                version: '1.0.0',\n                url: moduleUrl,\n                deps: [],\n                loaded: true,\n                singleton: false\n            });\n            return module;\n        }\n        catch (error) {\n            throw new Error(`Failed to load remote module ${remoteName}${modulePath}: ${error.message}`);\n        }\n    }\n    async loadSharedModule(packageName, versionStrategy) {\n        const moduleInfo = this.loadedModules.get(packageName);\n        if (moduleInfo?.singleton && moduleInfo.loaded) {\n            return import(moduleInfo.url);\n        }\n        const resolvedVersion = await this.versionManager.resolveVersion(packageName, versionStrategy);\n        const moduleUrl = await this.resolveSharedModuleUrl(packageName, resolvedVersion);\n        try {\n            const module = await this.loadModule(moduleUrl);\n            this.loadedModules.set(packageName, {\n                id: packageName,\n                name: packageName,\n                version: resolvedVersion,\n                url: moduleUrl,\n                deps: [],\n                loaded: true,\n                singleton: true\n            });\n            return module;\n        }\n        catch (error) {\n            if (versionStrategy?.type === 'fallback' && versionStrategy.fallbackVersion) {\n                return this.loadSharedModule(packageName, {\n                    type: 'exact',\n                });\n            }\n            throw new Error(`Failed to load shared module ${packageName}: ${error.message}`);\n        }\n    }\n    async loadManifest(manifestPath) {\n        try {\n            const response = await fetch(manifestPath);\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n            return await response.json();\n        }\n        catch (error) {\n            console.warn(`[Native Federation] Failed to load manifest from ${manifestPath}:`, error.message);\n            return {};\n        }\n    }\n    async setupImportMaps() {\n        try {\n            const importMapResponse = await fetch('./importmap.json');\n            if (importMapResponse.ok) {\n                const importMap = await importMapResponse.json();\n                this.injectImportMap(importMap);\n            }\n        }\n        catch (error) {\n            console.warn('[Native Federation] Failed to load import map:', error.message);\n        }\n    }\n    injectImportMap(importMap) {\n        if (this.importMapElement) {\n            this.importMapElement.remove();\n        }\n        this.importMapElement = document.createElement('script');\n        this.importMapElement.type = 'importmap';\n        this.importMapElement.textContent = JSON.stringify(importMap);\n        document.head.appendChild(this.importMapElement);\n    }\n    async resolveRemoteUrl(remoteName) {\n        if (this.manifest[remoteName]) {\n            return this.manifest[remoteName];\n        }\n        throw new Error(`Remote ${remoteName} not found in manifest`);\n    }\n    async resolveModuleUrl(remoteUrl, modulePath) {\n        try {\n            const response = await fetch(remoteUrl);\n            if (!response.ok) {\n                throw new Error(`Failed to fetch remote entry: HTTP ${response.status}`);\n            }\n            const remoteEntry = await response.json();\n            if (!remoteEntry.metadata?.exposes?.[modulePath]) {\n                throw new Error(`Module ${modulePath} not exposed by remote`);\n            }\n            const baseUrl = new URL(remoteUrl).origin;\n            const exposedPath = remoteEntry.metadata.exposes[modulePath];\n            return new URL(exposedPath, baseUrl).href;\n        }\n        catch (error) {\n            throw new Error(`Failed to resolve module URL: ${error.message}`);\n        }\n    }\n    async resolveSharedModuleUrl(packageName, version) {\n        const baseUrl = window.location.origin;\n        return `${baseUrl}/node_modules/.cache/native-federation/esm-packages/${packageName}/index.mjs`;\n    }\n    async loadModule(url) {\n        try {\n            return await import(url);\n        }\n        catch (error) {\n            throw new Error(`Module import failed: ${error.message}`);\n        }\n    }\n    getLoadedModules() {\n        return new Map(this.loadedModules);\n    }\n    async preloadModule(remoteName, modulePath) {\n        const link = document.createElement('link');\n        link.rel = 'modulepreload';\n        link.href = await this.resolveModuleUrl(await this.resolveRemoteUrl(remoteName), modulePath);\n        document.head.appendChild(link);\n    }\n    clearCache() {\n        this.loadedModules.clear();\n        if (this.importMapElement) {\n            this.importMapElement.remove();\n            this.importMapElement = undefined;\n        }\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: ModuleLoader, deps: [{ token: i1.VersionManager }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: ModuleLoader, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: ModuleLoader, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: i1.VersionManager }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLWxvYWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9saWIvcnVudGltZS9tb2R1bGUtbG9hZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0MsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDOzs7QUFLbkQsTUFBTSxPQUFPLFlBQVk7SUFLSDtJQUpaLGFBQWEsR0FBRyxJQUFJLEdBQUcsRUFBc0IsQ0FBQztJQUM5QyxRQUFRLEdBQXVCLEVBQUUsQ0FBQztJQUNsQyxnQkFBZ0IsQ0FBcUI7SUFFN0MsWUFBb0IsY0FBOEI7UUFBOUIsbUJBQWMsR0FBZCxjQUFjLENBQWdCO0lBQUcsQ0FBQztJQUV0RCxLQUFLLENBQUMsVUFBVSxDQUFDLFlBQXFCO1FBQ3BDLElBQUksWUFBWSxFQUFFLENBQUM7WUFDakIsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDeEQsQ0FBQztRQUVELE1BQU0sSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFRCxLQUFLLENBQUMsZ0JBQWdCLENBQVUsVUFBa0IsRUFBRSxVQUFrQjtRQUNwRSxNQUFNLFFBQVEsR0FBRyxHQUFHLFVBQVUsR0FBRyxVQUFVLEVBQUUsQ0FBQztRQUU5QyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDckMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFFLENBQUM7WUFDckQsSUFBSSxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ3RCLE9BQU8sTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FB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QUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFNBQVMsQ0FBQztRQUNwQyxDQUFDO0lBQ0gsQ0FBQzt3R0F0TFUsWUFBWTs0R0FBWixZQUFZLGNBRlgsTUFBTTs7NEZBRVAsWUFBWTtrQkFIeEIsVUFBVTttQkFBQztvQkFDVixVQUFVLEVBQUUsTUFBTTtpQkFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGZWRlcmF0aW9uTWFuaWZlc3QsIE1vZHVsZUluZm8sIFZlcnNpb25TdHJhdGVneSB9IGZyb20gJy4uL3R5cGVzL2ZlZGVyYXRpb24nO1xuaW1wb3J0IHsgVmVyc2lvbk1hbmFnZXIgfSBmcm9tICcuL3ZlcnNpb24tbWFuYWdlcic7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIE1vZHVsZUxvYWRlciB7XG4gIHByaXZhdGUgbG9hZGVkTW9kdWxlcyA9IG5ldyBNYXA8c3RyaW5nLCBNb2R1bGVJbmZvPigpO1xuICBwcml2YXRlIG1hbmlmZXN0OiBGZWRlcmF0aW9uTWFuaWZlc3QgPSB7fTtcbiAgcHJpdmF0ZSBpbXBvcnRNYXBFbGVtZW50PzogSFRNTFNjcmlwdEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSB2ZXJzaW9uTWFuYWdlcjogVmVyc2lvbk1hbmFnZXIpIHt9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZShtYW5pZmVzdFBhdGg/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAobWFuaWZlc3RQYXRoKSB7XG4gICAgICB0aGlzLm1hbmlmZXN0ID0gYXdhaXQgdGhpcy5sb2FkTWFuaWZlc3QobWFuaWZlc3RQYXRoKTtcbiAgICB9XG4gICAgXG4gICAgYXdhaXQgdGhpcy5zZXR1cEltcG9ydE1hcHMoKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWRSZW1vdGVNb2R1bGU8VCA9IGFueT4ocmVtb3RlTmFtZTogc3RyaW5nLCBtb2R1bGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPFQ+IHtcbiAgICBjb25zdCBtb2R1bGVJZCA9IGAke3JlbW90ZU5hbWV9JHttb2R1bGVQYXRofWA7XG4gICAgXG4gICAgaWYgKHRoaXMubG9hZGVkTW9kdWxlcy5oYXMobW9kdWxlSWQpKSB7XG4gICAgICBjb25zdCBtb2R1bGVJbmZvID0gdGhpcy5sb2FkZWRNb2R1bGVzLmdldChtb2R1bGVJZCkhO1xuICAgICAgaWYgKG1vZHVsZUluZm8ubG9hZGVkKSB7XG4gICAgICAgIHJldHVybiBpbXBvcnQobW9kdWxlSW5mby51cmwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJlbW90ZVVybCA9IGF3YWl0IHRoaXMucmVzb2x2ZVJlbW90ZVVybChyZW1vdGVOYW1lKTtcbiAgICBjb25zdCBtb2R1bGVVcmwgPSBhd2FpdCB0aGlzLnJlc29sdmVNb2R1bGVVcmwocmVtb3RlVXJsLCBtb2R1bGVQYXRoKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgbW9kdWxlID0gYXdhaXQgdGhpcy5sb2FkTW9kdWxlKG1vZHVsZVVybCk7XG4gICAgICBcbiAgICAgIHRoaXMubG9hZGVkTW9kdWxlcy5zZXQobW9kdWxlSWQsIHtcbiAgICAgICAgaWQ6IG1vZHVsZUlkLFxuICAgICAgICBuYW1lOiByZW1vdGVOYW1lLFxuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgICAgICB1cmw6IG1vZHVsZVVybCxcbiAgICAgICAgZGVwczogW10sXG4gICAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgICAgc2luZ2xldG9uOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBtb2R1bGU7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCByZW1vdGUgbW9kdWxlICR7cmVtb3RlTmFtZX0ke21vZHVsZVBhdGh9OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgbG9hZFNoYXJlZE1vZHVsZTxUID0gYW55PihwYWNrYWdlTmFtZTogc3RyaW5nLCB2ZXJzaW9uU3RyYXRlZ3k/OiBWZXJzaW9uU3RyYXRlZ3kpOiBQcm9taXNlPFQ+IHtcbiAgICBjb25zdCBtb2R1bGVJbmZvID0gdGhpcy5sb2FkZWRNb2R1bGVzLmdldChwYWNrYWdlTmFtZSk7XG4gICAgXG4gICAgaWYgKG1vZHVsZUluZm8/LnNpbmdsZXRvbiAmJiBtb2R1bGVJbmZvLmxvYWRlZCkge1xuICAgICAgcmV0dXJuIGltcG9ydChtb2R1bGVJbmZvLnVybCk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzb2x2ZWRWZXJzaW9uID0gYXdhaXQgdGhpcy52ZXJzaW9uTWFuYWdlci5yZXNvbHZlVmVyc2lvbihwYWNrYWdlTmFtZSwgdmVyc2lvblN0cmF0ZWd5KTtcbiAgICBjb25zdCBtb2R1bGVVcmwgPSBhd2FpdCB0aGlzLnJlc29sdmVTaGFyZWRNb2R1bGVVcmwocGFja2FnZU5hbWUsIHJlc29sdmVkVmVyc2lvbik7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1vZHVsZSA9IGF3YWl0IHRoaXMubG9hZE1vZHVsZShtb2R1bGVVcmwpO1xuICAgICAgXG4gICAgICB0aGlzLmxvYWRlZE1vZHVsZXMuc2V0KHBhY2thZ2VOYW1lLCB7XG4gICAgICAgIGlkOiBwYWNrYWdlTmFtZSxcbiAgICAgICAgbmFtZTogcGFja2FnZU5hbWUsXG4gICAgICAgIHZlcnNpb246IHJlc29sdmVkVmVyc2lvbixcbiAgICAgICAgdXJsOiBtb2R1bGVVcmwsXG4gICAgICAgIGRlcHM6IFtdLFxuICAgICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICAgIHNpbmdsZXRvbjogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBtb2R1bGU7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgaWYgKHZlcnNpb25TdHJhdGVneT8udHlwZSA9PT0gJ2ZhbGxiYWNrJyAmJiB2ZXJzaW9uU3RyYXRlZ3kuZmFsbGJhY2tWZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRTaGFyZWRNb2R1bGUocGFja2FnZU5hbWUsIHtcbiAgICAgICAgICB0eXBlOiAnZXhhY3QnLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCBzaGFyZWQgbW9kdWxlICR7cGFja2FnZU5hbWV9OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsb2FkTWFuaWZlc3QobWFuaWZlc3RQYXRoOiBzdHJpbmcpOiBQcm9taXNlPEZlZGVyYXRpb25NYW5pZmVzdD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1hbmlmZXN0UGF0aCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS53YXJuKGBbTmF0aXZlIEZlZGVyYXRpb25dIEZhaWxlZCB0byBsb2FkIG1hbmlmZXN0IGZyb20gJHttYW5pZmVzdFBhdGh9OmAsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2V0dXBJbXBvcnRNYXBzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBpbXBvcnRNYXBSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcuL2ltcG9ydG1hcC5qc29uJyk7XG4gICAgICBpZiAoaW1wb3J0TWFwUmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgaW1wb3J0TWFwID0gYXdhaXQgaW1wb3J0TWFwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB0aGlzLmluamVjdEltcG9ydE1hcChpbXBvcnRNYXApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUud2FybignW05hdGl2ZSBGZWRlcmF0aW9uXSBGYWlsZWQgdG8gbG9hZCBpbXBvcnQgbWFwOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaW5qZWN0SW1wb3J0TWFwKGltcG9ydE1hcDogYW55KTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaW1wb3J0TWFwRWxlbWVudCkge1xuICAgICAgdGhpcy5pbXBvcnRNYXBFbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuaW1wb3J0TWFwRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHRoaXMuaW1wb3J0TWFwRWxlbWVudC50eXBlID0gJ2ltcG9ydG1hcCc7XG4gICAgdGhpcy5pbXBvcnRNYXBFbGVtZW50LnRleHRDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoaW1wb3J0TWFwKTtcbiAgICBcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuaW1wb3J0TWFwRWxlbWVudCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlc29sdmVSZW1vdGVVcmwocmVtb3RlTmFtZTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBpZiAodGhpcy5tYW5pZmVzdFtyZW1vdGVOYW1lXSkge1xuICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3RbcmVtb3RlTmFtZV07XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKGBSZW1vdGUgJHtyZW1vdGVOYW1lfSBub3QgZm91bmQgaW4gbWFuaWZlc3RgKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzb2x2ZU1vZHVsZVVybChyZW1vdGVVcmw6IHN0cmluZywgbW9kdWxlUGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZW1vdGVVcmwpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCByZW1vdGUgZW50cnk6IEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHJlbW90ZUVudHJ5ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAoIXJlbW90ZUVudHJ5Lm1ldGFkYXRhPy5leHBvc2VzPy5bbW9kdWxlUGF0aF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNb2R1bGUgJHttb2R1bGVQYXRofSBub3QgZXhwb3NlZCBieSByZW1vdGVgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYmFzZVVybCA9IG5ldyBVUkwocmVtb3RlVXJsKS5vcmlnaW47XG4gICAgICBjb25zdCBleHBvc2VkUGF0aCA9IHJlbW90ZUVudHJ5Lm1ldGFkYXRhLmV4cG9zZXNbbW9kdWxlUGF0aF07XG4gICAgICBcbiAgICAgIHJldHVybiBuZXcgVVJMKGV4cG9zZWRQYXRoLCBiYXNlVXJsKS5ocmVmO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHJlc29sdmUgbW9kdWxlIFVSTDogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzb2x2ZVNoYXJlZE1vZHVsZVVybChwYWNrYWdlTmFtZTogc3RyaW5nLCB2ZXJzaW9uOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGJhc2VVcmwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuICAgIHJldHVybiBgJHtiYXNlVXJsfS9ub2RlX21vZHVsZXMvLmNhY2hlL25hdGl2ZS1mZWRlcmF0aW9uL2VzbS1wYWNrYWdlcy8ke3BhY2thZ2VOYW1lfS9pbmRleC5tanNgO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsb2FkTW9kdWxlKHVybDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGltcG9ydCh1cmwpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTW9kdWxlIGltcG9ydCBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICBnZXRMb2FkZWRNb2R1bGVzKCk6IE1hcDxzdHJpbmcsIE1vZHVsZUluZm8+IHtcbiAgICByZXR1cm4gbmV3IE1hcCh0aGlzLmxvYWRlZE1vZHVsZXMpO1xuICB9XG5cbiAgYXN5bmMgcHJlbG9hZE1vZHVsZShyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgbGluay5yZWwgPSAnbW9kdWxlcHJlbG9hZCc7XG4gICAgbGluay5ocmVmID0gYXdhaXQgdGhpcy5yZXNvbHZlTW9kdWxlVXJsKFxuICAgICAgYXdhaXQgdGhpcy5yZXNvbHZlUmVtb3RlVXJsKHJlbW90ZU5hbWUpLFxuICAgICAgbW9kdWxlUGF0aFxuICAgICk7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgfVxuXG4gIGNsZWFyQ2FjaGUoKTogdm9pZCB7XG4gICAgdGhpcy5sb2FkZWRNb2R1bGVzLmNsZWFyKCk7XG4gICAgaWYgKHRoaXMuaW1wb3J0TWFwRWxlbWVudCkge1xuICAgICAgdGhpcy5pbXBvcnRNYXBFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgdGhpcy5pbXBvcnRNYXBFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufSJdfQ==","customTransformCache":false,"dependencies":["@angular/core","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/version-manager.mjs"],"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/module-loader.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Injectable } from '@angular/core';\nimport { VersionManager } from './version-manager';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./version-manager\";\nexport class ModuleLoader {\n    versionManager;\n    loadedModules = new Map();\n    manifest = {};\n    importMapElement;\n    constructor(versionManager) {\n        this.versionManager = versionManager;\n    }\n    async initialize(manifestPath) {\n        if (manifestPath) {\n            this.manifest = await this.loadManifest(manifestPath);\n        }\n        await this.setupImportMaps();\n    }\n    async loadRemoteModule(remoteName, modulePath) {\n        const moduleId = `${remoteName}${modulePath}`;\n        if (this.loadedModules.has(moduleId)) {\n            const moduleInfo = this.loadedModules.get(moduleId);\n            if (moduleInfo.loaded) {\n                return import(moduleInfo.url);\n            }\n        }\n        const remoteUrl = await this.resolveRemoteUrl(remoteName);\n        const moduleUrl = await this.resolveModuleUrl(remoteUrl, modulePath);\n        try {\n            const module = await this.loadModule(moduleUrl);\n            this.loadedModules.set(moduleId, {\n                id: moduleId,\n                name: remoteName,\n                version: '1.0.0',\n                url: moduleUrl,\n                deps: [],\n                loaded: true,\n                singleton: false\n            });\n            return module;\n        }\n        catch (error) {\n            throw new Error(`Failed to load remote module ${remoteName}${modulePath}: ${error.message}`);\n        }\n    }\n    async loadSharedModule(packageName, versionStrategy) {\n        const moduleInfo = this.loadedModules.get(packageName);\n        if (moduleInfo?.singleton && moduleInfo.loaded) {\n            return import(moduleInfo.url);\n        }\n        const resolvedVersion = await this.versionManager.resolveVersion(packageName, versionStrategy);\n        const moduleUrl = await this.resolveSharedModuleUrl(packageName, resolvedVersion);\n        try {\n            const module = await this.loadModule(moduleUrl);\n            this.loadedModules.set(packageName, {\n                id: packageName,\n                name: packageName,\n                version: resolvedVersion,\n                url: moduleUrl,\n                deps: [],\n                loaded: true,\n                singleton: true\n            });\n            return module;\n        }\n        catch (error) {\n            if (versionStrategy?.type === 'fallback' && versionStrategy.fallbackVersion) {\n                return this.loadSharedModule(packageName, {\n                    type: 'exact',\n                });\n            }\n            throw new Error(`Failed to load shared module ${packageName}: ${error.message}`);\n        }\n    }\n    async loadManifest(manifestPath) {\n        try {\n            const response = await fetch(manifestPath);\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n            return await response.json();\n        }\n        catch (error) {\n            console.warn(`[Native Federation] Failed to load manifest from ${manifestPath}:`, error.message);\n            return {};\n        }\n    }\n    async setupImportMaps() {\n        try {\n            const importMapResponse = await fetch('./importmap.json');\n            if (importMapResponse.ok) {\n                const importMap = await importMapResponse.json();\n                this.injectImportMap(importMap);\n            }\n        }\n        catch (error) {\n            console.warn('[Native Federation] Failed to load import map:', error.message);\n        }\n    }\n    injectImportMap(importMap) {\n        if (this.importMapElement) {\n            this.importMapElement.remove();\n        }\n        this.importMapElement = document.createElement('script');\n        this.importMapElement.type = 'importmap';\n        this.importMapElement.textContent = JSON.stringify(importMap);\n        document.head.appendChild(this.importMapElement);\n    }\n    async resolveRemoteUrl(remoteName) {\n        if (this.manifest[remoteName]) {\n            return this.manifest[remoteName];\n        }\n        throw new Error(`Remote ${remoteName} not found in manifest`);\n    }\n    async resolveModuleUrl(remoteUrl, modulePath) {\n        try {\n            const response = await fetch(remoteUrl);\n            if (!response.ok) {\n                throw new Error(`Failed to fetch remote entry: HTTP ${response.status}`);\n            }\n            const remoteEntry = await response.json();\n            if (!remoteEntry.metadata?.exposes?.[modulePath]) {\n                throw new Error(`Module ${modulePath} not exposed by remote`);\n            }\n            const baseUrl = new URL(remoteUrl).origin;\n            const exposedPath = remoteEntry.metadata.exposes[modulePath];\n            return new URL(exposedPath, baseUrl).href;\n        }\n        catch (error) {\n            throw new Error(`Failed to resolve module URL: ${error.message}`);\n        }\n    }\n    async resolveSharedModuleUrl(packageName, version) {\n        const baseUrl = window.location.origin;\n        return `${baseUrl}/node_modules/.cache/native-federation/esm-packages/${packageName}/index.mjs`;\n    }\n    async loadModule(url) {\n        try {\n            return await import(url);\n        }\n        catch (error) {\n            throw new Error(`Module import failed: ${error.message}`);\n        }\n    }\n    getLoadedModules() {\n        return new Map(this.loadedModules);\n    }\n    async preloadModule(remoteName, modulePath) {\n        const link = document.createElement('link');\n        link.rel = 'modulepreload';\n        link.href = await this.resolveModuleUrl(await this.resolveRemoteUrl(remoteName), modulePath);\n        document.head.appendChild(link);\n    }\n    clearCache() {\n        this.loadedModules.clear();\n        if (this.importMapElement) {\n            this.importMapElement.remove();\n            this.importMapElement = undefined;\n        }\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: ModuleLoader, deps: [{ token: i1.VersionManager }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: ModuleLoader, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: ModuleLoader, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: i1.VersionManager }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLWxvYWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9saWIvcnVudGltZS9tb2R1bGUtbG9hZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0MsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDOzs7QUFLbkQsTUFBTSxPQUFPLFlBQVk7SUFLSDtJQUpaLGFBQWEsR0FBRyxJQUFJLEdBQUcsRUFBc0IsQ0FBQztJQUM5QyxRQUFRLEdBQXVCLEVBQUUsQ0FBQztJQUNsQyxnQkFBZ0IsQ0FBcUI7SUFFN0MsWUFBb0IsY0FBOEI7UUFBOUIsbUJBQWMsR0FBZCxjQUFjLENBQWdCO0lBQUcsQ0FBQztJQUV0RCxLQUFLLENBQUMsVUFBVSxDQUFDLFlBQXFCO1FBQ3BDLElBQUksWUFBWSxFQUFFLENBQUM7WUFDakIsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDeEQsQ0FBQztRQUVELE1BQU0sSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFRCxLQUFLLENBQUMsZ0JBQWdCLENBQVUsVUFBa0IsRUFBRSxVQUFrQjtRQUNwRSxNQUFNLFFBQVEsR0FBRyxHQUFHLFVBQVUsR0FBRyxVQUFVLEVBQUUsQ0FBQztRQUU5QyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDckMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFFLENBQUM7WUFDckQsSUFBSSxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ3RCLE9BQU8sTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FB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QUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFNBQVMsQ0FBQztRQUNwQyxDQUFDO0lBQ0gsQ0FBQzt3R0F0TFUsWUFBWTs0R0FBWixZQUFZLGNBRlgsTUFBTTs7NEZBRVAsWUFBWTtrQkFIeEIsVUFBVTttQkFBQztvQkFDVixVQUFVLEVBQUUsTUFBTTtpQkFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGZWRlcmF0aW9uTWFuaWZlc3QsIE1vZHVsZUluZm8sIFZlcnNpb25TdHJhdGVneSB9IGZyb20gJy4uL3R5cGVzL2ZlZGVyYXRpb24nO1xuaW1wb3J0IHsgVmVyc2lvbk1hbmFnZXIgfSBmcm9tICcuL3ZlcnNpb24tbWFuYWdlcic7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIE1vZHVsZUxvYWRlciB7XG4gIHByaXZhdGUgbG9hZGVkTW9kdWxlcyA9IG5ldyBNYXA8c3RyaW5nLCBNb2R1bGVJbmZvPigpO1xuICBwcml2YXRlIG1hbmlmZXN0OiBGZWRlcmF0aW9uTWFuaWZlc3QgPSB7fTtcbiAgcHJpdmF0ZSBpbXBvcnRNYXBFbGVtZW50PzogSFRNTFNjcmlwdEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSB2ZXJzaW9uTWFuYWdlcjogVmVyc2lvbk1hbmFnZXIpIHt9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZShtYW5pZmVzdFBhdGg/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAobWFuaWZlc3RQYXRoKSB7XG4gICAgICB0aGlzLm1hbmlmZXN0ID0gYXdhaXQgdGhpcy5sb2FkTWFuaWZlc3QobWFuaWZlc3RQYXRoKTtcbiAgICB9XG4gICAgXG4gICAgYXdhaXQgdGhpcy5zZXR1cEltcG9ydE1hcHMoKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWRSZW1vdGVNb2R1bGU8VCA9IGFueT4ocmVtb3RlTmFtZTogc3RyaW5nLCBtb2R1bGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPFQ+IHtcbiAgICBjb25zdCBtb2R1bGVJZCA9IGAke3JlbW90ZU5hbWV9JHttb2R1bGVQYXRofWA7XG4gICAgXG4gICAgaWYgKHRoaXMubG9hZGVkTW9kdWxlcy5oYXMobW9kdWxlSWQpKSB7XG4gICAgICBjb25zdCBtb2R1bGVJbmZvID0gdGhpcy5sb2FkZWRNb2R1bGVzLmdldChtb2R1bGVJZCkhO1xuICAgICAgaWYgKG1vZHVsZUluZm8ubG9hZGVkKSB7XG4gICAgICAgIHJldHVybiBpbXBvcnQobW9kdWxlSW5mby51cmwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJlbW90ZVVybCA9IGF3YWl0IHRoaXMucmVzb2x2ZVJlbW90ZVVybChyZW1vdGVOYW1lKTtcbiAgICBjb25zdCBtb2R1bGVVcmwgPSBhd2FpdCB0aGlzLnJlc29sdmVNb2R1bGVVcmwocmVtb3RlVXJsLCBtb2R1bGVQYXRoKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgbW9kdWxlID0gYXdhaXQgdGhpcy5sb2FkTW9kdWxlKG1vZHVsZVVybCk7XG4gICAgICBcbiAgICAgIHRoaXMubG9hZGVkTW9kdWxlcy5zZXQobW9kdWxlSWQsIHtcbiAgICAgICAgaWQ6IG1vZHVsZUlkLFxuICAgICAgICBuYW1lOiByZW1vdGVOYW1lLFxuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgICAgICB1cmw6IG1vZHVsZVVybCxcbiAgICAgICAgZGVwczogW10sXG4gICAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgICAgc2luZ2xldG9uOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBtb2R1bGU7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCByZW1vdGUgbW9kdWxlICR7cmVtb3RlTmFtZX0ke21vZHVsZVBhdGh9OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgbG9hZFNoYXJlZE1vZHVsZTxUID0gYW55PihwYWNrYWdlTmFtZTogc3RyaW5nLCB2ZXJzaW9uU3RyYXRlZ3k/OiBWZXJzaW9uU3RyYXRlZ3kpOiBQcm9taXNlPFQ+IHtcbiAgICBjb25zdCBtb2R1bGVJbmZvID0gdGhpcy5sb2FkZWRNb2R1bGVzLmdldChwYWNrYWdlTmFtZSk7XG4gICAgXG4gICAgaWYgKG1vZHVsZUluZm8/LnNpbmdsZXRvbiAmJiBtb2R1bGVJbmZvLmxvYWRlZCkge1xuICAgICAgcmV0dXJuIGltcG9ydChtb2R1bGVJbmZvLnVybCk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzb2x2ZWRWZXJzaW9uID0gYXdhaXQgdGhpcy52ZXJzaW9uTWFuYWdlci5yZXNvbHZlVmVyc2lvbihwYWNrYWdlTmFtZSwgdmVyc2lvblN0cmF0ZWd5KTtcbiAgICBjb25zdCBtb2R1bGVVcmwgPSBhd2FpdCB0aGlzLnJlc29sdmVTaGFyZWRNb2R1bGVVcmwocGFja2FnZU5hbWUsIHJlc29sdmVkVmVyc2lvbik7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1vZHVsZSA9IGF3YWl0IHRoaXMubG9hZE1vZHVsZShtb2R1bGVVcmwpO1xuICAgICAgXG4gICAgICB0aGlzLmxvYWRlZE1vZHVsZXMuc2V0KHBhY2thZ2VOYW1lLCB7XG4gICAgICAgIGlkOiBwYWNrYWdlTmFtZSxcbiAgICAgICAgbmFtZTogcGFja2FnZU5hbWUsXG4gICAgICAgIHZlcnNpb246IHJlc29sdmVkVmVyc2lvbixcbiAgICAgICAgdXJsOiBtb2R1bGVVcmwsXG4gICAgICAgIGRlcHM6IFtdLFxuICAgICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICAgIHNpbmdsZXRvbjogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBtb2R1bGU7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgaWYgKHZlcnNpb25TdHJhdGVneT8udHlwZSA9PT0gJ2ZhbGxiYWNrJyAmJiB2ZXJzaW9uU3RyYXRlZ3kuZmFsbGJhY2tWZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRTaGFyZWRNb2R1bGUocGFja2FnZU5hbWUsIHtcbiAgICAgICAgICB0eXBlOiAnZXhhY3QnLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCBzaGFyZWQgbW9kdWxlICR7cGFja2FnZU5hbWV9OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsb2FkTWFuaWZlc3QobWFuaWZlc3RQYXRoOiBzdHJpbmcpOiBQcm9taXNlPEZlZGVyYXRpb25NYW5pZmVzdD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1hbmlmZXN0UGF0aCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS53YXJuKGBbTmF0aXZlIEZlZGVyYXRpb25dIEZhaWxlZCB0byBsb2FkIG1hbmlmZXN0IGZyb20gJHttYW5pZmVzdFBhdGh9OmAsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2V0dXBJbXBvcnRNYXBzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBpbXBvcnRNYXBSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcuL2ltcG9ydG1hcC5qc29uJyk7XG4gICAgICBpZiAoaW1wb3J0TWFwUmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgaW1wb3J0TWFwID0gYXdhaXQgaW1wb3J0TWFwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB0aGlzLmluamVjdEltcG9ydE1hcChpbXBvcnRNYXApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUud2FybignW05hdGl2ZSBGZWRlcmF0aW9uXSBGYWlsZWQgdG8gbG9hZCBpbXBvcnQgbWFwOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaW5qZWN0SW1wb3J0TWFwKGltcG9ydE1hcDogYW55KTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaW1wb3J0TWFwRWxlbWVudCkge1xuICAgICAgdGhpcy5pbXBvcnRNYXBFbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuaW1wb3J0TWFwRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHRoaXMuaW1wb3J0TWFwRWxlbWVudC50eXBlID0gJ2ltcG9ydG1hcCc7XG4gICAgdGhpcy5pbXBvcnRNYXBFbGVtZW50LnRleHRDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoaW1wb3J0TWFwKTtcbiAgICBcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuaW1wb3J0TWFwRWxlbWVudCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlc29sdmVSZW1vdGVVcmwocmVtb3RlTmFtZTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBpZiAodGhpcy5tYW5pZmVzdFtyZW1vdGVOYW1lXSkge1xuICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3RbcmVtb3RlTmFtZV07XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKGBSZW1vdGUgJHtyZW1vdGVOYW1lfSBub3QgZm91bmQgaW4gbWFuaWZlc3RgKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzb2x2ZU1vZHVsZVVybChyZW1vdGVVcmw6IHN0cmluZywgbW9kdWxlUGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZW1vdGVVcmwpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCByZW1vdGUgZW50cnk6IEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHJlbW90ZUVudHJ5ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAoIXJlbW90ZUVudHJ5Lm1ldGFkYXRhPy5leHBvc2VzPy5bbW9kdWxlUGF0aF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNb2R1bGUgJHttb2R1bGVQYXRofSBub3QgZXhwb3NlZCBieSByZW1vdGVgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYmFzZVVybCA9IG5ldyBVUkwocmVtb3RlVXJsKS5vcmlnaW47XG4gICAgICBjb25zdCBleHBvc2VkUGF0aCA9IHJlbW90ZUVudHJ5Lm1ldGFkYXRhLmV4cG9zZXNbbW9kdWxlUGF0aF07XG4gICAgICBcbiAgICAgIHJldHVybiBuZXcgVVJMKGV4cG9zZWRQYXRoLCBiYXNlVXJsKS5ocmVmO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHJlc29sdmUgbW9kdWxlIFVSTDogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzb2x2ZVNoYXJlZE1vZHVsZVVybChwYWNrYWdlTmFtZTogc3RyaW5nLCB2ZXJzaW9uOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGJhc2VVcmwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuICAgIHJldHVybiBgJHtiYXNlVXJsfS9ub2RlX21vZHVsZXMvLmNhY2hlL25hdGl2ZS1mZWRlcmF0aW9uL2VzbS1wYWNrYWdlcy8ke3BhY2thZ2VOYW1lfS9pbmRleC5tanNgO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsb2FkTW9kdWxlKHVybDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGltcG9ydCh1cmwpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTW9kdWxlIGltcG9ydCBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICBnZXRMb2FkZWRNb2R1bGVzKCk6IE1hcDxzdHJpbmcsIE1vZHVsZUluZm8+IHtcbiAgICByZXR1cm4gbmV3IE1hcCh0aGlzLmxvYWRlZE1vZHVsZXMpO1xuICB9XG5cbiAgYXN5bmMgcHJlbG9hZE1vZHVsZShyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgbGluay5yZWwgPSAnbW9kdWxlcHJlbG9hZCc7XG4gICAgbGluay5ocmVmID0gYXdhaXQgdGhpcy5yZXNvbHZlTW9kdWxlVXJsKFxuICAgICAgYXdhaXQgdGhpcy5yZXNvbHZlUmVtb3RlVXJsKHJlbW90ZU5hbWUpLFxuICAgICAgbW9kdWxlUGF0aFxuICAgICk7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgfVxuXG4gIGNsZWFyQ2FjaGUoKTogdm9pZCB7XG4gICAgdGhpcy5sb2FkZWRNb2R1bGVzLmNsZWFyKCk7XG4gICAgaWYgKHRoaXMuaW1wb3J0TWFwRWxlbWVudCkge1xuICAgICAgdGhpcy5pbXBvcnRNYXBFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgdGhpcy5pbXBvcnRNYXBFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufSJdfQ==","originalSourcemap":{"version":3,"file":"module-loader.js","sourceRoot":"","sources":["../../../../../projects/native-federation/src/lib/runtime/module-loader.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[19,0,0,19],[21,0,0,21],[27,0,0,27],[42,0,0,42],[43,0,0,43]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[23,0,2,23],[25,0,2,25],[31,0,2,31],[50,0,2,50],[51,0,2,51]],[],[],[[0,0,7,0],[6,0,7,6],[13,0,7,13],[25,0,7,25]],[[4,0,12,22]],[[4,0,8,10],[17,0,8,23],[20,0,8,26],[24,0,8,30],[27,0,8,33],[29,0,8,55],[30,0,8,56]],[[4,0,9,10],[12,0,9,18],[15,0,9,41],[17,0,9,43],[18,0,9,44]],[[4,0,10,10],[20,0,10,26],[21,0,10,47]],[[4,0,12,2],[16,0,12,22],[30,0,12,52]],[[8,0,12,22],[27,0,12,36],[30,0,12,22],[44,0,12,36],[45,0,12,52]],[[4,0,12,55],[5,0,12,56]],[[4,0,14,2],[9,0,14,7],[10,0,14,8],[20,0,14,18],[21,0,14,19],[33,0,14,40]],[[8,0,15,4],[12,0,15,8],[24,0,15,20],[26,0,15,22],[27,0,15,23]],[[12,0,16,6],[16,0,16,10],[17,0,16,11],[25,0,16,19],[28,0,16,22],[34,0,16,28],[38,0,16,32],[39,0,16,33],[51,0,16,45],[52,0,16,46],[64,0,16,58],[65,0,16,59],[66,0,16,60]],[[8,0,17,4],[9,0,17,5]],[[8,0,19,4],[14,0,19,10],[18,0,19,14],[19,0,19,15],[34,0,19,30],[36,0,19,32],[37,0,19,33]],[[4,0,20,2],[5,0,20,3]],[[4,0,22,2],[9,0,22,7],[10,0,22,8],[26,0,22,24],[27,0,22,34],[37,0,22,52],[39,0,22,54],[49,0,22,72]],[[8,0,23,4],[14,0,23,10],[22,0,23,18],[25,0,23,21],[28,0,23,24],[38,0,23,34],[41,0,23,37],[51,0,23,47],[53,0,23,49],[54,0,23,50]],[[8,0,25,4],[12,0,25,8],[16,0,25,12],[17,0,25,13],[30,0,25,26],[31,0,25,27],[34,0,25,30],[35,0,25,31],[43,0,25,39],[44,0,25,40],[46,0,25,42],[47,0,25,43]],[[12,0,26,6],[18,0,26,12],[28,0,26,22],[31,0,26,25],[35,0,26,29],[36,0,26,30],[49,0,26,43],[50,0,26,44],[53,0,26,47],[54,0,26,48],[62,0,26,56],[63,0,26,58],[64,0,26,59]],[[12,0,27,6],[16,0,27,10],[26,0,27,20],[27,0,27,21],[33,0,27,27],[35,0,27,29],[36,0,27,30]],[[16,0,28,8],[23,0,28,15],[29,0,28,21],[30,0,28,22],[40,0,28,32],[41,0,28,33],[44,0,28,36],[45,0,28,37],[46,0,28,38]],[[12,0,29,6],[13,0,29,7]],[[8,0,30,4],[9,0,30,5]],[[8,0,32,4],[14,0,32,10],[23,0,32,19],[26,0,32,22],[32,0,32,28],[36,0,32,32],[37,0,32,33],[53,0,32,49],[54,0,32,50],[64,0,32,60],[65,0,32,61],[66,0,32,62]],[[8,0,33,4],[14,0,33,10],[23,0,33,19],[26,0,33,22],[32,0,33,28],[36,0,33,32],[37,0,33,33],[53,0,33,49],[54,0,33,50],[63,0,33,59],[65,0,33,61],[75,0,33,71],[76,0,33,72],[77,0,33,73]],[[8,0,35,4],[12,0,35,8],[13,0,35,9]],[[12,0,36,6],[18,0,36,12],[24,0,36,18],[27,0,36,21],[33,0,36,27],[37,0,36,31],[38,0,36,32],[48,0,36,42],[49,0,36,43],[58,0,36,52],[59,0,36,53],[60,0,36,54]],[[12,0,38,6],[16,0,38,10],[17,0,38,11],[30,0,38,24],[31,0,38,25],[34,0,38,28],[35,0,38,29],[43,0,38,37],[45,0,38,39]],[[16,0,39,8],[18,0,39,10],[20,0,39,12],[28,0,39,20]],[[16,0,40,8],[20,0,40,12],[22,0,40,14],[32,0,40,24]],[[16,0,41,8],[23,0,41,15],[25,0,41,17],[32,0,41,24]],[[16,0,42,8],[19,0,42,11],[21,0,42,13],[30,0,42,22]],[[16,0,43,8],[20,0,43,12],[22,0,43,14],[24,0,43,16]],[[16,0,44,8],[22,0,44,14],[24,0,44,16],[28,0,44,20]],[[16,0,45,8],[25,0,45,17],[27,0,45,19],[32,0,45,24]],[[13,0,46,7],[14,0,46,8],[15,0,46,9]],[[12,0,48,6],[19,0,48,13],[25,0,48,19],[26,0,48,20]],[[8,0,49,4],[9,0,49,5]],[[8,0,49,6],[15,0,49,13],[20,0,49,23],[22,0,49,25],[23,0,49,26]],[[12,0,50,6],[18,0,50,12],[22,0,50,16],[27,0,50,21],[28,0,50,22],[60,0,50,54],[70,0,50,64],[73,0,50,67],[83,0,50,77],[88,0,50,82],[93,0,50,87],[94,0,50,88],[101,0,50,95],[103,0,50,97],[104,0,50,98],[105,0,50,99]],[[8,0,51,4],[9,0,51,5]],[[4,0,52,2],[5,0,52,3]],[[4,0,54,2],[9,0,54,7],[10,0,54,8],[26,0,54,24],[27,0,54,34],[38,0,54,53],[40,0,54,55],[55,0,54,88]],[[8,0,55,4],[14,0,55,10],[24,0,55,20],[27,0,55,23],[31,0,55,27],[32,0,55,28],[45,0,55,41],[46,0,55,42],[49,0,55,45],[50,0,55,46],[61,0,55,57],[62,0,55,58],[63,0,55,59]],[[8,0,57,4],[12,0,57,8],[22,0,57,18],[24,0,57,20],[33,0,57,29],[37,0,57,33],[47,0,57,43],[48,0,57,44],[54,0,57,50],[56,0,57,52],[57,0,57,53]],[[12,0,58,6],[19,0,58,13],[25,0,58,19],[26,0,58,20],[36,0,58,30],[37,0,58,31],[40,0,58,34],[41,0,58,35],[42,0,58,36]],[[8,0,59,4],[9,0,59,5]],[[8,0,61,4],[14,0,61,10],[29,0,61,25],[32,0,61,28],[38,0,61,34],[42,0,61,38],[43,0,61,39],[57,0,61,53],[58,0,61,54],[72,0,61,68],[73,0,61,69],[84,0,61,80],[86,0,61,82],[101,0,61,97],[102,0,61,98],[103,0,61,99]],[[8,0,62,4],[14,0,62,10],[23,0,62,19],[26,0,62,22],[32,0,62,28],[36,0,62,32],[37,0,62,33],[59,0,62,55],[60,0,62,56],[71,0,62,67],[73,0,62,69],[88,0,62,84],[89,0,62,85],[90,0,62,86]],[[8,0,64,4],[12,0,64,8],[13,0,64,9]],[[12,0,65,6],[18,0,65,12],[24,0,65,18],[27,0,65,21],[33,0,65,27],[37,0,65,31],[38,0,65,32],[48,0,65,42],[49,0,65,43],[58,0,65,52],[59,0,65,53],[60,0,65,54]],[[12,0,67,6],[16,0,67,10],[17,0,67,11],[30,0,67,24],[31,0,67,25],[34,0,67,28],[35,0,67,29],[46,0,67,40],[48,0,67,42]],[[16,0,68,8],[18,0,68,10],[20,0,68,12],[31,0,68,23]],[[16,0,69,8],[20,0,69,12],[22,0,69,14],[33,0,69,25]],[[16,0,70,8],[23,0,70,15],[25,0,70,17],[40,0,70,32]],[[16,0,71,8],[19,0,71,11],[21,0,71,13],[30,0,71,22]],[[16,0,72,8],[20,0,72,12],[22,0,72,14],[24,0,72,16]],[[16,0,73,8],[22,0,73,14],[24,0,73,16],[28,0,73,20]],[[16,0,74,8],[25,0,74,17],[27,0,74,19],[31,0,74,23]],[[13,0,75,7],[14,0,75,8],[15,0,75,9]],[[12,0,77,6],[19,0,77,13],[25,0,77,19],[26,0,77,20]],[[8,0,78,4],[9,0,78,5]],[[8,0,78,6],[15,0,78,13],[20,0,78,23],[22,0,78,25],[23,0,78,26]],[[12,0,79,6],[16,0,79,10],[31,0,79,25],[33,0,79,27],[37,0,79,31],[42,0,79,36],[52,0,79,46],[56,0,79,50],[71,0,79,65],[72,0,79,66],[87,0,79,81],[89,0,79,83],[90,0,79,84]],[[16,0,80,8],[23,0,80,15],[27,0,80,19],[28,0,80,20],[44,0,80,36],[45,0,80,37],[56,0,80,48],[58,0,80,50]],[[20,0,81,10],[24,0,81,14],[26,0,81,16],[33,0,81,23]],[[17,0,82,9],[18,0,82,10],[19,0,82,11]],[[12,0,83,6],[13,0,83,7]],[[12,0,85,6],[18,0,85,12],[22,0,85,16],[27,0,85,21],[28,0,85,22],[60,0,85,54],[71,0,85,65],[76,0,85,70],[81,0,85,75],[82,0,85,76],[89,0,85,83],[91,0,85,85],[92,0,85,86],[93,0,85,87]],[[8,0,86,4],[9,0,86,5]],[[4,0,87,2],[5,0,87,3]],[[4,0,89,10],[9,0,89,15],[10,0,89,16],[22,0,89,28],[23,0,89,29],[35,0,89,49]],[[8,0,90,4],[12,0,90,8],[13,0,90,9]],[[12,0,91,6],[18,0,91,12],[26,0,91,20],[29,0,91,23],[35,0,91,29],[40,0,91,34],[41,0,91,35],[53,0,91,47],[54,0,91,48],[55,0,91,49]],[[12,0,92,6],[16,0,92,10],[17,0,92,11],[25,0,92,19],[26,0,92,20],[28,0,92,22],[30,0,92,24],[31,0,92,25]],[[16,0,93,8],[22,0,93,14],[26,0,93,18],[31,0,93,23],[32,0,93,24],[40,0,93,32],[48,0,93,40],[49,0,93,41],[55,0,93,47],[60,0,93,52],[68,0,93,60],[69,0,93,61],[79,0,93,71],[81,0,93,73],[82,0,93,74],[83,0,93,75]],[[12,0,94,6],[13,0,94,7]],[[12,0,95,6],[19,0,95,13],[25,0,95,19],[33,0,95,27],[34,0,95,28],[38,0,95,32],[40,0,95,34],[41,0,95,35]],[[8,0,96,4],[9,0,96,5]],[[8,0,96,6],[15,0,96,13],[20,0,96,23],[22,0,96,25],[23,0,96,26]],[[12,0,97,6],[19,0,97,13],[20,0,97,14],[24,0,97,18],[25,0,97,19],[77,0,97,71],[89,0,97,83],[92,0,97,86],[94,0,97,88],[99,0,97,93],[100,0,97,94],[107,0,97,101],[108,0,97,102],[109,0,97,103]],[[12,0,98,6],[19,0,98,13],[21,0,98,15],[22,0,98,16]],[[8,0,99,4],[9,0,99,5]],[[4,0,100,2],[5,0,100,3]],[[4,0,102,10],[9,0,102,15],[10,0,102,16],[25,0,102,31]],[[8,0,103,4],[12,0,103,8],[13,0,103,9]],[[12,0,104,6],[18,0,104,12],[35,0,104,29],[38,0,104,32],[44,0,104,38],[49,0,104,43],[50,0,104,44],[68,0,104,62],[69,0,104,63],[70,0,104,64]],[[12,0,105,6],[16,0,105,10],[33,0,105,27],[34,0,105,28],[36,0,105,30],[38,0,105,32],[39,0,105,33]],[[16,0,106,8],[22,0,106,14],[31,0,106,23],[34,0,106,26],[40,0,106,32],[57,0,106,49],[58,0,106,50],[62,0,106,54],[64,0,106,56],[65,0,106,57]],[[16,0,107,8],[20,0,107,12],[21,0,107,13],[36,0,107,28],[37,0,107,29],[46,0,107,38],[47,0,107,39],[48,0,107,40]],[[12,0,108,6],[13,0,108,7]],[[8,0,109,4],[9,0,109,5]],[[8,0,109,6],[15,0,109,13],[20,0,109,23],[22,0,109,25],[23,0,109,26]],[[12,0,110,6],[19,0,110,13],[20,0,110,14],[24,0,110,18],[25,0,110,19],[73,0,110,67],[75,0,110,69],[80,0,110,74],[81,0,110,75],[88,0,110,82],[89,0,110,83],[90,0,110,84]],[[8,0,111,4],[9,0,111,5]],[[4,0,112,2],[5,0,112,3]],[[4,0,114,10],[19,0,114,25],[20,0,114,26],[29,0,114,40]],[[8,0,115,4],[12,0,115,8],[16,0,115,12],[17,0,115,13],[33,0,115,29],[35,0,115,31],[36,0,115,32]],[[12,0,116,6],[16,0,116,10],[17,0,116,11],[33,0,116,27],[34,0,116,28],[40,0,116,34],[42,0,116,36],[43,0,116,37]],[[8,0,117,4],[9,0,117,5]],[[8,0,119,4],[12,0,119,8],[13,0,119,9],[29,0,119,25],[32,0,119,28],[40,0,119,36],[41,0,119,37],[54,0,119,50],[55,0,119,51],[63,0,119,59],[64,0,119,60],[65,0,119,61]],[[8,0,120,4],[12,0,120,8],[13,0,120,9],[29,0,120,25],[30,0,120,26],[34,0,120,30],[37,0,120,33],[48,0,120,44],[49,0,120,45]],[[8,0,121,4],[12,0,121,8],[13,0,121,9],[29,0,121,25],[30,0,121,26],[41,0,121,37],[44,0,121,40],[48,0,121,44],[49,0,121,45],[58,0,121,54],[59,0,121,55],[68,0,121,64],[69,0,121,65],[70,0,121,66]],[[8,0,123,4],[16,0,123,12],[17,0,123,13],[21,0,123,17],[22,0,123,18],[33,0,123,29],[34,0,123,30],[38,0,123,34],[39,0,123,35],[55,0,123,51],[56,0,123,52],[57,0,123,53]],[[4,0,124,2],[5,0,124,3]],[[4,0,126,10],[9,0,126,15],[10,0,126,16],[26,0,126,32],[27,0,126,33],[37,0,126,51]],[[8,0,127,4],[12,0,127,8],[16,0,127,12],[17,0,127,13],[25,0,127,21],[26,0,127,22],[36,0,127,32],[37,0,127,33],[39,0,127,35],[40,0,127,36]],[[12,0,128,6],[19,0,128,13],[23,0,128,17],[24,0,128,18],[32,0,128,26],[33,0,128,27],[43,0,128,37],[44,0,128,38],[45,0,128,39]],[[8,0,129,4],[9,0,129,5]],[[8,0,131,4],[14,0,131,10],[18,0,131,14],[23,0,131,19],[24,0,131,20],[34,0,131,30],[44,0,131,40],[68,0,131,64],[69,0,131,65],[70,0,131,66]],[[4,0,132,2],[5,0,132,3]],[[4,0,134,10],[9,0,134,15],[10,0,134,16],[26,0,134,32],[27,0,134,33],[36,0,134,50],[38,0,134,52],[48,0,134,70]],[[8,0,135,4],[12,0,135,8],[13,0,135,9]],[[12,0,136,6],[18,0,136,12],[26,0,136,20],[29,0,136,23],[35,0,136,29],[40,0,136,34],[41,0,136,35],[50,0,136,44],[51,0,136,45],[52,0,136,46]],[[12,0,137,6],[16,0,137,10],[17,0,137,11],[25,0,137,19],[26,0,137,20],[28,0,137,22],[30,0,137,24],[31,0,137,25]],[[16,0,138,8],[22,0,138,14],[26,0,138,18],[31,0,138,23],[32,0,138,24],[70,0,138,62],[78,0,138,70],[79,0,138,71],[85,0,138,77],[87,0,138,79],[88,0,138,80],[89,0,138,81]],[[12,0,139,6],[13,0,139,7]],[[12,0,141,6],[18,0,141,12],[29,0,141,23],[32,0,141,26],[38,0,141,32],[46,0,141,40],[47,0,141,41],[51,0,141,45],[53,0,141,47],[54,0,141,48]],[[12,0,143,6],[16,0,143,10],[17,0,143,11],[28,0,143,22],[29,0,143,23],[37,0,143,31],[39,0,143,33],[46,0,143,40],[48,0,143,42],[49,0,143,43],[59,0,143,53],[60,0,143,54],[62,0,143,56],[63,0,143,57]],[[16,0,144,8],[22,0,144,14],[26,0,144,18],[31,0,144,23],[32,0,144,24],[42,0,144,34],[52,0,144,44],[76,0,144,68],[77,0,144,69],[78,0,144,70]],[[12,0,145,6],[13,0,145,7]],[[12,0,147,6],[18,0,147,12],[25,0,147,19],[28,0,147,22],[32,0,147,26],[35,0,147,29],[36,0,147,30],[45,0,147,39],[46,0,147,40],[47,0,147,41],[53,0,147,47],[54,0,147,48]],[[12,0,148,6],[18,0,148,12],[29,0,148,23],[32,0,148,26],[43,0,148,37],[44,0,148,38],[52,0,148,46],[53,0,148,47],[60,0,148,54],[61,0,148,55],[71,0,148,65],[72,0,148,66],[73,0,148,67]],[[12,0,150,6],[19,0,150,13],[23,0,150,17],[26,0,150,20],[27,0,150,21],[38,0,150,32],[40,0,150,34],[47,0,150,41],[48,0,150,42],[49,0,150,43],[53,0,150,47],[54,0,150,48]],[[8,0,151,4],[9,0,151,5]],[[8,0,151,6],[15,0,151,13],[20,0,151,23],[22,0,151,25],[23,0,151,26]],[[12,0,152,6],[18,0,152,12],[22,0,152,16],[27,0,152,21],[28,0,152,22],[61,0,152,55],[66,0,152,60],[67,0,152,61],[74,0,152,68],[76,0,152,70],[77,0,152,71],[78,0,152,72]],[[8,0,153,4],[9,0,153,5]],[[4,0,154,2],[5,0,154,3]],[[4,0,156,10],[9,0,156,15],[10,0,156,16],[32,0,156,38],[33,0,156,39],[44,0,156,58],[46,0,156,60],[53,0,156,75]],[[8,0,157,4],[14,0,157,10],[21,0,157,17],[24,0,157,20],[30,0,157,26],[31,0,157,27],[39,0,157,35],[40,0,157,36],[46,0,157,42],[47,0,157,43]],[[8,0,158,4],[15,0,158,11],[18,0,158,14],[25,0,158,21],[80,0,158,76],[91,0,158,87],[103,0,158,99],[104,0,158,100]],[[4,0,159,2],[5,0,159,3]],[[4,0,161,10],[9,0,161,15],[10,0,161,16],[20,0,161,26],[21,0,161,27],[24,0,161,38]],[[8,0,162,4],[12,0,162,8],[13,0,162,9]],[[12,0,163,6],[19,0,163,13],[25,0,163,19],[31,0,163,25],[32,0,163,26],[35,0,163,29],[36,0,163,30],[37,0,163,31]],[[8,0,164,4],[9,0,164,5]],[[8,0,164,6],[15,0,164,13],[20,0,164,23],[22,0,164,25],[23,0,164,26]],[[12,0,165,6],[18,0,165,12],[22,0,165,16],[27,0,165,21],[28,0,165,22],[53,0,165,47],[58,0,165,52],[59,0,165,53],[66,0,165,60],[68,0,165,62],[69,0,165,63],[70,0,165,64]],[[8,0,166,4],[9,0,166,5]],[[4,0,167,2],[5,0,167,3]],[[4,0,169,2],[20,0,169,18]],[[8,0,170,4],[15,0,170,11],[19,0,170,15],[22,0,170,18],[23,0,170,19],[27,0,170,23],[28,0,170,24],[41,0,170,37],[42,0,170,38],[43,0,170,39]],[[4,0,171,2],[5,0,171,3]],[[4,0,173,2],[9,0,173,7],[10,0,173,8],[23,0,173,21],[24,0,173,22],[34,0,173,40],[36,0,173,42],[46,0,173,60]],[[8,0,174,4],[14,0,174,10],[18,0,174,14],[21,0,174,17],[29,0,174,25],[30,0,174,26],[43,0,174,39],[44,0,174,40],[50,0,174,46],[51,0,174,47],[52,0,174,48]],[[8,0,175,4],[12,0,175,8],[13,0,175,9],[16,0,175,12],[19,0,175,15],[34,0,175,30],[35,0,175,31]],[[8,0,176,4],[12,0,176,8],[13,0,176,9],[17,0,176,13],[20,0,176,16],[26,0,176,22],[30,0,176,26],[31,0,176,27],[47,0,176,43],[48,0,177,6],[54,0,177,12],[58,0,177,16],[59,0,177,17],[75,0,177,33],[76,0,177,34],[86,0,177,44],[87,0,177,45],[89,0,178,6],[99,0,178,16],[100,0,179,5],[101,0,179,6]],[[8,0,180,4],[16,0,180,12],[17,0,180,13],[21,0,180,17],[22,0,180,18],[33,0,180,29],[34,0,180,30],[38,0,180,34],[39,0,180,35],[40,0,180,36]],[[4,0,181,2],[5,0,181,3]],[[4,0,183,2],[14,0,183,12]],[[8,0,184,4],[12,0,184,8],[13,0,184,9],[26,0,184,22],[27,0,184,23],[32,0,184,28],[34,0,184,30],[35,0,184,31]],[[8,0,185,4],[12,0,185,8],[16,0,185,12],[17,0,185,13],[33,0,185,29],[35,0,185,31],[36,0,185,32]],[[12,0,186,6],[16,0,186,10],[17,0,186,11],[33,0,186,27],[34,0,186,28],[40,0,186,34],[42,0,186,36],[43,0,186,37]],[[12,0,187,6],[16,0,187,10],[17,0,187,11],[33,0,187,27],[36,0,187,30],[45,0,187,39],[46,0,187,40]],[[8,0,188,4],[9,0,188,5]],[[4,0,189,2],[5,0,189,3]],[[104,0,7,13],[116,0,7,25]],[[108,0,7,13],[120,0,7,25],[134,0,5,14],[140,0,5,20]],[],[[92,0,7,13],[104,0,7,25]],[[18,0,4,1],[28,0,4,11]],[[19,0,4,12]],[[20,0,5,2],[30,0,5,12],[32,0,5,14],[38,0,5,20]],[[17,0,6,1]]],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { FederationManifest, ModuleInfo, VersionStrategy } from '../types/federation';\nimport { VersionManager } from './version-manager';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ModuleLoader {\n  private loadedModules = new Map<string, ModuleInfo>();\n  private manifest: FederationManifest = {};\n  private importMapElement?: HTMLScriptElement;\n\n  constructor(private versionManager: VersionManager) {}\n\n  async initialize(manifestPath?: string): Promise<void> {\n    if (manifestPath) {\n      this.manifest = await this.loadManifest(manifestPath);\n    }\n    \n    await this.setupImportMaps();\n  }\n\n  async loadRemoteModule<T = any>(remoteName: string, modulePath: string): Promise<T> {\n    const moduleId = `${remoteName}${modulePath}`;\n    \n    if (this.loadedModules.has(moduleId)) {\n      const moduleInfo = this.loadedModules.get(moduleId)!;\n      if (moduleInfo.loaded) {\n        return import(moduleInfo.url);\n      }\n    }\n\n    const remoteUrl = await this.resolveRemoteUrl(remoteName);\n    const moduleUrl = await this.resolveModuleUrl(remoteUrl, modulePath);\n    \n    try {\n      const module = await this.loadModule(moduleUrl);\n      \n      this.loadedModules.set(moduleId, {\n        id: moduleId,\n        name: remoteName,\n        version: '1.0.0',\n        url: moduleUrl,\n        deps: [],\n        loaded: true,\n        singleton: false\n      });\n\n      return module;\n    } catch (error: any) {\n      throw new Error(`Failed to load remote module ${remoteName}${modulePath}: ${error.message}`);\n    }\n  }\n\n  async loadSharedModule<T = any>(packageName: string, versionStrategy?: VersionStrategy): Promise<T> {\n    const moduleInfo = this.loadedModules.get(packageName);\n    \n    if (moduleInfo?.singleton && moduleInfo.loaded) {\n      return import(moduleInfo.url);\n    }\n\n    const resolvedVersion = await this.versionManager.resolveVersion(packageName, versionStrategy);\n    const moduleUrl = await this.resolveSharedModuleUrl(packageName, resolvedVersion);\n    \n    try {\n      const module = await this.loadModule(moduleUrl);\n      \n      this.loadedModules.set(packageName, {\n        id: packageName,\n        name: packageName,\n        version: resolvedVersion,\n        url: moduleUrl,\n        deps: [],\n        loaded: true,\n        singleton: true\n      });\n\n      return module;\n    } catch (error: any) {\n      if (versionStrategy?.type === 'fallback' && versionStrategy.fallbackVersion) {\n        return this.loadSharedModule(packageName, {\n          type: 'exact',\n        });\n      }\n      \n      throw new Error(`Failed to load shared module ${packageName}: ${error.message}`);\n    }\n  }\n\n  private async loadManifest(manifestPath: string): Promise<FederationManifest> {\n    try {\n      const response = await fetch(manifestPath);\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      return await response.json();\n    } catch (error: any) {\n      console.warn(`[Native Federation] Failed to load manifest from ${manifestPath}:`, error.message);\n      return {};\n    }\n  }\n\n  private async setupImportMaps(): Promise<void> {\n    try {\n      const importMapResponse = await fetch('./importmap.json');\n      if (importMapResponse.ok) {\n        const importMap = await importMapResponse.json();\n        this.injectImportMap(importMap);\n      }\n    } catch (error: any) {\n      console.warn('[Native Federation] Failed to load import map:', error.message);\n    }\n  }\n\n  private injectImportMap(importMap: any): void {\n    if (this.importMapElement) {\n      this.importMapElement.remove();\n    }\n\n    this.importMapElement = document.createElement('script');\n    this.importMapElement.type = 'importmap';\n    this.importMapElement.textContent = JSON.stringify(importMap);\n    \n    document.head.appendChild(this.importMapElement);\n  }\n\n  private async resolveRemoteUrl(remoteName: string): Promise<string> {\n    if (this.manifest[remoteName]) {\n      return this.manifest[remoteName];\n    }\n\n    throw new Error(`Remote ${remoteName} not found in manifest`);\n  }\n\n  private async resolveModuleUrl(remoteUrl: string, modulePath: string): Promise<string> {\n    try {\n      const response = await fetch(remoteUrl);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch remote entry: HTTP ${response.status}`);\n      }\n      \n      const remoteEntry = await response.json();\n      \n      if (!remoteEntry.metadata?.exposes?.[modulePath]) {\n        throw new Error(`Module ${modulePath} not exposed by remote`);\n      }\n\n      const baseUrl = new URL(remoteUrl).origin;\n      const exposedPath = remoteEntry.metadata.exposes[modulePath];\n      \n      return new URL(exposedPath, baseUrl).href;\n    } catch (error: any) {\n      throw new Error(`Failed to resolve module URL: ${error.message}`);\n    }\n  }\n\n  private async resolveSharedModuleUrl(packageName: string, version: string): Promise<string> {\n    const baseUrl = window.location.origin;\n    return `${baseUrl}/node_modules/.cache/native-federation/esm-packages/${packageName}/index.mjs`;\n  }\n\n  private async loadModule(url: string): Promise<any> {\n    try {\n      return await import(url);\n    } catch (error: any) {\n      throw new Error(`Module import failed: ${error.message}`);\n    }\n  }\n\n  getLoadedModules(): Map<string, ModuleInfo> {\n    return new Map(this.loadedModules);\n  }\n\n  async preloadModule(remoteName: string, modulePath: string): Promise<void> {\n    const link = document.createElement('link');\n    link.rel = 'modulepreload';\n    link.href = await this.resolveModuleUrl(\n      await this.resolveRemoteUrl(remoteName),\n      modulePath\n    );\n    document.head.appendChild(link);\n  }\n\n  clearCache(): void {\n    this.loadedModules.clear();\n    if (this.importMapElement) {\n      this.importMapElement.remove();\n      this.importMapElement = undefined;\n    }\n  }\n}"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"./version-manager":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/version-manager.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":12304,"body":[{"type":"ImportDeclaration","start":0,"end":43,"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Injectable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Injectable"}}],"source":{"type":"Literal","start":27,"end":42,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":44,"end":91,"specifiers":[{"type":"ImportSpecifier","start":53,"end":65,"imported":{"type":"Identifier","start":53,"end":65,"name":"ModuleLoader"},"local":{"type":"Identifier","start":53,"end":65,"name":"ModuleLoader"}}],"source":{"type":"Literal","start":73,"end":90,"value":"./module-loader","raw":"'./module-loader'"},"attributes":[]},{"type":"ImportDeclaration","start":92,"end":128,"specifiers":[{"type":"ImportNamespaceSpecifier","start":99,"end":106,"local":{"type":"Identifier","start":104,"end":106,"name":"i0"}}],"source":{"type":"Literal","start":112,"end":127,"value":"@angular/core","raw":"\"@angular/core\""},"attributes":[]},{"type":"ImportDeclaration","start":129,"end":167,"specifiers":[{"type":"ImportNamespaceSpecifier","start":136,"end":143,"local":{"type":"Identifier","start":141,"end":143,"name":"i1"}}],"source":{"type":"Literal","start":149,"end":166,"value":"./module-loader","raw":"\"./module-loader\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":168,"end":3186,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":175,"end":3186,"decorators":[],"id":{"type":"Identifier","start":181,"end":198,"name":"FederationRuntime"},"superClass":null,"body":{"type":"ClassBody","start":199,"end":3186,"body":[{"type":"PropertyDefinition","start":205,"end":218,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":205,"end":217,"name":"moduleLoader"},"value":null},{"type":"PropertyDefinition","start":223,"end":243,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":223,"end":234,"name":"initialized"},"value":{"type":"Literal","start":237,"end":242,"value":false,"raw":"false"}},{"type":"PropertyDefinition","start":248,"end":264,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":248,"end":256,"name":"manifest"},"value":{"type":"Literal","start":259,"end":263,"raw":"null","value":null}},{"type":"MethodDefinition","start":269,"end":344,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":269,"end":280,"name":"constructor"},"value":{"type":"FunctionExpression","start":280,"end":344,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":281,"end":293,"name":"moduleLoader"}],"body":{"type":"BlockStatement","start":295,"end":344,"body":[{"type":"ExpressionStatement","start":305,"end":338,"expression":{"type":"AssignmentExpression","start":305,"end":337,"operator":"=","left":{"type":"MemberExpression","start":305,"end":322,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":305,"end":309},"property":{"type":"Identifier","start":310,"end":322,"name":"moduleLoader"}},"right":{"type":"Identifier","start":325,"end":337,"name":"moduleLoader"}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":349,"end":1354,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":355,"end":365,"name":"initialize"},"value":{"type":"FunctionExpression","start":365,"end":1354,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":366,"end":378,"name":"manifestPath"}],"body":{"type":"BlockStatement","start":380,"end":1354,"body":[{"type":"IfStatement","start":390,"end":523,"test":{"type":"MemberExpression","start":394,"end":410,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":394,"end":398},"property":{"type":"Identifier","start":399,"end":410,"name":"initialized"}},"consequent":{"type":"BlockStatement","start":412,"end":523,"body":[{"type":"ExpressionStatement","start":426,"end":493,"expression":{"type":"CallExpression","start":426,"end":492,"optional":false,"callee":{"type":"MemberExpression","start":426,"end":438,"computed":false,"optional":false,"object":{"type":"Identifier","start":426,"end":433,"name":"console"},"property":{"type":"Identifier","start":434,"end":438,"name":"warn"}},"arguments":[{"type":"Literal","start":439,"end":491,"value":"[Native Federation] Federation already initialized","raw":"'[Native Federation] Federation already initialized'"}]}},{"type":"ReturnStatement","start":506,"end":513,"argument":null}]},"alternate":null},{"type":"TryStatement","start":532,"end":1348,"block":{"type":"BlockStatement","start":536,"end":1199,"body":[{"type":"ExpressionStatement","start":550,"end":599,"expression":{"type":"AwaitExpression","start":550,"end":598,"argument":{"type":"CallExpression","start":556,"end":598,"optional":false,"callee":{"type":"MemberExpression","start":556,"end":584,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":556,"end":573,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":556,"end":560},"property":{"type":"Identifier","start":561,"end":573,"name":"moduleLoader"}},"property":{"type":"Identifier","start":574,"end":584,"name":"initialize"}},"arguments":[{"type":"Identifier","start":585,"end":597,"name":"manifestPath"}]}}},{"type":"ExpressionStatement","start":612,"end":636,"expression":{"type":"AssignmentExpression","start":612,"end":635,"operator":"=","left":{"type":"MemberExpression","start":612,"end":628,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":612,"end":616},"property":{"type":"Identifier","start":617,"end":628,"name":"initialized"}},"right":{"type":"Literal","start":631,"end":635,"value":true,"raw":"true"}}},{"type":"IfStatement","start":649,"end":1105,"test":{"type":"BinaryExpression","start":653,"end":682,"operator":"!==","left":{"type":"UnaryExpression","start":653,"end":666,"operator":"typeof","argument":{"type":"Identifier","start":660,"end":666,"name":"window"},"prefix":true},"right":{"type":"Literal","start":671,"end":682,"value":"undefined","raw":"'undefined'"}},"consequent":{"type":"BlockStatement","start":684,"end":1105,"body":[{"type":"ExpressionStatement","start":702,"end":1091,"expression":{"type":"AssignmentExpression","start":702,"end":1090,"operator":"=","left":{"type":"MemberExpression","start":702,"end":727,"computed":false,"optional":false,"object":{"type":"Identifier","start":702,"end":708,"name":"window"},"property":{"type":"Identifier","start":709,"end":727,"name":"__nativeFederation"}},"right":{"type":"ObjectExpression","start":730,"end":1090,"properties":[{"type":"Property","start":752,"end":802,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":752,"end":768,"name":"loadRemoteModule"},"value":{"type":"CallExpression","start":770,"end":802,"optional":false,"callee":{"type":"MemberExpression","start":770,"end":796,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":770,"end":791,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":770,"end":774},"property":{"type":"Identifier","start":775,"end":791,"name":"loadRemoteModule"}},"property":{"type":"Identifier","start":792,"end":796,"name":"bind"}},"arguments":[{"type":"ThisExpression","start":797,"end":801}]},"kind":"init"},{"type":"Property","start":824,"end":874,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":824,"end":840,"name":"loadSharedModule"},"value":{"type":"CallExpression","start":842,"end":874,"optional":false,"callee":{"type":"MemberExpression","start":842,"end":868,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":842,"end":863,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":842,"end":846},"property":{"type":"Identifier","start":847,"end":863,"name":"loadSharedModule"}},"property":{"type":"Identifier","start":864,"end":868,"name":"bind"}},"arguments":[{"type":"ThisExpression","start":869,"end":873}]},"kind":"init"},{"type":"Property","start":896,"end":940,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":896,"end":909,"name":"preloadModule"},"value":{"type":"CallExpression","start":911,"end":940,"optional":false,"callee":{"type":"MemberExpression","start":911,"end":934,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":911,"end":929,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":911,"end":915},"property":{"type":"Identifier","start":916,"end":929,"name":"preloadModule"}},"property":{"type":"Identifier","start":930,"end":934,"name":"bind"}},"arguments":[{"type":"ThisExpression","start":935,"end":939}]},"kind":"init"},{"type":"Property","start":962,"end":1012,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":962,"end":978,"name":"getLoadedModules"},"value":{"type":"CallExpression","start":980,"end":1012,"optional":false,"callee":{"type":"MemberExpression","start":980,"end":1006,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":980,"end":1001,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":980,"end":984},"property":{"type":"Identifier","start":985,"end":1001,"name":"getLoadedModules"}},"property":{"type":"Identifier","start":1002,"end":1006,"name":"bind"}},"arguments":[{"type":"ThisExpression","start":1007,"end":1011}]},"kind":"init"},{"type":"Property","start":1034,"end":1072,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1034,"end":1044,"name":"clearCache"},"value":{"type":"CallExpression","start":1046,"end":1072,"optional":false,"callee":{"type":"MemberExpression","start":1046,"end":1066,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1046,"end":1061,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1046,"end":1050},"property":{"type":"Identifier","start":1051,"end":1061,"name":"clearCache"}},"property":{"type":"Identifier","start":1062,"end":1066,"name":"bind"}},"arguments":[{"type":"ThisExpression","start":1067,"end":1071}]},"kind":"init"}]}}}]},"alternate":null},{"type":"ExpressionStatement","start":1118,"end":1189,"expression":{"type":"CallExpression","start":1118,"end":1188,"optional":false,"callee":{"type":"MemberExpression","start":1118,"end":1129,"computed":false,"optional":false,"object":{"type":"Identifier","start":1118,"end":1125,"name":"console"},"property":{"type":"Identifier","start":1126,"end":1129,"name":"log"}},"arguments":[{"type":"Literal","start":1130,"end":1187,"value":"[Native Federation] Federation initialized successfully","raw":"'[Native Federation] Federation initialized successfully'"}]}}]},"handler":{"type":"CatchClause","start":1208,"end":1348,"param":{"type":"Identifier","start":1215,"end":1220,"name":"error"},"body":{"type":"BlockStatement","start":1222,"end":1348,"body":[{"type":"ExpressionStatement","start":1236,"end":1313,"expression":{"type":"CallExpression","start":1236,"end":1312,"optional":false,"callee":{"type":"MemberExpression","start":1236,"end":1249,"computed":false,"optional":false,"object":{"type":"Identifier","start":1236,"end":1243,"name":"console"},"property":{"type":"Identifier","start":1244,"end":1249,"name":"error"}},"arguments":[{"type":"Literal","start":1250,"end":1304,"value":"[Native Federation] Failed to initialize federation:","raw":"'[Native Federation] Failed to initialize federation:'"},{"type":"Identifier","start":1306,"end":1311,"name":"error"}]}},{"type":"ThrowStatement","start":1326,"end":1338,"argument":{"type":"Identifier","start":1332,"end":1337,"name":"error"}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1359,"end":1636,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1365,"end":1381,"name":"loadRemoteModule"},"value":{"type":"FunctionExpression","start":1381,"end":1636,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":1382,"end":1392,"name":"remoteName"},{"type":"Identifier","start":1394,"end":1404,"name":"modulePath"}],"body":{"type":"BlockStatement","start":1406,"end":1636,"body":[{"type":"IfStatement","start":1416,"end":1555,"test":{"type":"UnaryExpression","start":1420,"end":1437,"operator":"!","argument":{"type":"MemberExpression","start":1421,"end":1437,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1421,"end":1425},"property":{"type":"Identifier","start":1426,"end":1437,"name":"initialized"}},"prefix":true},"consequent":{"type":"BlockStatement","start":1439,"end":1555,"body":[{"type":"ThrowStatement","start":1453,"end":1545,"argument":{"type":"NewExpression","start":1459,"end":1544,"callee":{"type":"Identifier","start":1463,"end":1468,"name":"Error"},"arguments":[{"type":"Literal","start":1469,"end":1543,"value":"[Native Federation] Federation not initialized. Call initialize() first.","raw":"'[Native Federation] Federation not initialized. Call initialize() first.'"}]}}]},"alternate":null},{"type":"ReturnStatement","start":1564,"end":1630,"argument":{"type":"CallExpression","start":1571,"end":1629,"optional":false,"callee":{"type":"MemberExpression","start":1571,"end":1605,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1571,"end":1588,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1571,"end":1575},"property":{"type":"Identifier","start":1576,"end":1588,"name":"moduleLoader"}},"property":{"type":"Identifier","start":1589,"end":1605,"name":"loadRemoteModule"}},"arguments":[{"type":"Identifier","start":1606,"end":1616,"name":"remoteName"},{"type":"Identifier","start":1618,"end":1628,"name":"modulePath"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1641,"end":1896,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1647,"end":1663,"name":"loadSharedModule"},"value":{"type":"FunctionExpression","start":1663,"end":1896,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":1664,"end":1675,"name":"packageName"}],"body":{"type":"BlockStatement","start":1677,"end":1896,"body":[{"type":"IfStatement","start":1687,"end":1826,"test":{"type":"UnaryExpression","start":1691,"end":1708,"operator":"!","argument":{"type":"MemberExpression","start":1692,"end":1708,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1692,"end":1696},"property":{"type":"Identifier","start":1697,"end":1708,"name":"initialized"}},"prefix":true},"consequent":{"type":"BlockStatement","start":1710,"end":1826,"body":[{"type":"ThrowStatement","start":1724,"end":1816,"argument":{"type":"NewExpression","start":1730,"end":1815,"callee":{"type":"Identifier","start":1734,"end":1739,"name":"Error"},"arguments":[{"type":"Literal","start":1740,"end":1814,"value":"[Native Federation] Federation not initialized. Call initialize() first.","raw":"'[Native Federation] Federation not initialized. Call initialize() first.'"}]}}]},"alternate":null},{"type":"ReturnStatement","start":1835,"end":1890,"argument":{"type":"CallExpression","start":1842,"end":1889,"optional":false,"callee":{"type":"MemberExpression","start":1842,"end":1876,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1842,"end":1859,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1842,"end":1846},"property":{"type":"Identifier","start":1847,"end":1859,"name":"moduleLoader"}},"property":{"type":"Identifier","start":1860,"end":1876,"name":"loadSharedModule"}},"arguments":[{"type":"Identifier","start":1877,"end":1888,"name":"packageName"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1901,"end":2172,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1907,"end":1920,"name":"preloadModule"},"value":{"type":"FunctionExpression","start":1920,"end":2172,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":1921,"end":1931,"name":"remoteName"},{"type":"Identifier","start":1933,"end":1943,"name":"modulePath"}],"body":{"type":"BlockStatement","start":1945,"end":2172,"body":[{"type":"IfStatement","start":1955,"end":2094,"test":{"type":"UnaryExpression","start":1959,"end":1976,"operator":"!","argument":{"type":"MemberExpression","start":1960,"end":1976,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1960,"end":1964},"property":{"type":"Identifier","start":1965,"end":1976,"name":"initialized"}},"prefix":true},"consequent":{"type":"BlockStatement","start":1978,"end":2094,"body":[{"type":"ThrowStatement","start":1992,"end":2084,"argument":{"type":"NewExpression","start":1998,"end":2083,"callee":{"type":"Identifier","start":2002,"end":2007,"name":"Error"},"arguments":[{"type":"Literal","start":2008,"end":2082,"value":"[Native Federation] Federation not initialized. Call initialize() first.","raw":"'[Native Federation] Federation not initialized. Call initialize() first.'"}]}}]},"alternate":null},{"type":"ReturnStatement","start":2103,"end":2166,"argument":{"type":"CallExpression","start":2110,"end":2165,"optional":false,"callee":{"type":"MemberExpression","start":2110,"end":2141,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2110,"end":2127,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2110,"end":2114},"property":{"type":"Identifier","start":2115,"end":2127,"name":"moduleLoader"}},"property":{"type":"Identifier","start":2128,"end":2141,"name":"preloadModule"}},"arguments":[{"type":"Identifier","start":2142,"end":2152,"name":"remoteName"},{"type":"Identifier","start":2154,"end":2164,"name":"modulePath"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2177,"end":2329,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2177,"end":2193,"name":"getLoadedModules"},"value":{"type":"FunctionExpression","start":2193,"end":2329,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":2196,"end":2329,"body":[{"type":"IfStatement","start":2206,"end":2270,"test":{"type":"UnaryExpression","start":2210,"end":2227,"operator":"!","argument":{"type":"MemberExpression","start":2211,"end":2227,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2211,"end":2215},"property":{"type":"Identifier","start":2216,"end":2227,"name":"initialized"}},"prefix":true},"consequent":{"type":"BlockStatement","start":2229,"end":2270,"body":[{"type":"ReturnStatement","start":2243,"end":2260,"argument":{"type":"NewExpression","start":2250,"end":2259,"callee":{"type":"Identifier","start":2254,"end":2257,"name":"Map"},"arguments":[]}}]},"alternate":null},{"type":"ReturnStatement","start":2279,"end":2323,"argument":{"type":"CallExpression","start":2286,"end":2322,"optional":false,"callee":{"type":"MemberExpression","start":2286,"end":2320,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2286,"end":2303,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2286,"end":2290},"property":{"type":"Identifier","start":2291,"end":2303,"name":"moduleLoader"}},"property":{"type":"Identifier","start":2304,"end":2320,"name":"getLoadedModules"}},"arguments":[]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2334,"end":2394,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2334,"end":2344,"name":"clearCache"},"value":{"type":"FunctionExpression","start":2344,"end":2394,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":2347,"end":2394,"body":[{"type":"ExpressionStatement","start":2357,"end":2388,"expression":{"type":"CallExpression","start":2357,"end":2387,"optional":false,"callee":{"type":"MemberExpression","start":2357,"end":2385,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2357,"end":2374,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2357,"end":2361},"property":{"type":"Identifier","start":2362,"end":2374,"name":"moduleLoader"}},"property":{"type":"Identifier","start":2375,"end":2385,"name":"clearCache"}},"arguments":[]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2399,"end":2455,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2399,"end":2412,"name":"isInitialized"},"value":{"type":"FunctionExpression","start":2412,"end":2455,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":2415,"end":2455,"body":[{"type":"ReturnStatement","start":2425,"end":2449,"argument":{"type":"MemberExpression","start":2432,"end":2448,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2432,"end":2436},"property":{"type":"Identifier","start":2437,"end":2448,"name":"initialized"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2460,"end":2619,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2466,"end":2478,"name":"reinitialize"},"value":{"type":"FunctionExpression","start":2478,"end":2619,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":2479,"end":2491,"name":"manifestPath"}],"body":{"type":"BlockStatement","start":2493,"end":2619,"body":[{"type":"ExpressionStatement","start":2503,"end":2534,"expression":{"type":"CallExpression","start":2503,"end":2533,"optional":false,"callee":{"type":"MemberExpression","start":2503,"end":2531,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2503,"end":2520,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2503,"end":2507},"property":{"type":"Identifier","start":2508,"end":2520,"name":"moduleLoader"}},"property":{"type":"Identifier","start":2521,"end":2531,"name":"clearCache"}},"arguments":[]}},{"type":"ExpressionStatement","start":2543,"end":2568,"expression":{"type":"AssignmentExpression","start":2543,"end":2567,"operator":"=","left":{"type":"MemberExpression","start":2543,"end":2559,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2543,"end":2547},"property":{"type":"Identifier","start":2548,"end":2559,"name":"initialized"}},"right":{"type":"Literal","start":2562,"end":2567,"value":false,"raw":"false"}}},{"type":"ExpressionStatement","start":2577,"end":2613,"expression":{"type":"AwaitExpression","start":2577,"end":2612,"argument":{"type":"CallExpression","start":2583,"end":2612,"optional":false,"callee":{"type":"MemberExpression","start":2583,"end":2598,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2583,"end":2587},"property":{"type":"Identifier","start":2588,"end":2598,"name":"initialize"}},"arguments":[{"type":"Identifier","start":2599,"end":2611,"name":"manifestPath"}]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2624,"end":2833,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2624,"end":2643,"name":"getFederationStatus"},"value":{"type":"FunctionExpression","start":2643,"end":2833,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":2646,"end":2833,"body":[{"type":"ReturnStatement","start":2656,"end":2827,"argument":{"type":"ObjectExpression","start":2663,"end":2826,"properties":[{"type":"Property","start":2677,"end":2706,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2677,"end":2688,"name":"initialized"},"value":{"type":"MemberExpression","start":2690,"end":2706,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2690,"end":2694},"property":{"type":"Identifier","start":2695,"end":2706,"name":"initialized"}},"kind":"init"},{"type":"Property","start":2720,"end":2781,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2720,"end":2738,"name":"loadedModulesCount"},"value":{"type":"MemberExpression","start":2740,"end":2781,"computed":false,"optional":false,"object":{"type":"CallExpression","start":2740,"end":2776,"optional":false,"callee":{"type":"MemberExpression","start":2740,"end":2774,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2740,"end":2757,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2740,"end":2744},"property":{"type":"Identifier","start":2745,"end":2757,"name":"moduleLoader"}},"property":{"type":"Identifier","start":2758,"end":2774,"name":"getLoadedModules"}},"arguments":[]},"property":{"type":"Identifier","start":2777,"end":2781,"name":"size"}},"kind":"init"},{"type":"Property","start":2795,"end":2816,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2795,"end":2810,"name":"hasModuleLoader"},"value":{"type":"Literal","start":2812,"end":2816,"value":true,"raw":"true"},"kind":"init"}]}}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":2838,"end":3034,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2845,"end":2849,"name":"ɵfac"},"value":{"type":"CallExpression","start":2852,"end":3033,"optional":false,"callee":{"type":"MemberExpression","start":2852,"end":2873,"computed":false,"optional":false,"object":{"type":"Identifier","start":2852,"end":2854,"name":"i0"},"property":{"type":"Identifier","start":2855,"end":2873,"name":"ɵɵngDeclareFactory"}},"arguments":[{"type":"ObjectExpression","start":2874,"end":3032,"properties":[{"type":"Property","start":2876,"end":2896,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2876,"end":2886,"name":"minVersion"},"value":{"type":"Literal","start":2888,"end":2896,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":2898,"end":2916,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2898,"end":2905,"name":"version"},"value":{"type":"Literal","start":2907,"end":2916,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":2918,"end":2930,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2918,"end":2926,"name":"ngImport"},"value":{"type":"Identifier","start":2928,"end":2930,"name":"i0"},"kind":"init"},{"type":"Property","start":2932,"end":2955,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2932,"end":2936,"name":"type"},"value":{"type":"Identifier","start":2938,"end":2955,"name":"FederationRuntime"},"kind":"init"},{"type":"Property","start":2957,"end":2991,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2957,"end":2961,"name":"deps"},"value":{"type":"ArrayExpression","start":2963,"end":2991,"elements":[{"type":"ObjectExpression","start":2964,"end":2990,"properties":[{"type":"Property","start":2966,"end":2988,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2966,"end":2971,"name":"token"},"value":{"type":"MemberExpression","start":2973,"end":2988,"computed":false,"optional":false,"object":{"type":"Identifier","start":2973,"end":2975,"name":"i1"},"property":{"type":"Identifier","start":2976,"end":2988,"name":"ModuleLoader"}},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":2993,"end":3030,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2993,"end":2999,"name":"target"},"value":{"type":"MemberExpression","start":3001,"end":3030,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3001,"end":3019,"computed":false,"optional":false,"object":{"type":"Identifier","start":3001,"end":3003,"name":"i0"},"property":{"type":"Identifier","start":3004,"end":3019,"name":"ɵɵFactoryTarget"}},"property":{"type":"Identifier","start":3020,"end":3030,"name":"Injectable"}},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":3039,"end":3184,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3046,"end":3051,"name":"ɵprov"},"value":{"type":"CallExpression","start":3054,"end":3183,"optional":false,"callee":{"type":"MemberExpression","start":3054,"end":3078,"computed":false,"optional":false,"object":{"type":"Identifier","start":3054,"end":3056,"name":"i0"},"property":{"type":"Identifier","start":3057,"end":3078,"name":"ɵɵngDeclareInjectable"}},"arguments":[{"type":"ObjectExpression","start":3079,"end":3182,"properties":[{"type":"Property","start":3081,"end":3101,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3081,"end":3091,"name":"minVersion"},"value":{"type":"Literal","start":3093,"end":3101,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":3103,"end":3121,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3103,"end":3110,"name":"version"},"value":{"type":"Literal","start":3112,"end":3121,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":3123,"end":3135,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3123,"end":3131,"name":"ngImport"},"value":{"type":"Identifier","start":3133,"end":3135,"name":"i0"},"kind":"init"},{"type":"Property","start":3137,"end":3160,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3137,"end":3141,"name":"type"},"value":{"type":"Identifier","start":3143,"end":3160,"name":"FederationRuntime"},"kind":"init"},{"type":"Property","start":3162,"end":3180,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3162,"end":3172,"name":"providedIn"},"value":{"type":"Literal","start":3174,"end":3180,"value":"root","raw":"'root'"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":3187,"end":3487,"expression":{"type":"CallExpression","start":3187,"end":3486,"optional":false,"callee":{"type":"MemberExpression","start":3187,"end":3214,"computed":false,"optional":false,"object":{"type":"Identifier","start":3187,"end":3189,"name":"i0"},"property":{"type":"Identifier","start":3190,"end":3214,"name":"ɵɵngDeclareClassMetadata"}},"arguments":[{"type":"ObjectExpression","start":3215,"end":3485,"properties":[{"type":"Property","start":3217,"end":3237,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3217,"end":3227,"name":"minVersion"},"value":{"type":"Literal","start":3229,"end":3237,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":3239,"end":3257,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3239,"end":3246,"name":"version"},"value":{"type":"Literal","start":3248,"end":3257,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":3259,"end":3271,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3259,"end":3267,"name":"ngImport"},"value":{"type":"Identifier","start":3269,"end":3271,"name":"i0"},"kind":"init"},{"type":"Property","start":3273,"end":3296,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3273,"end":3277,"name":"type"},"value":{"type":"Identifier","start":3279,"end":3296,"name":"FederationRuntime"},"kind":"init"},{"type":"Property","start":3298,"end":3432,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3298,"end":3308,"name":"decorators"},"value":{"type":"ArrayExpression","start":3310,"end":3432,"elements":[{"type":"ObjectExpression","start":3311,"end":3431,"properties":[{"type":"Property","start":3325,"end":3341,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3325,"end":3329,"name":"type"},"value":{"type":"Identifier","start":3331,"end":3341,"name":"Injectable"},"kind":"init"},{"type":"Property","start":3355,"end":3421,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3355,"end":3359,"name":"args"},"value":{"type":"ArrayExpression","start":3361,"end":3421,"elements":[{"type":"ObjectExpression","start":3362,"end":3420,"properties":[{"type":"Property","start":3384,"end":3402,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3384,"end":3394,"name":"providedIn"},"value":{"type":"Literal","start":3396,"end":3402,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":3434,"end":3483,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3434,"end":3448,"name":"ctorParameters"},"value":{"type":"ArrowFunctionExpression","start":3450,"end":3483,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ArrayExpression","start":3456,"end":3483,"elements":[{"type":"ObjectExpression","start":3457,"end":3482,"properties":[{"type":"Property","start":3459,"end":3480,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3459,"end":3463,"name":"type"},"value":{"type":"MemberExpression","start":3465,"end":3480,"computed":false,"optional":false,"object":{"type":"Identifier","start":3465,"end":3467,"name":"i1"},"property":{"type":"Identifier","start":3468,"end":3480,"name":"ModuleLoader"}},"kind":"init"}]}]},"id":null},"kind":"init"}]}]}},{"type":"ExportNamedDeclaration","start":3535,"end":3755,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"FunctionDeclaration","start":3542,"end":3755,"async":true,"generator":false,"id":{"type":"Identifier","start":3557,"end":3571,"name":"initFederation"},"params":[{"type":"Identifier","start":3572,"end":3584,"name":"manifestPath"}],"body":{"type":"BlockStatement","start":3586,"end":3755,"body":[{"type":"ExpressionStatement","start":3648,"end":3753,"expression":{"type":"CallExpression","start":3648,"end":3752,"optional":false,"callee":{"type":"MemberExpression","start":3648,"end":3660,"computed":false,"optional":false,"object":{"type":"Identifier","start":3648,"end":3655,"name":"console"},"property":{"type":"Identifier","start":3656,"end":3660,"name":"warn"}},"arguments":[{"type":"Literal","start":3661,"end":3751,"value":"[Native Federation] initFederation() is deprecated. Use FederationRuntime class instead.","raw":"'[Native Federation] initFederation() is deprecated. Use FederationRuntime class instead.'"}]}}]},"expression":false}},{"type":"ExportNamedDeclaration","start":3756,"end":3993,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"FunctionDeclaration","start":3763,"end":3993,"async":true,"generator":false,"id":{"type":"Identifier","start":3778,"end":3794,"name":"loadRemoteModule"},"params":[{"type":"Identifier","start":3795,"end":3805,"name":"remoteName"},{"type":"Identifier","start":3807,"end":3817,"name":"modulePath"}],"body":{"type":"BlockStatement","start":3819,"end":3993,"body":[{"type":"ThrowStatement","start":3881,"end":3991,"argument":{"type":"NewExpression","start":3887,"end":3990,"callee":{"type":"Identifier","start":3891,"end":3896,"name":"Error"},"arguments":[{"type":"Literal","start":3897,"end":3989,"value":"[Native Federation] loadRemoteModule() is deprecated. Use FederationRuntime class instead.","raw":"'[Native Federation] loadRemoteModule() is deprecated. Use FederationRuntime class instead.'"}]}}]},"expression":false}}],"_rollupRemoved":[{"end":12304,"start":3994,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { Injectable } from '@angular/core';\nimport { ModuleLoader } from './module-loader';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./module-loader\";\nexport class FederationRuntime {\n    moduleLoader;\n    initialized = false;\n    manifest = null;\n    constructor(moduleLoader) {\n        this.moduleLoader = moduleLoader;\n    }\n    async initialize(manifestPath) {\n        if (this.initialized) {\n            console.warn('[Native Federation] Federation already initialized');\n            return;\n        }\n        try {\n            await this.moduleLoader.initialize(manifestPath);\n            this.initialized = true;\n            if (typeof window !== 'undefined') {\n                window.__nativeFederation = {\n                    loadRemoteModule: this.loadRemoteModule.bind(this),\n                    loadSharedModule: this.loadSharedModule.bind(this),\n                    preloadModule: this.preloadModule.bind(this),\n                    getLoadedModules: this.getLoadedModules.bind(this),\n                    clearCache: this.clearCache.bind(this)\n                };\n            }\n            console.log('[Native Federation] Federation initialized successfully');\n        }\n        catch (error) {\n            console.error('[Native Federation] Failed to initialize federation:', error);\n            throw error;\n        }\n    }\n    async loadRemoteModule(remoteName, modulePath) {\n        if (!this.initialized) {\n            throw new Error('[Native Federation] Federation not initialized. Call initialize() first.');\n        }\n        return this.moduleLoader.loadRemoteModule(remoteName, modulePath);\n    }\n    async loadSharedModule(packageName) {\n        if (!this.initialized) {\n            throw new Error('[Native Federation] Federation not initialized. Call initialize() first.');\n        }\n        return this.moduleLoader.loadSharedModule(packageName);\n    }\n    async preloadModule(remoteName, modulePath) {\n        if (!this.initialized) {\n            throw new Error('[Native Federation] Federation not initialized. Call initialize() first.');\n        }\n        return this.moduleLoader.preloadModule(remoteName, modulePath);\n    }\n    getLoadedModules() {\n        if (!this.initialized) {\n            return new Map();\n        }\n        return this.moduleLoader.getLoadedModules();\n    }\n    clearCache() {\n        this.moduleLoader.clearCache();\n    }\n    isInitialized() {\n        return this.initialized;\n    }\n    async reinitialize(manifestPath) {\n        this.moduleLoader.clearCache();\n        this.initialized = false;\n        await this.initialize(manifestPath);\n    }\n    getFederationStatus() {\n        return {\n            initialized: this.initialized,\n            loadedModulesCount: this.moduleLoader.getLoadedModules().size,\n            hasModuleLoader: true\n        };\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: FederationRuntime, deps: [{ token: i1.ModuleLoader }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: FederationRuntime, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: FederationRuntime, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: i1.ModuleLoader }] });\n// Export functions for backward compatibility\nexport async function initFederation(manifestPath) {\n    // Deprecated - use FederationRuntime class instead\n    console.warn('[Native Federation] initFederation() is deprecated. Use FederationRuntime class instead.');\n}\nexport async function loadRemoteModule(remoteName, modulePath) {\n    // Deprecated - use FederationRuntime class instead\n    throw new Error('[Native Federation] loadRemoteModule() is deprecated. Use FederationRuntime class instead.');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmVkZXJhdGlvbi1ydW50aW1lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmF0aXZlLWZlZGVyYXRpb24vc3JjL2xpYi9ydW50aW1lL2ZlZGVyYXRpb24tcnVudGltZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQzs7O0FBTS9DLE1BQU0sT0FBTyxpQkFBaUI7SUFJUjtJQUhaLFdBQVcsR0FBRyxLQUFLLENBQUM7SUFDcEIsUUFBUSxHQUE4QixJQUFJLENBQUM7SUFFbkQsWUFBb0IsWUFBMEI7UUFBMUIsaUJBQVksR0FBWixZQUFZLENBQWM7SUFBRyxDQUFDO0lBRWxELEtBQUssQ0FBQyxVQUFVLENBQUMsWUFBcUI7UUFDcEMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDckIsT0FBTyxDQUFDLElBQUksQ0FBQyxvREFBb0QsQ0FBQyxDQUFDO1lBQ25FLE9BQU87UUFDVCxDQUFDO1FBRUQsSUFBSSxDQUFDO1lBQ0gsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNqRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztZQUV4QixJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRSxDQUFDO2dCQUNqQyxNQUFjLENBQUMsa0JBQWtCLEdBQUc7b0JBQ25DLGdCQUFnQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO29CQUNsRCxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztvQkFDbEQsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztvQkFDNUMsZ0JBQWdCLEVB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LE1BQU0sSUFBSSxLQUFLLENBQUMsNEZBQTRGLENBQUMsQ0FBQztBQUNoSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTW9kdWxlTG9hZGVyIH0gZnJvbSAnLi9tb2R1bGUtbG9hZGVyJztcbmltcG9ydCB7IE1vZHVsZUluZm8sIEZlZGVyYXRpb25NYW5pZmVzdCB9IGZyb20gJy4uL3R5cGVzL2ZlZGVyYXRpb24nO1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBGZWRlcmF0aW9uUnVudGltZSB7XG4gIHByaXZhdGUgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBtYW5pZmVzdDogRmVkZXJhdGlvbk1hbmlmZXN0IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBtb2R1bGVMb2FkZXI6IE1vZHVsZUxvYWRlcikge31cblxuICBhc3luYyBpbml0aWFsaXplKG1hbmlmZXN0UGF0aD86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tOYXRpdmUgRmVkZXJhdGlvbl0gRmVkZXJhdGlvbiBhbHJlYWR5IGluaXRpYWxpemVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMubW9kdWxlTG9hZGVyLmluaXRpYWxpemUobWFuaWZlc3RQYXRoKTtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLl9fbmF0aXZlRmVkZXJhdGlvbiA9IHtcbiAgICAgICAgICBsb2FkUmVtb3RlTW9kdWxlOiB0aGlzLmxvYWRSZW1vdGVNb2R1bGUuYmluZCh0aGlzKSxcbiAgICAgICAgICBsb2FkU2hhcmVkTW9kdWxlOiB0aGlzLmxvYWRTaGFyZWRNb2R1bGUuYmluZCh0aGlzKSxcbiAgICAgICAgICBwcmVsb2FkTW9kdWxlOiB0aGlzLnByZWxvYWRNb2R1bGUuYmluZCh0aGlzKSxcbiAgICAgICAgICBnZXRMb2FkZWRNb2R1bGVzOiB0aGlzLmdldExvYWRlZE1vZHVsZXMuYmluZCh0aGlzKSxcbiAgICAgICAgICBjbGVhckNhY2hlOiB0aGlzLmNsZWFyQ2FjaGUuYmluZCh0aGlzKVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnW05hdGl2ZSBGZWRlcmF0aW9uXSBGZWRlcmF0aW9uIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tOYXRpdmUgRmVkZXJhdGlvbl0gRmFpbGVkIHRvIGluaXRpYWxpemUgZmVkZXJhdGlvbjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBsb2FkUmVtb3RlTW9kdWxlPFQgPSBhbnk+KHJlbW90ZU5hbWU6IHN0cmluZywgbW9kdWxlUGF0aDogc3RyaW5nKTogUHJvbWlzZTxUPiB7XG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tOYXRpdmUgRmVkZXJhdGlvbl0gRmVkZXJhdGlvbiBub3QgaW5pdGlhbGl6ZWQuIENhbGwgaW5pdGlhbGl6ZSgpIGZpcnN0LicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm1vZHVsZUxvYWRlci5sb2FkUmVtb3RlTW9kdWxlPFQ+KHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpO1xuICB9XG5cbiAgYXN5bmMgbG9hZFNoYXJlZE1vZHVsZTxUID0gYW55PihwYWNrYWdlTmFtZTogc3RyaW5nKTogUHJvbWlzZTxUPiB7XG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tOYXRpdmUgRmVkZXJhdGlvbl0gRmVkZXJhdGlvbiBub3QgaW5pdGlhbGl6ZWQuIENhbGwgaW5pdGlhbGl6ZSgpIGZpcnN0LicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm1vZHVsZUxvYWRlci5sb2FkU2hhcmVkTW9kdWxlPFQ+KHBhY2thZ2VOYW1lKTtcbiAgfVxuXG4gIGFzeW5jIHByZWxvYWRNb2R1bGUocmVtb3RlTmFtZTogc3RyaW5nLCBtb2R1bGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignW05hdGl2ZSBGZWRlcmF0aW9uXSBGZWRlcmF0aW9uIG5vdCBpbml0aWFsaXplZC4gQ2FsbCBpbml0aWFsaXplKCkgZmlyc3QuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubW9kdWxlTG9hZGVyLnByZWxvYWRNb2R1bGUocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gIH1cblxuICBnZXRMb2FkZWRNb2R1bGVzKCkge1xuICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuIG5ldyBNYXAoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tb2R1bGVMb2FkZXIuZ2V0TG9hZGVkTW9kdWxlcygpO1xuICB9XG5cbiAgY2xlYXJDYWNoZSgpOiB2b2lkIHtcbiAgICB0aGlzLm1vZHVsZUxvYWRlci5jbGVhckNhY2hlKCk7XG4gIH1cblxuICBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmluaXRpYWxpemVkO1xuICB9XG5cbiAgYXN5bmMgcmVpbml0aWFsaXplKG1hbmlmZXN0UGF0aD86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMubW9kdWxlTG9hZGVyLmNsZWFyQ2FjaGUoKTtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXplKG1hbmlmZXN0UGF0aCk7XG4gIH1cblxuICBnZXRGZWRlcmF0aW9uU3RhdHVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbml0aWFsaXplZDogdGhpcy5pbml0aWFsaXplZCxcbiAgICAgIGxvYWRlZE1vZHVsZXNDb3VudDogdGhpcy5tb2R1bGVMb2FkZXIuZ2V0TG9hZGVkTW9kdWxlcygpLnNpemUsXG4gICAgICBoYXNNb2R1bGVMb2FkZXI6IHRydWVcbiAgICB9O1xuICB9XG59XG5cbi8vIEV4cG9ydCBmdW5jdGlvbnMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0RmVkZXJhdGlvbihtYW5pZmVzdFBhdGg/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gRGVwcmVjYXRlZCAtIHVzZSBGZWRlcmF0aW9uUnVudGltZSBjbGFzcyBpbnN0ZWFkXG4gIGNvbnNvbGUud2FybignW05hdGl2ZSBGZWRlcmF0aW9uXSBpbml0RmVkZXJhdGlvbigpIGlzIGRlcHJlY2F0ZWQuIFVzZSBGZWRlcmF0aW9uUnVudGltZSBjbGFzcyBpbnN0ZWFkLicpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFJlbW90ZU1vZHVsZTxUID0gYW55PihyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8VD4ge1xuICAvLyBEZXByZWNhdGVkIC0gdXNlIEZlZGVyYXRpb25SdW50aW1lIGNsYXNzIGluc3RlYWRcbiAgdGhyb3cgbmV3IEVycm9yKCdbTmF0aXZlIEZlZGVyYXRpb25dIGxvYWRSZW1vdGVNb2R1bGUoKSBpcyBkZXByZWNhdGVkLiBVc2UgRmVkZXJhdGlvblJ1bnRpbWUgY2xhc3MgaW5zdGVhZC4nKTtcbn0iXX0=","customTransformCache":false,"dependencies":["@angular/core","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/module-loader.mjs"],"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/federation-runtime.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Injectable } from '@angular/core';\nimport { ModuleLoader } from './module-loader';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./module-loader\";\nexport class FederationRuntime {\n    moduleLoader;\n    initialized = false;\n    manifest = null;\n    constructor(moduleLoader) {\n        this.moduleLoader = moduleLoader;\n    }\n    async initialize(manifestPath) {\n        if (this.initialized) {\n            console.warn('[Native Federation] Federation already initialized');\n            return;\n        }\n        try {\n            await this.moduleLoader.initialize(manifestPath);\n            this.initialized = true;\n            if (typeof window !== 'undefined') {\n                window.__nativeFederation = {\n                    loadRemoteModule: this.loadRemoteModule.bind(this),\n                    loadSharedModule: this.loadSharedModule.bind(this),\n                    preloadModule: this.preloadModule.bind(this),\n                    getLoadedModules: this.getLoadedModules.bind(this),\n                    clearCache: this.clearCache.bind(this)\n                };\n            }\n            console.log('[Native Federation] Federation initialized successfully');\n        }\n        catch (error) {\n            console.error('[Native Federation] Failed to initialize federation:', error);\n            throw error;\n        }\n    }\n    async loadRemoteModule(remoteName, modulePath) {\n        if (!this.initialized) {\n            throw new Error('[Native Federation] Federation not initialized. Call initialize() first.');\n        }\n        return this.moduleLoader.loadRemoteModule(remoteName, modulePath);\n    }\n    async loadSharedModule(packageName) {\n        if (!this.initialized) {\n            throw new Error('[Native Federation] Federation not initialized. Call initialize() first.');\n        }\n        return this.moduleLoader.loadSharedModule(packageName);\n    }\n    async preloadModule(remoteName, modulePath) {\n        if (!this.initialized) {\n            throw new Error('[Native Federation] Federation not initialized. Call initialize() first.');\n        }\n        return this.moduleLoader.preloadModule(remoteName, modulePath);\n    }\n    getLoadedModules() {\n        if (!this.initialized) {\n            return new Map();\n        }\n        return this.moduleLoader.getLoadedModules();\n    }\n    clearCache() {\n        this.moduleLoader.clearCache();\n    }\n    isInitialized() {\n        return this.initialized;\n    }\n    async reinitialize(manifestPath) {\n        this.moduleLoader.clearCache();\n        this.initialized = false;\n        await this.initialize(manifestPath);\n    }\n    getFederationStatus() {\n        return {\n            initialized: this.initialized,\n            loadedModulesCount: this.moduleLoader.getLoadedModules().size,\n            hasModuleLoader: true\n        };\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: FederationRuntime, deps: [{ token: i1.ModuleLoader }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: FederationRuntime, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: FederationRuntime, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: i1.ModuleLoader }] });\n// Export functions for backward compatibility\nexport async function initFederation(manifestPath) {\n    // Deprecated - use FederationRuntime class instead\n    console.warn('[Native Federation] initFederation() is deprecated. Use FederationRuntime class instead.');\n}\nexport async function loadRemoteModule(remoteName, modulePath) {\n    // Deprecated - use FederationRuntime class instead\n    throw new Error('[Native Federation] loadRemoteModule() is deprecated. Use FederationRuntime class instead.');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmVkZXJhdGlvbi1ydW50aW1lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmF0aXZlLWZlZGVyYXRpb24vc3JjL2xpYi9ydW50aW1lL2ZlZGVyYXRpb24tcnVudGltZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQzs7O0FBTS9DLE1BQU0sT0FBTyxpQkFBaUI7SUFJUjtJQUhaLFdBQVcsR0FBRyxLQUFLLENBQUM7SUFDcEIsUUFBUSxHQUE4QixJQUFJLENBQUM7SUFFbkQsWUFBb0IsWUFBMEI7UUFBMUIsaUJBQVksR0FBWixZQUFZLENBQWM7SUFBRyxDQUFDO0lBRWxELEtBQUssQ0FBQyxVQUFVLENBQUMsWUFBcUI7UUFDcEMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDckIsT0FBTyxDQUFDLElBQUksQ0FBQyxvREFBb0QsQ0FBQyxDQUFDO1lBQ25FLE9BQU87UUFDVCxDQUFDO1FBRUQsSUFBSSxDQUFDO1lBQ0gsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNqRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztZQUV4QixJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRSxDQUFDO2dCQUNqQyxNQUFjLENBQUMsa0JBQWtCLEdBQUc7b0JBQ25DLGdCQUFnQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO29CQUNsRCxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztvQkFDbEQsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztvQkFDNUMsZ0JBQWdCLEVB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LE1BQU0sSUFBSSxLQUFLLENBQUMsNEZBQTRGLENBQUMsQ0FBQztBQUNoSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTW9kdWxlTG9hZGVyIH0gZnJvbSAnLi9tb2R1bGUtbG9hZGVyJztcbmltcG9ydCB7IE1vZHVsZUluZm8sIEZlZGVyYXRpb25NYW5pZmVzdCB9IGZyb20gJy4uL3R5cGVzL2ZlZGVyYXRpb24nO1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBGZWRlcmF0aW9uUnVudGltZSB7XG4gIHByaXZhdGUgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBtYW5pZmVzdDogRmVkZXJhdGlvbk1hbmlmZXN0IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBtb2R1bGVMb2FkZXI6IE1vZHVsZUxvYWRlcikge31cblxuICBhc3luYyBpbml0aWFsaXplKG1hbmlmZXN0UGF0aD86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tOYXRpdmUgRmVkZXJhdGlvbl0gRmVkZXJhdGlvbiBhbHJlYWR5IGluaXRpYWxpemVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMubW9kdWxlTG9hZGVyLmluaXRpYWxpemUobWFuaWZlc3RQYXRoKTtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLl9fbmF0aXZlRmVkZXJhdGlvbiA9IHtcbiAgICAgICAgICBsb2FkUmVtb3RlTW9kdWxlOiB0aGlzLmxvYWRSZW1vdGVNb2R1bGUuYmluZCh0aGlzKSxcbiAgICAgICAgICBsb2FkU2hhcmVkTW9kdWxlOiB0aGlzLmxvYWRTaGFyZWRNb2R1bGUuYmluZCh0aGlzKSxcbiAgICAgICAgICBwcmVsb2FkTW9kdWxlOiB0aGlzLnByZWxvYWRNb2R1bGUuYmluZCh0aGlzKSxcbiAgICAgICAgICBnZXRMb2FkZWRNb2R1bGVzOiB0aGlzLmdldExvYWRlZE1vZHVsZXMuYmluZCh0aGlzKSxcbiAgICAgICAgICBjbGVhckNhY2hlOiB0aGlzLmNsZWFyQ2FjaGUuYmluZCh0aGlzKVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnW05hdGl2ZSBGZWRlcmF0aW9uXSBGZWRlcmF0aW9uIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tOYXRpdmUgRmVkZXJhdGlvbl0gRmFpbGVkIHRvIGluaXRpYWxpemUgZmVkZXJhdGlvbjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBsb2FkUmVtb3RlTW9kdWxlPFQgPSBhbnk+KHJlbW90ZU5hbWU6IHN0cmluZywgbW9kdWxlUGF0aDogc3RyaW5nKTogUHJvbWlzZTxUPiB7XG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tOYXRpdmUgRmVkZXJhdGlvbl0gRmVkZXJhdGlvbiBub3QgaW5pdGlhbGl6ZWQuIENhbGwgaW5pdGlhbGl6ZSgpIGZpcnN0LicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm1vZHVsZUxvYWRlci5sb2FkUmVtb3RlTW9kdWxlPFQ+KHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpO1xuICB9XG5cbiAgYXN5bmMgbG9hZFNoYXJlZE1vZHVsZTxUID0gYW55PihwYWNrYWdlTmFtZTogc3RyaW5nKTogUHJvbWlzZTxUPiB7XG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tOYXRpdmUgRmVkZXJhdGlvbl0gRmVkZXJhdGlvbiBub3QgaW5pdGlhbGl6ZWQuIENhbGwgaW5pdGlhbGl6ZSgpIGZpcnN0LicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm1vZHVsZUxvYWRlci5sb2FkU2hhcmVkTW9kdWxlPFQ+KHBhY2thZ2VOYW1lKTtcbiAgfVxuXG4gIGFzeW5jIHByZWxvYWRNb2R1bGUocmVtb3RlTmFtZTogc3RyaW5nLCBtb2R1bGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignW05hdGl2ZSBGZWRlcmF0aW9uXSBGZWRlcmF0aW9uIG5vdCBpbml0aWFsaXplZC4gQ2FsbCBpbml0aWFsaXplKCkgZmlyc3QuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubW9kdWxlTG9hZGVyLnByZWxvYWRNb2R1bGUocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gIH1cblxuICBnZXRMb2FkZWRNb2R1bGVzKCkge1xuICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuIG5ldyBNYXAoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tb2R1bGVMb2FkZXIuZ2V0TG9hZGVkTW9kdWxlcygpO1xuICB9XG5cbiAgY2xlYXJDYWNoZSgpOiB2b2lkIHtcbiAgICB0aGlzLm1vZHVsZUxvYWRlci5jbGVhckNhY2hlKCk7XG4gIH1cblxuICBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmluaXRpYWxpemVkO1xuICB9XG5cbiAgYXN5bmMgcmVpbml0aWFsaXplKG1hbmlmZXN0UGF0aD86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMubW9kdWxlTG9hZGVyLmNsZWFyQ2FjaGUoKTtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXplKG1hbmlmZXN0UGF0aCk7XG4gIH1cblxuICBnZXRGZWRlcmF0aW9uU3RhdHVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbml0aWFsaXplZDogdGhpcy5pbml0aWFsaXplZCxcbiAgICAgIGxvYWRlZE1vZHVsZXNDb3VudDogdGhpcy5tb2R1bGVMb2FkZXIuZ2V0TG9hZGVkTW9kdWxlcygpLnNpemUsXG4gICAgICBoYXNNb2R1bGVMb2FkZXI6IHRydWVcbiAgICB9O1xuICB9XG59XG5cbi8vIEV4cG9ydCBmdW5jdGlvbnMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0RmVkZXJhdGlvbihtYW5pZmVzdFBhdGg/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gRGVwcmVjYXRlZCAtIHVzZSBGZWRlcmF0aW9uUnVudGltZSBjbGFzcyBpbnN0ZWFkXG4gIGNvbnNvbGUud2FybignW05hdGl2ZSBGZWRlcmF0aW9uXSBpbml0RmVkZXJhdGlvbigpIGlzIGRlcHJlY2F0ZWQuIFVzZSBGZWRlcmF0aW9uUnVudGltZSBjbGFzcyBpbnN0ZWFkLicpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFJlbW90ZU1vZHVsZTxUID0gYW55PihyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8VD4ge1xuICAvLyBEZXByZWNhdGVkIC0gdXNlIEZlZGVyYXRpb25SdW50aW1lIGNsYXNzIGluc3RlYWRcbiAgdGhyb3cgbmV3IEVycm9yKCdbTmF0aXZlIEZlZGVyYXRpb25dIGxvYWRSZW1vdGVNb2R1bGUoKSBpcyBkZXByZWNhdGVkLiBVc2UgRmVkZXJhdGlvblJ1bnRpbWUgY2xhc3MgaW5zdGVhZC4nKTtcbn0iXX0=","originalSourcemap":{"version":3,"file":"federation-runtime.js","sourceRoot":"","sources":["../../../../../projects/native-federation/src/lib/runtime/federation-runtime.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[19,0,0,19],[21,0,0,21],[27,0,0,27],[42,0,0,42],[43,0,0,43]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[21,0,1,21],[23,0,1,23],[29,0,1,29],[46,0,1,46],[47,0,1,47]],[],[],[[0,0,7,0],[6,0,7,6],[13,0,7,13],[30,0,7,30]],[[4,0,11,22]],[[4,0,8,10],[15,0,8,21],[18,0,8,24],[23,0,8,29],[24,0,8,30]],[[4,0,9,10],[12,0,9,18],[15,0,9,48],[19,0,9,52],[20,0,9,53]],[[4,0,11,2],[16,0,11,22],[28,0,11,48]],[[8,0,11,22],[25,0,11,34],[28,0,11,22],[40,0,11,34],[41,0,11,48]],[[4,0,11,51],[5,0,11,52]],[[4,0,13,2],[9,0,13,7],[10,0,13,8],[20,0,13,18],[21,0,13,19],[33,0,13,40]],[[8,0,14,4],[12,0,14,8],[16,0,14,12],[17,0,14,13],[28,0,14,24],[30,0,14,26],[31,0,14,27]],[[12,0,15,6],[19,0,15,13],[20,0,15,14],[24,0,15,18],[25,0,15,19],[77,0,15,71],[78,0,15,72],[79,0,15,73]],[[12,0,16,6],[19,0,16,13]],[[8,0,17,4],[9,0,17,5]],[[8,0,19,4],[12,0,19,8],[13,0,19,9]],[[12,0,20,6],[18,0,20,12],[22,0,20,16],[23,0,20,17],[35,0,20,29],[36,0,20,30],[46,0,20,40],[47,0,20,41],[59,0,20,53],[60,0,20,54],[61,0,20,55]],[[12,0,21,6],[16,0,21,10],[17,0,21,11],[28,0,21,22],[31,0,21,25],[35,0,21,29],[36,0,21,30]],[[12,0,23,6],[16,0,23,10],[23,0,23,17],[29,0,23,23],[34,0,23,28],[45,0,23,39],[47,0,23,41],[48,0,23,42]],[[16,0,24,9],[22,0,24,23],[23,0,24,24],[41,0,24,42],[44,0,24,45]],[[20,0,25,10],[36,0,25,26],[38,0,25,28],[42,0,25,32],[43,0,25,33],[59,0,25,49],[60,0,25,50],[64,0,25,54],[65,0,25,55],[69,0,25,59],[70,0,25,60]],[[20,0,26,10],[36,0,26,26],[38,0,26,28],[42,0,26,32],[43,0,26,33],[59,0,26,49],[60,0,26,50],[64,0,26,54],[65,0,26,55],[69,0,26,59],[70,0,26,60]],[[20,0,27,10],[33,0,27,23],[35,0,27,25],[39,0,27,29],[40,0,27,30],[53,0,27,43],[54,0,27,44],[58,0,27,48],[59,0,27,49],[63,0,27,53],[64,0,27,54]],[[20,0,28,10],[36,0,28,26],[38,0,28,28],[42,0,28,32],[43,0,28,33],[59,0,28,49],[60,0,28,50],[64,0,28,54],[65,0,28,55],[69,0,28,59],[70,0,28,60]],[[20,0,29,10],[30,0,29,20],[32,0,29,22],[36,0,29,26],[37,0,29,27],[47,0,29,37],[48,0,29,38],[52,0,29,42],[53,0,29,43],[57,0,29,47],[58,0,29,48]],[[17,0,30,9],[18,0,30,10]],[[12,0,31,6],[13,0,31,7]],[[12,0,33,6],[19,0,33,13],[20,0,33,14],[23,0,33,17],[24,0,33,18],[81,0,33,75],[82,0,33,76],[83,0,33,77]],[[8,0,34,4],[9,0,34,5]],[[8,0,34,6],[15,0,34,13],[20,0,34,23],[22,0,34,25],[23,0,34,26]],[[12,0,35,6],[19,0,35,13],[20,0,35,14],[25,0,35,19],[26,0,35,20],[80,0,35,74],[82,0,35,76],[87,0,35,81],[88,0,35,82],[89,0,35,83]],[[12,0,36,6],[18,0,36,12],[23,0,36,17],[24,0,36,18]],[[8,0,37,4],[9,0,37,5]],[[4,0,38,2],[5,0,38,3]],[[4,0,40,2],[9,0,40,7],[10,0,40,8],[26,0,40,24],[27,0,40,34],[37,0,40,52],[39,0,40,54],[49,0,40,72]],[[8,0,41,4],[12,0,41,8],[13,0,41,9],[17,0,41,13],[18,0,41,14],[29,0,41,25],[31,0,41,27],[32,0,41,28]],[[12,0,42,6],[18,0,42,12],[22,0,42,16],[27,0,42,21],[28,0,42,22],[102,0,42,96],[103,0,42,97],[104,0,42,98]],[[8,0,43,4],[9,0,43,5]],[[8,0,45,4],[15,0,45,11],[19,0,45,15],[20,0,45,16],[32,0,45,28],[33,0,45,29],[49,0,45,45],[50,0,45,49],[60,0,45,59],[62,0,45,61],[72,0,45,71],[73,0,45,72],[74,0,45,73]],[[4,0,46,2],[5,0,46,3]],[[4,0,48,2],[9,0,48,7],[10,0,48,8],[26,0,48,24],[27,0,48,34],[38,0,48,53]],[[8,0,49,4],[12,0,49,8],[13,0,49,9],[17,0,49,13],[18,0,49,14],[29,0,49,25],[31,0,49,27],[32,0,49,28]],[[12,0,50,6],[18,0,50,12],[22,0,50,16],[27,0,50,21],[28,0,50,22],[102,0,50,96],[103,0,50,97],[104,0,50,98]],[[8,0,51,4],[9,0,51,5]],[[8,0,53,4],[15,0,53,11],[19,0,53,15],[20,0,53,16],[32,0,53,28],[33,0,53,29],[49,0,53,45],[50,0,53,49],[61,0,53,60],[62,0,53,61],[63,0,53,62]],[[4,0,54,2],[5,0,54,3]],[[4,0,56,2],[9,0,56,7],[10,0,56,8],[23,0,56,21],[24,0,56,22],[34,0,56,40],[36,0,56,42],[46,0,56,60]],[[8,0,57,4],[12,0,57,8],[13,0,57,9],[17,0,57,13],[18,0,57,14],[29,0,57,25],[31,0,57,27],[32,0,57,28]],[[12,0,58,6],[18,0,58,12],[22,0,58,16],[27,0,58,21],[28,0,58,22],[102,0,58,96],[103,0,58,97],[104,0,58,98]],[[8,0,59,4],[9,0,59,5]],[[8,0,61,4],[15,0,61,11],[19,0,61,15],[20,0,61,16],[32,0,61,28],[33,0,61,29],[46,0,61,42],[47,0,61,43],[57,0,61,53],[59,0,61,55],[69,0,61,65],[70,0,61,66],[71,0,61,67]],[[4,0,62,2],[5,0,62,3]],[[4,0,64,2],[20,0,64,18]],[[8,0,65,4],[12,0,65,8],[13,0,65,9],[17,0,65,13],[18,0,65,14],[29,0,65,25],[31,0,65,27],[32,0,65,28]],[[12,0,66,6],[19,0,66,13],[23,0,66,17],[26,0,66,20],[28,0,66,22],[29,0,66,23]],[[8,0,67,4],[9,0,67,5]],[[8,0,69,4],[15,0,69,11],[19,0,69,15],[20,0,69,16],[32,0,69,28],[33,0,69,29],[49,0,69,45],[51,0,69,47],[52,0,69,48]],[[4,0,70,2],[5,0,70,3]],[[4,0,72,2],[14,0,72,12]],[[8,0,73,4],[12,0,73,8],[13,0,73,9],[25,0,73,21],[26,0,73,22],[36,0,73,32],[38,0,73,34],[39,0,73,35]],[[4,0,74,2],[5,0,74,3]],[[4,0,76,2],[17,0,76,15]],[[8,0,77,4],[15,0,77,11],[19,0,77,15],[20,0,77,16],[31,0,77,27],[32,0,77,28]],[[4,0,78,2],[5,0,78,3]],[[4,0,80,2],[9,0,80,7],[10,0,80,8],[22,0,80,20],[23,0,80,21],[35,0,80,42]],[[8,0,81,4],[12,0,81,8],[13,0,81,9],[25,0,81,21],[26,0,81,22],[36,0,81,32],[38,0,81,34],[39,0,81,35]],[[8,0,82,4],[12,0,82,8],[13,0,82,9],[24,0,82,20],[27,0,82,23],[32,0,82,28],[33,0,82,29]],[[8,0,83,4],[14,0,83,10],[18,0,83,14],[19,0,83,15],[29,0,83,25],[30,0,83,26],[42,0,83,38],[43,0,83,39],[44,0,83,40]],[[4,0,84,2],[5,0,84,3]],[[4,0,86,2],[23,0,86,21]],[[8,0,87,4],[15,0,87,11]],[[12,0,88,6],[23,0,88,17],[25,0,88,19],[29,0,88,23],[30,0,88,24],[41,0,88,35]],[[12,0,89,6],[30,0,89,24],[32,0,89,26],[36,0,89,30],[37,0,89,31],[49,0,89,43],[50,0,89,44],[66,0,89,60],[68,0,89,62],[69,0,89,63],[73,0,89,67]],[[12,0,90,6],[27,0,90,21],[29,0,90,23],[33,0,90,27]],[[9,0,91,5],[10,0,91,6]],[[4,0,92,2],[5,0,92,3]],[[104,0,7,13],[121,0,7,30]],[[108,0,7,13],[125,0,7,30],[139,0,5,14],[145,0,5,20]],[],[[92,0,7,13],[109,0,7,30]],[[18,0,4,1],[28,0,4,11]],[[19,0,4,12]],[[20,0,5,2],[30,0,5,12],[32,0,5,14],[38,0,5,20]],[[17,0,6,1]],[],[[0,0,95,0],[46,0,95,46]],[[0,0,96,0],[6,0,96,6],[7,0,96,7],[12,0,96,12],[22,0,96,22],[36,0,96,36],[37,0,96,37],[49,0,96,58]],[[4,0,97,2],[55,0,97,53]],[[4,0,98,2],[11,0,98,9],[12,0,98,10],[16,0,98,14],[17,0,98,15],[107,0,98,105],[108,0,98,106],[109,0,98,107]],[[0,0,99,0],[1,0,99,1]],[[0,0,101,0],[6,0,101,6],[7,0,101,7],[12,0,101,12],[22,0,101,22],[38,0,101,38],[39,0,101,48],[49,0,101,66],[51,0,101,68],[61,0,101,86]],[[4,0,102,2],[55,0,102,53]],[[4,0,103,2],[10,0,103,8],[14,0,103,12],[19,0,103,17],[20,0,103,18],[112,0,103,110],[113,0,103,111],[114,0,103,112]],[[0,0,104,0],[1,0,104,1]]],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { ModuleLoader } from './module-loader';\nimport { ModuleInfo, FederationManifest } from '../types/federation';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FederationRuntime {\n  private initialized = false;\n  private manifest: FederationManifest | null = null;\n\n  constructor(private moduleLoader: ModuleLoader) {}\n\n  async initialize(manifestPath?: string): Promise<void> {\n    if (this.initialized) {\n      console.warn('[Native Federation] Federation already initialized');\n      return;\n    }\n\n    try {\n      await this.moduleLoader.initialize(manifestPath);\n      this.initialized = true;\n\n      if (typeof window !== 'undefined') {\n        (window as any).__nativeFederation = {\n          loadRemoteModule: this.loadRemoteModule.bind(this),\n          loadSharedModule: this.loadSharedModule.bind(this),\n          preloadModule: this.preloadModule.bind(this),\n          getLoadedModules: this.getLoadedModules.bind(this),\n          clearCache: this.clearCache.bind(this)\n        };\n      }\n\n      console.log('[Native Federation] Federation initialized successfully');\n    } catch (error: any) {\n      console.error('[Native Federation] Failed to initialize federation:', error);\n      throw error;\n    }\n  }\n\n  async loadRemoteModule<T = any>(remoteName: string, modulePath: string): Promise<T> {\n    if (!this.initialized) {\n      throw new Error('[Native Federation] Federation not initialized. Call initialize() first.');\n    }\n\n    return this.moduleLoader.loadRemoteModule<T>(remoteName, modulePath);\n  }\n\n  async loadSharedModule<T = any>(packageName: string): Promise<T> {\n    if (!this.initialized) {\n      throw new Error('[Native Federation] Federation not initialized. Call initialize() first.');\n    }\n\n    return this.moduleLoader.loadSharedModule<T>(packageName);\n  }\n\n  async preloadModule(remoteName: string, modulePath: string): Promise<void> {\n    if (!this.initialized) {\n      throw new Error('[Native Federation] Federation not initialized. Call initialize() first.');\n    }\n\n    return this.moduleLoader.preloadModule(remoteName, modulePath);\n  }\n\n  getLoadedModules() {\n    if (!this.initialized) {\n      return new Map();\n    }\n\n    return this.moduleLoader.getLoadedModules();\n  }\n\n  clearCache(): void {\n    this.moduleLoader.clearCache();\n  }\n\n  isInitialized(): boolean {\n    return this.initialized;\n  }\n\n  async reinitialize(manifestPath?: string): Promise<void> {\n    this.moduleLoader.clearCache();\n    this.initialized = false;\n    await this.initialize(manifestPath);\n  }\n\n  getFederationStatus() {\n    return {\n      initialized: this.initialized,\n      loadedModulesCount: this.moduleLoader.getLoadedModules().size,\n      hasModuleLoader: true\n    };\n  }\n}\n\n// Export functions for backward compatibility\nexport async function initFederation(manifestPath?: string): Promise<void> {\n  // Deprecated - use FederationRuntime class instead\n  console.warn('[Native Federation] initFederation() is deprecated. Use FederationRuntime class instead.');\n}\n\nexport async function loadRemoteModule<T = any>(remoteName: string, modulePath: string): Promise<T> {\n  // Deprecated - use FederationRuntime class instead\n  throw new Error('[Native Federation] loadRemoteModule() is deprecated. Use FederationRuntime class instead.');\n}"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"./module-loader":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/module-loader.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":29373,"body":[{"type":"ImportDeclaration","start":0,"end":53,"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Injectable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Injectable"}},{"type":"ImportSpecifier","start":21,"end":29,"imported":{"type":"Identifier","start":21,"end":29,"name":"Optional"},"local":{"type":"Identifier","start":21,"end":29,"name":"Optional"}}],"source":{"type":"Literal","start":37,"end":52,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":54,"end":105,"specifiers":[{"type":"ImportSpecifier","start":63,"end":77,"imported":{"type":"Identifier","start":63,"end":77,"name":"VersionManager"},"local":{"type":"Identifier","start":63,"end":77,"name":"VersionManager"}}],"source":{"type":"Literal","start":85,"end":104,"value":"./version-manager","raw":"'./version-manager'"},"attributes":[]},{"type":"ImportDeclaration","start":106,"end":142,"specifiers":[{"type":"ImportNamespaceSpecifier","start":113,"end":120,"local":{"type":"Identifier","start":118,"end":120,"name":"i0"}}],"source":{"type":"Literal","start":126,"end":141,"value":"@angular/core","raw":"\"@angular/core\""},"attributes":[]},{"type":"ImportDeclaration","start":143,"end":183,"specifiers":[{"type":"ImportNamespaceSpecifier","start":150,"end":157,"local":{"type":"Identifier","start":155,"end":157,"name":"i1"}}],"source":{"type":"Literal","start":163,"end":182,"value":"./version-manager","raw":"\"./version-manager\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":300,"end":7682,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":307,"end":7682,"decorators":[],"id":{"type":"Identifier","start":313,"end":328,"name":"SSRModuleLoader"},"superClass":null,"body":{"type":"ClassBody","start":329,"end":7682,"body":[{"type":"PropertyDefinition","start":335,"end":350,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":335,"end":349,"name":"versionManager"},"value":null},{"type":"PropertyDefinition","start":355,"end":381,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":355,"end":368,"name":"loadedModules"},"value":{"type":"NewExpression","start":371,"end":380,"callee":{"type":"Identifier","start":375,"end":378,"name":"Map"},"arguments":[]}},{"type":"PropertyDefinition","start":386,"end":400,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":386,"end":394,"name":"manifest"},"value":{"type":"ObjectExpression","start":397,"end":399,"properties":[]}},{"type":"PropertyDefinition","start":405,"end":429,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":405,"end":416,"name":"moduleCache"},"value":{"type":"NewExpression","start":419,"end":428,"callee":{"type":"Identifier","start":423,"end":426,"name":"Map"},"arguments":[]}},{"type":"PropertyDefinition","start":434,"end":447,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":434,"end":446,"name":"manifestPath"},"value":null},{"type":"PropertyDefinition","start":452,"end":463,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":452,"end":462,"name":"ssrContext"},"value":null},{"type":"MethodDefinition","start":468,"end":653,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":468,"end":479,"name":"constructor"},"value":{"type":"FunctionExpression","start":479,"end":653,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":480,"end":494,"name":"versionManager"},{"type":"Identifier","start":496,"end":506,"name":"ssrContext"}],"body":{"type":"BlockStatement","start":508,"end":653,"body":[{"type":"ExpressionStatement","start":518,"end":555,"expression":{"type":"AssignmentExpression","start":518,"end":554,"operator":"=","left":{"type":"MemberExpression","start":518,"end":537,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":518,"end":522},"property":{"type":"Identifier","start":523,"end":537,"name":"versionManager"}},"right":{"type":"Identifier","start":540,"end":554,"name":"versionManager"}}},{"type":"ExpressionStatement","start":564,"end":609,"expression":{"type":"AssignmentExpression","start":564,"end":608,"operator":"=","left":{"type":"MemberExpression","start":564,"end":581,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":564,"end":568},"property":{"type":"Identifier","start":569,"end":581,"name":"manifestPath"}},"right":{"type":"ChainExpression","start":584,"end":608,"expression":{"type":"MemberExpression","start":584,"end":608,"computed":false,"optional":true,"object":{"type":"Identifier","start":584,"end":594,"name":"ssrContext"},"property":{"type":"Identifier","start":596,"end":608,"name":"manifestPath"}}}}},{"type":"ExpressionStatement","start":618,"end":647,"expression":{"type":"AssignmentExpression","start":618,"end":646,"operator":"=","left":{"type":"MemberExpression","start":618,"end":633,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":618,"end":622},"property":{"type":"Identifier","start":623,"end":633,"name":"ssrContext"}},"right":{"type":"Identifier","start":636,"end":646,"name":"ssrContext"}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":658,"end":799,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":664,"end":674,"name":"initialize"},"value":{"type":"FunctionExpression","start":674,"end":799,"async":true,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":677,"end":799,"body":[{"type":"IfStatement","start":687,"end":793,"test":{"type":"MemberExpression","start":691,"end":708,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":691,"end":695},"property":{"type":"Identifier","start":696,"end":708,"name":"manifestPath"}},"consequent":{"type":"BlockStatement","start":710,"end":793,"body":[{"type":"ExpressionStatement","start":724,"end":783,"expression":{"type":"AssignmentExpression","start":724,"end":782,"operator":"=","left":{"type":"MemberExpression","start":724,"end":737,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":724,"end":728},"property":{"type":"Identifier","start":729,"end":737,"name":"manifest"}},"right":{"type":"AwaitExpression","start":740,"end":782,"argument":{"type":"CallExpression","start":746,"end":782,"optional":false,"callee":{"type":"MemberExpression","start":746,"end":763,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":746,"end":750},"property":{"type":"Identifier","start":751,"end":763,"name":"loadManifest"}},"arguments":[{"type":"MemberExpression","start":764,"end":781,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":764,"end":768},"property":{"type":"Identifier","start":769,"end":781,"name":"manifestPath"}}]}}}}]},"alternate":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":920,"end":2778,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":926,"end":942,"name":"loadRemoteModule"},"value":{"type":"FunctionExpression","start":942,"end":2778,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":943,"end":953,"name":"remoteName"},{"type":"Identifier","start":955,"end":965,"name":"modulePath"}],"body":{"type":"BlockStatement","start":967,"end":2778,"body":[{"type":"VariableDeclaration","start":977,"end":1023,"kind":"const","declarations":[{"type":"VariableDeclarator","start":983,"end":1022,"id":{"type":"Identifier","start":983,"end":991,"name":"moduleId"},"init":{"type":"TemplateLiteral","start":994,"end":1022,"quasis":[{"type":"TemplateElement","start":995,"end":995,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":1008,"end":1008,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":1021,"end":1021,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":997,"end":1007,"name":"remoteName"},{"type":"Identifier","start":1010,"end":1020,"name":"modulePath"}]}}]},{"type":"IfStatement","start":1061,"end":1171,"test":{"type":"CallExpression","start":1065,"end":1095,"optional":false,"callee":{"type":"MemberExpression","start":1065,"end":1085,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1065,"end":1081,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1065,"end":1069},"property":{"type":"Identifier","start":1070,"end":1081,"name":"moduleCache"}},"property":{"type":"Identifier","start":1082,"end":1085,"name":"has"}},"arguments":[{"type":"Identifier","start":1086,"end":1094,"name":"moduleId"}]},"consequent":{"type":"BlockStatement","start":1097,"end":1171,"body":[{"type":"ReturnStatement","start":1111,"end":1161,"argument":{"type":"ObjectExpression","start":1118,"end":1160,"properties":[{"type":"Property","start":1120,"end":1158,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1120,"end":1126,"name":"module"},"value":{"type":"CallExpression","start":1128,"end":1158,"optional":false,"callee":{"type":"MemberExpression","start":1128,"end":1148,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1128,"end":1144,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1128,"end":1132},"property":{"type":"Identifier","start":1133,"end":1144,"name":"moduleCache"}},"property":{"type":"Identifier","start":1145,"end":1148,"name":"get"}},"arguments":[{"type":"Identifier","start":1149,"end":1157,"name":"moduleId"}]},"kind":"init"}]}}]},"alternate":null},{"type":"TryStatement","start":1180,"end":2772,"block":{"type":"BlockStatement","start":1184,"end":2275,"body":[{"type":"VariableDeclaration","start":1264,"end":1337,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1270,"end":1336,"id":{"type":"Identifier","start":1270,"end":1279,"name":"moduleUrl"},"init":{"type":"AwaitExpression","start":1282,"end":1336,"argument":{"type":"CallExpression","start":1288,"end":1336,"optional":false,"callee":{"type":"MemberExpression","start":1288,"end":1312,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1288,"end":1292},"property":{"type":"Identifier","start":1293,"end":1312,"name":"resolveSSRModuleUrl"}},"arguments":[{"type":"Identifier","start":1313,"end":1323,"name":"remoteName"},{"type":"Identifier","start":1325,"end":1335,"name":"modulePath"}]}}}]},{"type":"VariableDeclaration","start":1350,"end":1401,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1356,"end":1400,"id":{"type":"Identifier","start":1356,"end":1362,"name":"module"},"init":{"type":"AwaitExpression","start":1365,"end":1400,"argument":{"type":"CallExpression","start":1371,"end":1400,"optional":false,"callee":{"type":"MemberExpression","start":1371,"end":1389,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1371,"end":1375},"property":{"type":"Identifier","start":1376,"end":1389,"name":"loadSSRModule"}},"arguments":[{"type":"Identifier","start":1390,"end":1399,"name":"moduleUrl"}]}}}]},{"type":"ExpressionStatement","start":1446,"end":1485,"expression":{"type":"CallExpression","start":1446,"end":1484,"optional":false,"callee":{"type":"MemberExpression","start":1446,"end":1466,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1446,"end":1462,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1446,"end":1450},"property":{"type":"Identifier","start":1451,"end":1462,"name":"moduleCache"}},"property":{"type":"Identifier","start":1463,"end":1466,"name":"set"}},"arguments":[{"type":"Identifier","start":1467,"end":1475,"name":"moduleId"},{"type":"Identifier","start":1477,"end":1483,"name":"module"}]}},{"type":"ExpressionStatement","start":1498,"end":1767,"expression":{"type":"CallExpression","start":1498,"end":1766,"optional":false,"callee":{"type":"MemberExpression","start":1498,"end":1520,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1498,"end":1516,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1498,"end":1502},"property":{"type":"Identifier","start":1503,"end":1516,"name":"loadedModules"}},"property":{"type":"Identifier","start":1517,"end":1520,"name":"set"}},"arguments":[{"type":"Identifier","start":1521,"end":1529,"name":"moduleId"},{"type":"ObjectExpression","start":1531,"end":1765,"properties":[{"type":"Property","start":1549,"end":1561,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1549,"end":1551,"name":"id"},"value":{"type":"Identifier","start":1553,"end":1561,"name":"moduleId"},"kind":"init"},{"type":"Property","start":1579,"end":1595,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1579,"end":1583,"name":"name"},"value":{"type":"Identifier","start":1585,"end":1595,"name":"remoteName"},"kind":"init"},{"type":"Property","start":1613,"end":1629,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1613,"end":1620,"name":"version"},"value":{"type":"Literal","start":1622,"end":1629,"value":"1.0.0","raw":"'1.0.0'"},"kind":"init"},{"type":"Property","start":1647,"end":1661,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1647,"end":1650,"name":"url"},"value":{"type":"Identifier","start":1652,"end":1661,"name":"moduleUrl"},"kind":"init"},{"type":"Property","start":1679,"end":1687,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1679,"end":1683,"name":"deps"},"value":{"type":"ArrayExpression","start":1685,"end":1687,"elements":[]},"kind":"init"},{"type":"Property","start":1705,"end":1717,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1705,"end":1711,"name":"loaded"},"value":{"type":"Literal","start":1713,"end":1717,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":1735,"end":1751,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1735,"end":1744,"name":"singleton"},"value":{"type":"Literal","start":1746,"end":1751,"value":false,"raw":"false"},"kind":"init"}]}]}},{"type":"VariableDeclaration","start":1828,"end":1843,"kind":"let","declarations":[{"type":"VariableDeclarator","start":1832,"end":1842,"id":{"type":"Identifier","start":1832,"end":1842,"name":"ssrContent"},"init":null}]},{"type":"VariableDeclaration","start":1856,"end":1874,"kind":"let","declarations":[{"type":"VariableDeclarator","start":1860,"end":1873,"id":{"type":"Identifier","start":1860,"end":1873,"name":"hydrationData"},"init":null}]},{"type":"IfStatement","start":1887,"end":2036,"test":{"type":"LogicalExpression","start":1891,"end":1959,"operator":"&&","left":{"type":"MemberExpression","start":1891,"end":1912,"computed":false,"optional":false,"object":{"type":"Identifier","start":1891,"end":1897,"name":"module"},"property":{"type":"Identifier","start":1898,"end":1912,"name":"renderToString"}},"right":{"type":"BinaryExpression","start":1916,"end":1959,"operator":"===","left":{"type":"UnaryExpression","start":1916,"end":1944,"operator":"typeof","argument":{"type":"MemberExpression","start":1923,"end":1944,"computed":false,"optional":false,"object":{"type":"Identifier","start":1923,"end":1929,"name":"module"},"property":{"type":"Identifier","start":1930,"end":1944,"name":"renderToString"}},"prefix":true},"right":{"type":"Literal","start":1949,"end":1959,"value":"function","raw":"'function'"}}},"consequent":{"type":"BlockStatement","start":1961,"end":2036,"body":[{"type":"ExpressionStatement","start":1979,"end":2022,"expression":{"type":"AssignmentExpression","start":1979,"end":2021,"operator":"=","left":{"type":"Identifier","start":1979,"end":1989,"name":"ssrContent"},"right":{"type":"AwaitExpression","start":1992,"end":2021,"argument":{"type":"CallExpression","start":1998,"end":2021,"optional":false,"callee":{"type":"MemberExpression","start":1998,"end":2019,"computed":false,"optional":false,"object":{"type":"Identifier","start":1998,"end":2004,"name":"module"},"property":{"type":"Identifier","start":2005,"end":2019,"name":"renderToString"}},"arguments":[]}}}}]},"alternate":null},{"type":"IfStatement","start":2049,"end":2207,"test":{"type":"LogicalExpression","start":2053,"end":2125,"operator":"&&","left":{"type":"MemberExpression","start":2053,"end":2076,"computed":false,"optional":false,"object":{"type":"Identifier","start":2053,"end":2059,"name":"module"},"property":{"type":"Identifier","start":2060,"end":2076,"name":"getHydrationData"}},"right":{"type":"BinaryExpression","start":2080,"end":2125,"operator":"===","left":{"type":"UnaryExpression","start":2080,"end":2110,"operator":"typeof","argument":{"type":"MemberExpression","start":2087,"end":2110,"computed":false,"optional":false,"object":{"type":"Identifier","start":2087,"end":2093,"name":"module"},"property":{"type":"Identifier","start":2094,"end":2110,"name":"getHydrationData"}},"prefix":true},"right":{"type":"Literal","start":2115,"end":2125,"value":"function","raw":"'function'"}}},"consequent":{"type":"BlockStatement","start":2127,"end":2207,"body":[{"type":"ExpressionStatement","start":2145,"end":2193,"expression":{"type":"AssignmentExpression","start":2145,"end":2192,"operator":"=","left":{"type":"Identifier","start":2145,"end":2158,"name":"hydrationData"},"right":{"type":"AwaitExpression","start":2161,"end":2192,"argument":{"type":"CallExpression","start":2167,"end":2192,"optional":false,"callee":{"type":"MemberExpression","start":2167,"end":2190,"computed":false,"optional":false,"object":{"type":"Identifier","start":2167,"end":2173,"name":"module"},"property":{"type":"Identifier","start":2174,"end":2190,"name":"getHydrationData"}},"arguments":[]}}}}]},"alternate":null},{"type":"ReturnStatement","start":2220,"end":2265,"argument":{"type":"ObjectExpression","start":2227,"end":2264,"properties":[{"type":"Property","start":2229,"end":2235,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2229,"end":2235,"name":"module"},"value":{"type":"Identifier","start":2229,"end":2235,"name":"module"},"kind":"init"},{"type":"Property","start":2237,"end":2247,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2237,"end":2247,"name":"ssrContent"},"value":{"type":"Identifier","start":2237,"end":2247,"name":"ssrContent"},"kind":"init"},{"type":"Property","start":2249,"end":2262,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2249,"end":2262,"name":"hydrationData"},"value":{"type":"Identifier","start":2249,"end":2262,"name":"hydrationData"},"kind":"init"}]}}]},"handler":{"type":"CatchClause","start":2284,"end":2772,"param":{"type":"Identifier","start":2291,"end":2296,"name":"error"},"body":{"type":"BlockStatement","start":2298,"end":2772,"body":[{"type":"ExpressionStatement","start":2396,"end":2490,"expression":{"type":"CallExpression","start":2396,"end":2489,"optional":false,"callee":{"type":"MemberExpression","start":2396,"end":2408,"computed":false,"optional":false,"object":{"type":"Identifier","start":2396,"end":2403,"name":"console"},"property":{"type":"Identifier","start":2404,"end":2408,"name":"warn"}},"arguments":[{"type":"TemplateLiteral","start":2409,"end":2473,"quasis":[{"type":"TemplateElement","start":2410,"end":2445,"tail":false,"value":{"cooked":"[SSR] Failed to load remote module ","raw":"[SSR] Failed to load remote module "}},{"type":"TemplateElement","start":2458,"end":2458,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":2471,"end":2472,"tail":true,"value":{"cooked":":","raw":":"}}],"expressions":[{"type":"Identifier","start":2447,"end":2457,"name":"remoteName"},{"type":"Identifier","start":2460,"end":2470,"name":"modulePath"}]},{"type":"MemberExpression","start":2475,"end":2488,"computed":false,"optional":false,"object":{"type":"Identifier","start":2475,"end":2480,"name":"error"},"property":{"type":"Identifier","start":2481,"end":2488,"name":"message"}}]}},{"type":"ReturnStatement","start":2503,"end":2762,"argument":{"type":"ObjectExpression","start":2510,"end":2761,"properties":[{"type":"Property","start":2528,"end":2585,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2528,"end":2534,"name":"module"},"value":{"type":"CallExpression","start":2536,"end":2585,"optional":false,"callee":{"type":"MemberExpression","start":2536,"end":2561,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2536,"end":2540},"property":{"type":"Identifier","start":2541,"end":2561,"name":"createFallbackModule"}},"arguments":[{"type":"Identifier","start":2562,"end":2572,"name":"remoteName"},{"type":"Identifier","start":2574,"end":2584,"name":"modulePath"}]},"kind":"init"},{"type":"Property","start":2603,"end":2672,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2603,"end":2613,"name":"ssrContent"},"value":{"type":"TemplateLiteral","start":2615,"end":2672,"quasis":[{"type":"TemplateElement","start":2616,"end":2641,"tail":false,"value":{"cooked":"<!-- SSR: Failed to load ","raw":"<!-- SSR: Failed to load "}},{"type":"TemplateElement","start":2654,"end":2654,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":2667,"end":2671,"tail":true,"value":{"cooked":" -->","raw":" -->"}}],"expressions":[{"type":"Identifier","start":2643,"end":2653,"name":"remoteName"},{"type":"Identifier","start":2656,"end":2666,"name":"modulePath"}]},"kind":"init"},{"type":"Property","start":2690,"end":2747,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2690,"end":2703,"name":"hydrationData"},"value":{"type":"ObjectExpression","start":2705,"end":2747,"properties":[{"type":"Property","start":2707,"end":2721,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2707,"end":2715,"name":"fallback"},"value":{"type":"Literal","start":2717,"end":2721,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":2723,"end":2733,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2723,"end":2733,"name":"remoteName"},"value":{"type":"Identifier","start":2723,"end":2733,"name":"remoteName"},"kind":"init"},{"type":"Property","start":2735,"end":2745,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2735,"end":2745,"name":"modulePath"},"value":{"type":"Identifier","start":2735,"end":2745,"name":"modulePath"},"kind":"init"}]},"kind":"init"}]}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2836,"end":3898,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2842,"end":2858,"name":"loadSharedModule"},"value":{"type":"FunctionExpression","start":2858,"end":3898,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":2859,"end":2870,"name":"packageName"},{"type":"Identifier","start":2872,"end":2887,"name":"versionStrategy"}],"body":{"type":"BlockStatement","start":2889,"end":3898,"body":[{"type":"VariableDeclaration","start":2899,"end":2954,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2905,"end":2953,"id":{"type":"Identifier","start":2905,"end":2915,"name":"moduleInfo"},"init":{"type":"CallExpression","start":2918,"end":2953,"optional":false,"callee":{"type":"MemberExpression","start":2918,"end":2940,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2918,"end":2936,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2918,"end":2922},"property":{"type":"Identifier","start":2923,"end":2936,"name":"loadedModules"}},"property":{"type":"Identifier","start":2937,"end":2940,"name":"get"}},"arguments":[{"type":"Identifier","start":2941,"end":2952,"name":"packageName"}]}}]},{"type":"IfStatement","start":2963,"end":3113,"test":{"type":"LogicalExpression","start":2967,"end":3046,"operator":"&&","left":{"type":"LogicalExpression","start":2967,"end":3009,"operator":"&&","left":{"type":"ChainExpression","start":2967,"end":2988,"expression":{"type":"MemberExpression","start":2967,"end":2988,"computed":false,"optional":true,"object":{"type":"Identifier","start":2967,"end":2977,"name":"moduleInfo"},"property":{"type":"Identifier","start":2979,"end":2988,"name":"singleton"}}},"right":{"type":"MemberExpression","start":2992,"end":3009,"computed":false,"optional":false,"object":{"type":"Identifier","start":2992,"end":3002,"name":"moduleInfo"},"property":{"type":"Identifier","start":3003,"end":3009,"name":"loaded"}}},"right":{"type":"CallExpression","start":3013,"end":3046,"optional":false,"callee":{"type":"MemberExpression","start":3013,"end":3033,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3013,"end":3029,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3013,"end":3017},"property":{"type":"Identifier","start":3018,"end":3029,"name":"moduleCache"}},"property":{"type":"Identifier","start":3030,"end":3033,"name":"has"}},"arguments":[{"type":"Identifier","start":3034,"end":3045,"name":"packageName"}]}},"consequent":{"type":"BlockStatement","start":3048,"end":3113,"body":[{"type":"ReturnStatement","start":3062,"end":3103,"argument":{"type":"CallExpression","start":3069,"end":3102,"optional":false,"callee":{"type":"MemberExpression","start":3069,"end":3089,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3069,"end":3085,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3069,"end":3073},"property":{"type":"Identifier","start":3074,"end":3085,"name":"moduleCache"}},"property":{"type":"Identifier","start":3086,"end":3089,"name":"get"}},"arguments":[{"type":"Identifier","start":3090,"end":3101,"name":"packageName"}]}}]},"alternate":null},{"type":"TryStatement","start":3122,"end":3892,"block":{"type":"BlockStatement","start":3126,"end":3757,"body":[{"type":"VariableDeclaration","start":3198,"end":3337,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3204,"end":3336,"id":{"type":"Identifier","start":3204,"end":3210,"name":"module"},"init":{"type":"ConditionalExpression","start":3213,"end":3336,"test":{"type":"ChainExpression","start":3213,"end":3237,"expression":{"type":"MemberExpression","start":3213,"end":3237,"computed":false,"optional":true,"object":{"type":"MemberExpression","start":3213,"end":3228,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3213,"end":3217},"property":{"type":"Identifier","start":3218,"end":3228,"name":"ssrContext"}},"property":{"type":"Identifier","start":3230,"end":3237,"name":"require"}}},"consequent":{"type":"CallExpression","start":3256,"end":3292,"optional":false,"callee":{"type":"MemberExpression","start":3256,"end":3279,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3256,"end":3271,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3256,"end":3260},"property":{"type":"Identifier","start":3261,"end":3271,"name":"ssrContext"}},"property":{"type":"Identifier","start":3272,"end":3279,"name":"require"}},"arguments":[{"type":"Identifier","start":3280,"end":3291,"name":"packageName"}]},"alternate":{"type":"AwaitExpression","start":3311,"end":3336,"argument":{"type":"ImportExpression","start":3317,"end":3336,"source":{"type":"Identifier","start":3324,"end":3335,"name":"packageName"},"options":null}}}}]},{"type":"ExpressionStatement","start":3350,"end":3392,"expression":{"type":"CallExpression","start":3350,"end":3391,"optional":false,"callee":{"type":"MemberExpression","start":3350,"end":3370,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3350,"end":3366,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3350,"end":3354},"property":{"type":"Identifier","start":3355,"end":3366,"name":"moduleCache"}},"property":{"type":"Identifier","start":3367,"end":3370,"name":"set"}},"arguments":[{"type":"Identifier","start":3371,"end":3382,"name":"packageName"},{"type":"Identifier","start":3384,"end":3390,"name":"module"}]}},{"type":"ExpressionStatement","start":3405,"end":3720,"expression":{"type":"CallExpression","start":3405,"end":3719,"optional":false,"callee":{"type":"MemberExpression","start":3405,"end":3427,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3405,"end":3423,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3405,"end":3409},"property":{"type":"Identifier","start":3410,"end":3423,"name":"loadedModules"}},"property":{"type":"Identifier","start":3424,"end":3427,"name":"set"}},"arguments":[{"type":"Identifier","start":3428,"end":3439,"name":"packageName"},{"type":"ObjectExpression","start":3441,"end":3718,"properties":[{"type":"Property","start":3459,"end":3474,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3459,"end":3461,"name":"id"},"value":{"type":"Identifier","start":3463,"end":3474,"name":"packageName"},"kind":"init"},{"type":"Property","start":3492,"end":3509,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3492,"end":3496,"name":"name"},"value":{"type":"Identifier","start":3498,"end":3509,"name":"packageName"},"kind":"init"},{"type":"Property","start":3527,"end":3543,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3527,"end":3534,"name":"version"},"value":{"type":"Literal","start":3536,"end":3543,"value":"1.0.0","raw":"'1.0.0'"},"kind":"init"},{"type":"Property","start":3599,"end":3615,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3599,"end":3602,"name":"url"},"value":{"type":"Identifier","start":3604,"end":3615,"name":"packageName"},"kind":"init"},{"type":"Property","start":3633,"end":3641,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3633,"end":3637,"name":"deps"},"value":{"type":"ArrayExpression","start":3639,"end":3641,"elements":[]},"kind":"init"},{"type":"Property","start":3659,"end":3671,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3659,"end":3665,"name":"loaded"},"value":{"type":"Literal","start":3667,"end":3671,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":3689,"end":3704,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3689,"end":3698,"name":"singleton"},"value":{"type":"Literal","start":3700,"end":3704,"value":true,"raw":"true"},"kind":"init"}]}]}},{"type":"ReturnStatement","start":3733,"end":3747,"argument":{"type":"Identifier","start":3740,"end":3746,"name":"module"}}]},"handler":{"type":"CatchClause","start":3766,"end":3892,"param":{"type":"Identifier","start":3773,"end":3778,"name":"error"},"body":{"type":"BlockStatement","start":3780,"end":3892,"body":[{"type":"ThrowStatement","start":3794,"end":3882,"argument":{"type":"NewExpression","start":3800,"end":3881,"callee":{"type":"Identifier","start":3804,"end":3809,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":3810,"end":3880,"quasis":[{"type":"TemplateElement","start":3811,"end":3840,"tail":false,"value":{"cooked":"Failed to load shared module ","raw":"Failed to load shared module "}},{"type":"TemplateElement","start":3854,"end":3863,"tail":false,"value":{"cooked":" in SSR: ","raw":" in SSR: "}},{"type":"TemplateElement","start":3879,"end":3879,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":3842,"end":3853,"name":"packageName"},{"type":"MemberExpression","start":3865,"end":3878,"computed":false,"optional":false,"object":{"type":"Identifier","start":3865,"end":3870,"name":"error"},"property":{"type":"Identifier","start":3871,"end":3878,"name":"message"}}]}]}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3970,"end":4423,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3970,"end":3995,"name":"generateHydrationManifest"},"value":{"type":"FunctionExpression","start":3995,"end":4423,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":3998,"end":4423,"body":[{"type":"VariableDeclaration","start":4008,"end":4033,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4014,"end":4032,"id":{"type":"Identifier","start":4014,"end":4027,"name":"loadedModules"},"init":{"type":"ArrayExpression","start":4030,"end":4032,"elements":[]}}]},{"type":"ExpressionStatement","start":4042,"end":4314,"expression":{"type":"CallExpression","start":4042,"end":4313,"optional":false,"callee":{"type":"MemberExpression","start":4042,"end":4068,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4042,"end":4060,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4042,"end":4046},"property":{"type":"Identifier","start":4047,"end":4060,"name":"loadedModules"}},"property":{"type":"Identifier","start":4061,"end":4068,"name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","start":4069,"end":4312,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":4070,"end":4080,"name":"moduleInfo"}],"body":{"type":"BlockStatement","start":4085,"end":4312,"body":[{"type":"ExpressionStatement","start":4099,"end":4302,"expression":{"type":"CallExpression","start":4099,"end":4301,"optional":false,"callee":{"type":"MemberExpression","start":4099,"end":4117,"computed":false,"optional":false,"object":{"type":"Identifier","start":4099,"end":4112,"name":"loadedModules"},"property":{"type":"Identifier","start":4113,"end":4117,"name":"push"}},"arguments":[{"type":"ObjectExpression","start":4118,"end":4300,"properties":[{"type":"Property","start":4136,"end":4153,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4136,"end":4138,"name":"id"},"value":{"type":"MemberExpression","start":4140,"end":4153,"computed":false,"optional":false,"object":{"type":"Identifier","start":4140,"end":4150,"name":"moduleInfo"},"property":{"type":"Identifier","start":4151,"end":4153,"name":"id"}},"kind":"init"},{"type":"Property","start":4171,"end":4192,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4171,"end":4175,"name":"name"},"value":{"type":"MemberExpression","start":4177,"end":4192,"computed":false,"optional":false,"object":{"type":"Identifier","start":4177,"end":4187,"name":"moduleInfo"},"property":{"type":"Identifier","start":4188,"end":4192,"name":"name"}},"kind":"init"},{"type":"Property","start":4210,"end":4229,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4210,"end":4213,"name":"url"},"value":{"type":"MemberExpression","start":4215,"end":4229,"computed":false,"optional":false,"object":{"type":"Identifier","start":4215,"end":4225,"name":"moduleInfo"},"property":{"type":"Identifier","start":4226,"end":4229,"name":"url"}},"kind":"init"},{"type":"Property","start":4247,"end":4286,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4247,"end":4260,"name":"hydrationData"},"value":{"type":"MemberExpression","start":4262,"end":4286,"computed":false,"optional":false,"object":{"type":"Identifier","start":4262,"end":4272,"name":"moduleInfo"},"property":{"type":"Identifier","start":4273,"end":4286,"name":"hydrationData"}},"kind":"init"}]}]}}]},"id":null}]}},{"type":"ReturnStatement","start":4323,"end":4417,"argument":{"type":"ObjectExpression","start":4330,"end":4416,"properties":[{"type":"Property","start":4344,"end":4357,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4344,"end":4357,"name":"loadedModules"},"value":{"type":"Identifier","start":4344,"end":4357,"name":"loadedModules"},"kind":"init"},{"type":"Property","start":4371,"end":4406,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4371,"end":4380,"name":"importMap"},"value":{"type":"CallExpression","start":4382,"end":4406,"optional":false,"callee":{"type":"MemberExpression","start":4382,"end":4404,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4382,"end":4386},"property":{"type":"Identifier","start":4387,"end":4404,"name":"generateImportMap"}},"arguments":[]},"kind":"init"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4428,"end":4936,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4434,"end":4446,"name":"loadManifest"},"value":{"type":"FunctionExpression","start":4446,"end":4936,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":4447,"end":4459,"name":"manifestPath"}],"body":{"type":"BlockStatement","start":4461,"end":4936,"body":[{"type":"TryStatement","start":4471,"end":4930,"block":{"type":"BlockStatement","start":4475,"end":4777,"body":[{"type":"VariableDeclaration","start":4489,"end":4537,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4495,"end":4536,"id":{"type":"Identifier","start":4495,"end":4502,"name":"fetchFn"},"init":{"type":"LogicalExpression","start":4505,"end":4536,"operator":"||","left":{"type":"ChainExpression","start":4505,"end":4527,"expression":{"type":"MemberExpression","start":4505,"end":4527,"computed":false,"optional":true,"object":{"type":"MemberExpression","start":4505,"end":4520,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4505,"end":4509},"property":{"type":"Identifier","start":4510,"end":4520,"name":"ssrContext"}},"property":{"type":"Identifier","start":4522,"end":4527,"name":"fetch"}}},"right":{"type":"Identifier","start":4531,"end":4536,"name":"fetch"}}}]},{"type":"VariableDeclaration","start":4550,"end":4595,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4556,"end":4594,"id":{"type":"Identifier","start":4556,"end":4564,"name":"response"},"init":{"type":"AwaitExpression","start":4567,"end":4594,"argument":{"type":"CallExpression","start":4573,"end":4594,"optional":false,"callee":{"type":"Identifier","start":4573,"end":4580,"name":"fetchFn"},"arguments":[{"type":"Identifier","start":4581,"end":4593,"name":"manifestPath"}]}}}]},{"type":"IfStatement","start":4608,"end":4725,"test":{"type":"UnaryExpression","start":4612,"end":4624,"operator":"!","argument":{"type":"MemberExpression","start":4613,"end":4624,"computed":false,"optional":false,"object":{"type":"Identifier","start":4613,"end":4621,"name":"response"},"property":{"type":"Identifier","start":4622,"end":4624,"name":"ok"}},"prefix":true},"consequent":{"type":"BlockStatement","start":4626,"end":4725,"body":[{"type":"ThrowStatement","start":4644,"end":4711,"argument":{"type":"NewExpression","start":4650,"end":4710,"callee":{"type":"Identifier","start":4654,"end":4659,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":4660,"end":4709,"quasis":[{"type":"TemplateElement","start":4661,"end":4666,"tail":false,"value":{"cooked":"HTTP ","raw":"HTTP "}},{"type":"TemplateElement","start":4684,"end":4686,"tail":false,"value":{"cooked":": ","raw":": "}},{"type":"TemplateElement","start":4708,"end":4708,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"MemberExpression","start":4668,"end":4683,"computed":false,"optional":false,"object":{"type":"Identifier","start":4668,"end":4676,"name":"response"},"property":{"type":"Identifier","start":4677,"end":4683,"name":"status"}},{"type":"MemberExpression","start":4688,"end":4707,"computed":false,"optional":false,"object":{"type":"Identifier","start":4688,"end":4696,"name":"response"},"property":{"type":"Identifier","start":4697,"end":4707,"name":"statusText"}}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":4738,"end":4767,"argument":{"type":"AwaitExpression","start":4745,"end":4766,"argument":{"type":"CallExpression","start":4751,"end":4766,"optional":false,"callee":{"type":"MemberExpression","start":4751,"end":4764,"computed":false,"optional":false,"object":{"type":"Identifier","start":4751,"end":4759,"name":"response"},"property":{"type":"Identifier","start":4760,"end":4764,"name":"json"}},"arguments":[]}}}]},"handler":{"type":"CatchClause","start":4786,"end":4930,"param":{"type":"Identifier","start":4793,"end":4798,"name":"error"},"body":{"type":"BlockStatement","start":4800,"end":4930,"body":[{"type":"ExpressionStatement","start":4814,"end":4897,"expression":{"type":"CallExpression","start":4814,"end":4896,"optional":false,"callee":{"type":"MemberExpression","start":4814,"end":4826,"computed":false,"optional":false,"object":{"type":"Identifier","start":4814,"end":4821,"name":"console"},"property":{"type":"Identifier","start":4822,"end":4826,"name":"warn"}},"arguments":[{"type":"TemplateLiteral","start":4827,"end":4880,"quasis":[{"type":"TemplateElement","start":4828,"end":4863,"tail":false,"value":{"cooked":"[SSR] Failed to load manifest from ","raw":"[SSR] Failed to load manifest from "}},{"type":"TemplateElement","start":4878,"end":4879,"tail":true,"value":{"cooked":":","raw":":"}}],"expressions":[{"type":"Identifier","start":4865,"end":4877,"name":"manifestPath"}]},{"type":"MemberExpression","start":4882,"end":4895,"computed":false,"optional":false,"object":{"type":"Identifier","start":4882,"end":4887,"name":"error"},"property":{"type":"Identifier","start":4888,"end":4895,"name":"message"}}]}},{"type":"ReturnStatement","start":4910,"end":4920,"argument":{"type":"ObjectExpression","start":4917,"end":4919,"properties":[]}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4941,"end":5523,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4947,"end":4966,"name":"resolveSSRModuleUrl"},"value":{"type":"FunctionExpression","start":4966,"end":5523,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":4967,"end":4977,"name":"remoteName"},{"type":"Identifier","start":4979,"end":4989,"name":"modulePath"}],"body":{"type":"BlockStatement","start":4991,"end":5523,"body":[{"type":"IfStatement","start":5073,"end":5442,"test":{"type":"MemberExpression","start":5077,"end":5102,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":5077,"end":5090,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5077,"end":5081},"property":{"type":"Identifier","start":5082,"end":5090,"name":"manifest"}},"property":{"type":"Identifier","start":5091,"end":5101,"name":"remoteName"}},"consequent":{"type":"BlockStatement","start":5104,"end":5442,"body":[{"type":"VariableDeclaration","start":5118,"end":5162,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5124,"end":5161,"id":{"type":"Identifier","start":5124,"end":5133,"name":"remoteUrl"},"init":{"type":"MemberExpression","start":5136,"end":5161,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":5136,"end":5149,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5136,"end":5140},"property":{"type":"Identifier","start":5141,"end":5149,"name":"manifest"}},"property":{"type":"Identifier","start":5150,"end":5160,"name":"remoteName"}}}]},{"type":"IfStatement","start":5222,"end":5350,"test":{"type":"LogicalExpression","start":5226,"end":5281,"operator":"||","left":{"type":"CallExpression","start":5226,"end":5251,"optional":false,"callee":{"type":"MemberExpression","start":5226,"end":5246,"computed":false,"optional":false,"object":{"type":"Identifier","start":5226,"end":5235,"name":"remoteUrl"},"property":{"type":"Identifier","start":5236,"end":5246,"name":"startsWith"}},"arguments":[{"type":"Literal","start":5247,"end":5250,"value":"/","raw":"'/'"}]},"right":{"type":"CallExpression","start":5255,"end":5281,"optional":false,"callee":{"type":"MemberExpression","start":5255,"end":5275,"computed":false,"optional":false,"object":{"type":"Identifier","start":5255,"end":5264,"name":"remoteUrl"},"property":{"type":"Identifier","start":5265,"end":5275,"name":"startsWith"}},"arguments":[{"type":"Literal","start":5276,"end":5280,"value":"./","raw":"'./'"}]}},"consequent":{"type":"BlockStatement","start":5283,"end":5350,"body":[{"type":"ReturnStatement","start":5301,"end":5336,"argument":{"type":"TemplateLiteral","start":5308,"end":5335,"quasis":[{"type":"TemplateElement","start":5309,"end":5309,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":5321,"end":5321,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":5334,"end":5334,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":5311,"end":5320,"name":"remoteUrl"},{"type":"Identifier","start":5323,"end":5333,"name":"modulePath"}]}}]},"alternate":null},{"type":"ReturnStatement","start":5397,"end":5432,"argument":{"type":"TemplateLiteral","start":5404,"end":5431,"quasis":[{"type":"TemplateElement","start":5405,"end":5405,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":5417,"end":5417,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":5430,"end":5430,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":5407,"end":5416,"name":"remoteUrl"},{"type":"Identifier","start":5419,"end":5429,"name":"modulePath"}]}}]},"alternate":null},{"type":"ThrowStatement","start":5451,"end":5517,"argument":{"type":"NewExpression","start":5457,"end":5516,"callee":{"type":"Identifier","start":5461,"end":5466,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":5467,"end":5515,"quasis":[{"type":"TemplateElement","start":5468,"end":5475,"tail":false,"value":{"cooked":"Remote ","raw":"Remote "}},{"type":"TemplateElement","start":5488,"end":5514,"tail":true,"value":{"cooked":" not found in SSR manifest","raw":" not found in SSR manifest"}}],"expressions":[{"type":"Identifier","start":5477,"end":5487,"name":"remoteName"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5528,"end":6471,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5534,"end":5547,"name":"loadSSRModule"},"value":{"type":"FunctionExpression","start":5547,"end":6471,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":5548,"end":5551,"name":"url"}],"body":{"type":"BlockStatement","start":5553,"end":6471,"body":[{"type":"TryStatement","start":5563,"end":6465,"block":{"type":"BlockStatement","start":5567,"end":6356,"body":[{"type":"IfStatement","start":5663,"end":6346,"test":{"type":"CallExpression","start":5667,"end":5689,"optional":false,"callee":{"type":"MemberExpression","start":5667,"end":5681,"computed":false,"optional":false,"object":{"type":"Identifier","start":5667,"end":5670,"name":"url"},"property":{"type":"Identifier","start":5671,"end":5681,"name":"startsWith"}},"arguments":[{"type":"Literal","start":5682,"end":5688,"value":"http","raw":"'http'"}]},"consequent":{"type":"BlockStatement","start":5691,"end":6141,"body":[{"type":"VariableDeclaration","start":5772,"end":5820,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5778,"end":5819,"id":{"type":"Identifier","start":5778,"end":5785,"name":"fetchFn"},"init":{"type":"LogicalExpression","start":5788,"end":5819,"operator":"||","left":{"type":"ChainExpression","start":5788,"end":5810,"expression":{"type":"MemberExpression","start":5788,"end":5810,"computed":false,"optional":true,"object":{"type":"MemberExpression","start":5788,"end":5803,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5788,"end":5792},"property":{"type":"Identifier","start":5793,"end":5803,"name":"ssrContext"}},"property":{"type":"Identifier","start":5805,"end":5810,"name":"fetch"}}},"right":{"type":"Identifier","start":5814,"end":5819,"name":"fetch"}}}]},{"type":"VariableDeclaration","start":5837,"end":5873,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5843,"end":5872,"id":{"type":"Identifier","start":5843,"end":5851,"name":"response"},"init":{"type":"AwaitExpression","start":5854,"end":5872,"argument":{"type":"CallExpression","start":5860,"end":5872,"optional":false,"callee":{"type":"Identifier","start":5860,"end":5867,"name":"fetchFn"},"arguments":[{"type":"Identifier","start":5868,"end":5871,"name":"url"}]}}}]},{"type":"VariableDeclaration","start":5890,"end":5931,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5896,"end":5930,"id":{"type":"Identifier","start":5896,"end":5906,"name":"moduleCode"},"init":{"type":"AwaitExpression","start":5909,"end":5930,"argument":{"type":"CallExpression","start":5915,"end":5930,"optional":false,"callee":{"type":"MemberExpression","start":5915,"end":5928,"computed":false,"optional":false,"object":{"type":"Identifier","start":5915,"end":5923,"name":"response"},"property":{"type":"Identifier","start":5924,"end":5928,"name":"text"}},"arguments":[]}}}]},{"type":"ReturnStatement","start":6083,"end":6127,"argument":{"type":"ObjectExpression","start":6090,"end":6126,"properties":[{"type":"Property","start":6092,"end":6105,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6092,"end":6099,"name":"default"},"value":{"type":"Literal","start":6101,"end":6105,"raw":"null","value":null},"kind":"init"},{"type":"Property","start":6107,"end":6124,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6107,"end":6118,"name":"__ssrModule"},"value":{"type":"Literal","start":6120,"end":6124,"value":true,"raw":"true"},"kind":"init"}]}}]},"alternate":{"type":"BlockStatement","start":6159,"end":6346,"body":[{"type":"ReturnStatement","start":6209,"end":6332,"argument":{"type":"ConditionalExpression","start":6216,"end":6331,"test":{"type":"ChainExpression","start":6216,"end":6240,"expression":{"type":"MemberExpression","start":6216,"end":6240,"computed":false,"optional":true,"object":{"type":"MemberExpression","start":6216,"end":6231,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6216,"end":6220},"property":{"type":"Identifier","start":6221,"end":6231,"name":"ssrContext"}},"property":{"type":"Identifier","start":6233,"end":6240,"name":"require"}}},"consequent":{"type":"CallExpression","start":6263,"end":6291,"optional":false,"callee":{"type":"MemberExpression","start":6263,"end":6286,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6263,"end":6278,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6263,"end":6267},"property":{"type":"Identifier","start":6268,"end":6278,"name":"ssrContext"}},"property":{"type":"Identifier","start":6279,"end":6286,"name":"require"}},"arguments":[{"type":"Identifier","start":6287,"end":6290,"name":"url"}]},"alternate":{"type":"AwaitExpression","start":6314,"end":6331,"argument":{"type":"ImportExpression","start":6320,"end":6331,"source":{"type":"Identifier","start":6327,"end":6330,"name":"url"},"options":null}}}}]}}]},"handler":{"type":"CatchClause","start":6365,"end":6465,"param":{"type":"Identifier","start":6372,"end":6377,"name":"error"},"body":{"type":"BlockStatement","start":6379,"end":6465,"body":[{"type":"ThrowStatement","start":6393,"end":6455,"argument":{"type":"NewExpression","start":6399,"end":6454,"callee":{"type":"Identifier","start":6403,"end":6408,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":6409,"end":6453,"quasis":[{"type":"TemplateElement","start":6410,"end":6436,"tail":false,"value":{"cooked":"SSR module import failed: ","raw":"SSR module import failed: "}},{"type":"TemplateElement","start":6452,"end":6452,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"MemberExpression","start":6438,"end":6451,"computed":false,"optional":false,"object":{"type":"Identifier","start":6438,"end":6443,"name":"error"},"property":{"type":"Identifier","start":6444,"end":6451,"name":"message"}}]}]}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":6476,"end":6832,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":6476,"end":6496,"name":"createFallbackModule"},"value":{"type":"FunctionExpression","start":6496,"end":6832,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":6497,"end":6507,"name":"remoteName"},{"type":"Identifier","start":6509,"end":6519,"name":"modulePath"}],"body":{"type":"BlockStatement","start":6521,"end":6832,"body":[{"type":"ReturnStatement","start":6531,"end":6826,"argument":{"type":"ObjectExpression","start":6538,"end":6825,"properties":[{"type":"Property","start":6552,"end":6565,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6552,"end":6559,"name":"default"},"value":{"type":"Literal","start":6561,"end":6565,"raw":"null","value":null},"kind":"init"},{"type":"Property","start":6579,"end":6595,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6579,"end":6589,"name":"__fallback"},"value":{"type":"Literal","start":6591,"end":6595,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":6609,"end":6633,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6609,"end":6621,"name":"__remoteName"},"value":{"type":"Identifier","start":6623,"end":6633,"name":"remoteName"},"kind":"init"},{"type":"Property","start":6647,"end":6671,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6647,"end":6659,"name":"__modulePath"},"value":{"type":"Identifier","start":6661,"end":6671,"name":"modulePath"},"kind":"init"},{"type":"Property","start":6685,"end":6757,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6685,"end":6699,"name":"renderToString"},"value":{"type":"ArrowFunctionExpression","start":6701,"end":6757,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"TemplateLiteral","start":6707,"end":6757,"quasis":[{"type":"TemplateElement","start":6708,"end":6726,"tail":false,"value":{"cooked":"<!-- Fallback for ","raw":"<!-- Fallback for "}},{"type":"TemplateElement","start":6739,"end":6739,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":6752,"end":6756,"tail":true,"value":{"cooked":" -->","raw":" -->"}}],"expressions":[{"type":"Identifier","start":6728,"end":6738,"name":"remoteName"},{"type":"Identifier","start":6741,"end":6751,"name":"modulePath"}]},"id":null},"kind":"init"},{"type":"Property","start":6771,"end":6815,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6771,"end":6787,"name":"getHydrationData"},"value":{"type":"ArrowFunctionExpression","start":6789,"end":6815,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ObjectExpression","start":6796,"end":6814,"properties":[{"type":"Property","start":6798,"end":6812,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6798,"end":6806,"name":"fallback"},"value":{"type":"Literal","start":6808,"end":6812,"value":true,"raw":"true"},"kind":"init"}]},"id":null},"kind":"init"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":6837,"end":7182,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":6837,"end":6854,"name":"generateImportMap"},"value":{"type":"FunctionExpression","start":6854,"end":7182,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":6857,"end":7182,"body":[{"type":"VariableDeclaration","start":6867,"end":6888,"kind":"const","declarations":[{"type":"VariableDeclarator","start":6873,"end":6887,"id":{"type":"Identifier","start":6873,"end":6882,"name":"importMap"},"init":{"type":"ObjectExpression","start":6885,"end":6887,"properties":[]}}]},{"type":"ExpressionStatement","start":6897,"end":7150,"expression":{"type":"CallExpression","start":6897,"end":7149,"optional":false,"callee":{"type":"MemberExpression","start":6897,"end":6923,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6897,"end":6915,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6897,"end":6901},"property":{"type":"Identifier","start":6902,"end":6915,"name":"loadedModules"}},"property":{"type":"Identifier","start":6916,"end":6923,"name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","start":6924,"end":7148,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":6925,"end":6935,"name":"moduleInfo"}],"body":{"type":"BlockStatement","start":6940,"end":7148,"body":[{"type":"IfStatement","start":6954,"end":7138,"test":{"type":"LogicalExpression","start":6958,"end":7023,"operator":"||","left":{"type":"CallExpression","start":6958,"end":6989,"optional":false,"callee":{"type":"MemberExpression","start":6958,"end":6984,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6958,"end":6973,"computed":false,"optional":false,"object":{"type":"Identifier","start":6958,"end":6968,"name":"moduleInfo"},"property":{"type":"Identifier","start":6969,"end":6973,"name":"name"}},"property":{"type":"Identifier","start":6974,"end":6984,"name":"startsWith"}},"arguments":[{"type":"Literal","start":6985,"end":6988,"value":"@","raw":"'@'"}]},"right":{"type":"UnaryExpression","start":6993,"end":7023,"operator":"!","argument":{"type":"CallExpression","start":6994,"end":7023,"optional":false,"callee":{"type":"MemberExpression","start":6994,"end":7018,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6994,"end":7009,"computed":false,"optional":false,"object":{"type":"Identifier","start":6994,"end":7004,"name":"moduleInfo"},"property":{"type":"Identifier","start":7005,"end":7009,"name":"name"}},"property":{"type":"Identifier","start":7010,"end":7018,"name":"includes"}},"arguments":[{"type":"Literal","start":7019,"end":7022,"value":"/","raw":"'/'"}]},"prefix":true}},"consequent":{"type":"BlockStatement","start":7025,"end":7138,"body":[{"type":"ExpressionStatement","start":7080,"end":7124,"expression":{"type":"AssignmentExpression","start":7080,"end":7123,"operator":"=","left":{"type":"MemberExpression","start":7080,"end":7106,"computed":true,"optional":false,"object":{"type":"Identifier","start":7080,"end":7089,"name":"importMap"},"property":{"type":"MemberExpression","start":7090,"end":7105,"computed":false,"optional":false,"object":{"type":"Identifier","start":7090,"end":7100,"name":"moduleInfo"},"property":{"type":"Identifier","start":7101,"end":7105,"name":"name"}}},"right":{"type":"MemberExpression","start":7109,"end":7123,"computed":false,"optional":false,"object":{"type":"Identifier","start":7109,"end":7119,"name":"moduleInfo"},"property":{"type":"Identifier","start":7120,"end":7123,"name":"url"}}}}]},"alternate":null}]},"id":null}]}},{"type":"ReturnStatement","start":7159,"end":7176,"argument":{"type":"Identifier","start":7166,"end":7175,"name":"importMap"}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":7187,"end":7257,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7187,"end":7203,"name":"getLoadedModules"},"value":{"type":"FunctionExpression","start":7203,"end":7257,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":7206,"end":7257,"body":[{"type":"ReturnStatement","start":7216,"end":7251,"argument":{"type":"NewExpression","start":7223,"end":7250,"callee":{"type":"Identifier","start":7227,"end":7230,"name":"Map"},"arguments":[{"type":"MemberExpression","start":7231,"end":7249,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7231,"end":7235},"property":{"type":"Identifier","start":7236,"end":7249,"name":"loadedModules"}}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":7262,"end":7352,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7262,"end":7272,"name":"clearCache"},"value":{"type":"FunctionExpression","start":7272,"end":7352,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":7275,"end":7352,"body":[{"type":"ExpressionStatement","start":7285,"end":7312,"expression":{"type":"CallExpression","start":7285,"end":7311,"optional":false,"callee":{"type":"MemberExpression","start":7285,"end":7309,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":7285,"end":7303,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7285,"end":7289},"property":{"type":"Identifier","start":7290,"end":7303,"name":"loadedModules"}},"property":{"type":"Identifier","start":7304,"end":7309,"name":"clear"}},"arguments":[]}},{"type":"ExpressionStatement","start":7321,"end":7346,"expression":{"type":"CallExpression","start":7321,"end":7345,"optional":false,"callee":{"type":"MemberExpression","start":7321,"end":7343,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":7321,"end":7337,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7321,"end":7325},"property":{"type":"Identifier","start":7326,"end":7337,"name":"moduleCache"}},"property":{"type":"Identifier","start":7338,"end":7343,"name":"clear"}},"arguments":[]}}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":7357,"end":7532,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7364,"end":7368,"name":"ɵfac"},"value":{"type":"CallExpression","start":7371,"end":7531,"optional":false,"callee":{"type":"MemberExpression","start":7371,"end":7392,"computed":false,"optional":false,"object":{"type":"Identifier","start":7371,"end":7373,"name":"i0"},"property":{"type":"Identifier","start":7374,"end":7392,"name":"ɵɵngDeclareFactory"}},"arguments":[{"type":"ObjectExpression","start":7393,"end":7530,"properties":[{"type":"Property","start":7395,"end":7415,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7395,"end":7405,"name":"minVersion"},"value":{"type":"Literal","start":7407,"end":7415,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":7417,"end":7435,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7417,"end":7424,"name":"version"},"value":{"type":"Literal","start":7426,"end":7435,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":7437,"end":7449,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7437,"end":7445,"name":"ngImport"},"value":{"type":"Identifier","start":7447,"end":7449,"name":"i0"},"kind":"init"},{"type":"Property","start":7451,"end":7472,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7451,"end":7455,"name":"type"},"value":{"type":"Identifier","start":7457,"end":7472,"name":"SSRModuleLoader"},"kind":"init"},{"type":"Property","start":7474,"end":7489,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7474,"end":7478,"name":"deps"},"value":{"type":"Literal","start":7480,"end":7489,"value":"invalid","raw":"\"invalid\""},"kind":"init"},{"type":"Property","start":7491,"end":7528,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7491,"end":7497,"name":"target"},"value":{"type":"MemberExpression","start":7499,"end":7528,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":7499,"end":7517,"computed":false,"optional":false,"object":{"type":"Identifier","start":7499,"end":7501,"name":"i0"},"property":{"type":"Identifier","start":7502,"end":7517,"name":"ɵɵFactoryTarget"}},"property":{"type":"Identifier","start":7518,"end":7528,"name":"Injectable"}},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":7537,"end":7680,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7544,"end":7549,"name":"ɵprov"},"value":{"type":"CallExpression","start":7552,"end":7679,"optional":false,"callee":{"type":"MemberExpression","start":7552,"end":7576,"computed":false,"optional":false,"object":{"type":"Identifier","start":7552,"end":7554,"name":"i0"},"property":{"type":"Identifier","start":7555,"end":7576,"name":"ɵɵngDeclareInjectable"}},"arguments":[{"type":"ObjectExpression","start":7577,"end":7678,"properties":[{"type":"Property","start":7579,"end":7599,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7579,"end":7589,"name":"minVersion"},"value":{"type":"Literal","start":7591,"end":7599,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":7601,"end":7619,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7601,"end":7608,"name":"version"},"value":{"type":"Literal","start":7610,"end":7619,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":7621,"end":7633,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7621,"end":7629,"name":"ngImport"},"value":{"type":"Identifier","start":7631,"end":7633,"name":"i0"},"kind":"init"},{"type":"Property","start":7635,"end":7656,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7635,"end":7639,"name":"type"},"value":{"type":"Identifier","start":7641,"end":7656,"name":"SSRModuleLoader"},"kind":"init"},{"type":"Property","start":7658,"end":7676,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7658,"end":7668,"name":"providedIn"},"value":{"type":"Literal","start":7670,"end":7676,"value":"root","raw":"'root'"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":7683,"end":8074,"expression":{"type":"CallExpression","start":7683,"end":8073,"optional":false,"callee":{"type":"MemberExpression","start":7683,"end":7710,"computed":false,"optional":false,"object":{"type":"Identifier","start":7683,"end":7685,"name":"i0"},"property":{"type":"Identifier","start":7686,"end":7710,"name":"ɵɵngDeclareClassMetadata"}},"arguments":[{"type":"ObjectExpression","start":7711,"end":8072,"properties":[{"type":"Property","start":7713,"end":7733,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7713,"end":7723,"name":"minVersion"},"value":{"type":"Literal","start":7725,"end":7733,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":7735,"end":7753,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7735,"end":7742,"name":"version"},"value":{"type":"Literal","start":7744,"end":7753,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":7755,"end":7767,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7755,"end":7763,"name":"ngImport"},"value":{"type":"Identifier","start":7765,"end":7767,"name":"i0"},"kind":"init"},{"type":"Property","start":7769,"end":7790,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7769,"end":7773,"name":"type"},"value":{"type":"Identifier","start":7775,"end":7790,"name":"SSRModuleLoader"},"kind":"init"},{"type":"Property","start":7792,"end":7926,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7792,"end":7802,"name":"decorators"},"value":{"type":"ArrayExpression","start":7804,"end":7926,"elements":[{"type":"ObjectExpression","start":7805,"end":7925,"properties":[{"type":"Property","start":7819,"end":7835,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7819,"end":7823,"name":"type"},"value":{"type":"Identifier","start":7825,"end":7835,"name":"Injectable"},"kind":"init"},{"type":"Property","start":7849,"end":7915,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7849,"end":7853,"name":"args"},"value":{"type":"ArrayExpression","start":7855,"end":7915,"elements":[{"type":"ObjectExpression","start":7856,"end":7914,"properties":[{"type":"Property","start":7878,"end":7896,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7878,"end":7888,"name":"providedIn"},"value":{"type":"Literal","start":7890,"end":7896,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":7928,"end":8070,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7928,"end":7942,"name":"ctorParameters"},"value":{"type":"ArrowFunctionExpression","start":7944,"end":8070,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ArrayExpression","start":7950,"end":8070,"elements":[{"type":"ObjectExpression","start":7951,"end":7978,"properties":[{"type":"Property","start":7953,"end":7976,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7953,"end":7957,"name":"type"},"value":{"type":"MemberExpression","start":7959,"end":7976,"computed":false,"optional":false,"object":{"type":"Identifier","start":7959,"end":7961,"name":"i1"},"property":{"type":"Identifier","start":7962,"end":7976,"name":"VersionManager"}},"kind":"init"}]},{"type":"ObjectExpression","start":7980,"end":8069,"properties":[{"type":"Property","start":7982,"end":7997,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7982,"end":7986,"name":"type"},"value":{"type":"Identifier","start":7988,"end":7997,"name":"undefined"},"kind":"init"},{"type":"Property","start":7999,"end":8067,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7999,"end":8009,"name":"decorators"},"value":{"type":"ArrayExpression","start":8011,"end":8067,"elements":[{"type":"ObjectExpression","start":8012,"end":8066,"properties":[{"type":"Property","start":8034,"end":8048,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8034,"end":8038,"name":"type"},"value":{"type":"Identifier","start":8040,"end":8048,"name":"Optional"},"kind":"init"}]}]},"kind":"init"}]}]},"id":null},"kind":"init"}]}]}},{"type":"ExportNamedDeclaration","start":8126,"end":9006,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":8133,"end":9006,"decorators":[],"id":{"type":"Identifier","start":8139,"end":8157,"name":"SSRFederationUtils"},"superClass":null,"body":{"type":"ClassBody","start":8158,"end":9006,"body":[{"type":"MethodDefinition","start":8164,"end":8823,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":8171,"end":8192,"name":"injectHydrationScript"},"value":{"type":"FunctionExpression","start":8192,"end":8823,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":8193,"end":8197,"name":"html"},{"type":"Identifier","start":8199,"end":8216,"name":"hydrationManifest"}],"body":{"type":"BlockStatement","start":8218,"end":8823,"body":[{"type":"VariableDeclaration","start":8228,"end":8715,"kind":"const","declarations":[{"type":"VariableDeclarator","start":8234,"end":8714,"id":{"type":"Identifier","start":8234,"end":8240,"name":"script"},"init":{"type":"TemplateLiteral","start":8243,"end":8714,"quasis":[{"type":"TemplateElement","start":8244,"end":8356,"tail":false,"value":{"cooked":"\n      <script type=\"module\">\n        // Hydration data for Native Federation\n        window.__NF_HYDRATION__ = ","raw":"\n      <script type=\"module\">\n        // Hydration data for Native Federation\n        window.__NF_HYDRATION__ = "}},{"type":"TemplateElement","start":8392,"end":8713,"tail":true,"value":{"cooked":";\n        \n        // Pre-populate module cache\n        if (window.__NF_HYDRATION__.loadedModules) {\n          window.__NF_LOADED_MODULES__ = new Map();\n          window.__NF_HYDRATION__.loadedModules.forEach(mod => {\n            window.__NF_LOADED_MODULES__.set(mod.id, mod);\n          });\n        }\n      </script>\n    ","raw":";\n        \n        // Pre-populate module cache\n        if (window.__NF_HYDRATION__.loadedModules) {\n          window.__NF_LOADED_MODULES__ = new Map();\n          window.__NF_HYDRATION__.loadedModules.forEach(mod => {\n            window.__NF_LOADED_MODULES__.set(mod.id, mod);\n          });\n        }\n      </script>\n    "}}],"expressions":[{"type":"CallExpression","start":8358,"end":8391,"optional":false,"callee":{"type":"MemberExpression","start":8358,"end":8372,"computed":false,"optional":false,"object":{"type":"Identifier","start":8358,"end":8362,"name":"JSON"},"property":{"type":"Identifier","start":8363,"end":8372,"name":"stringify"}},"arguments":[{"type":"Identifier","start":8373,"end":8390,"name":"hydrationManifest"}]}]}}]},{"type":"ReturnStatement","start":8766,"end":8817,"argument":{"type":"CallExpression","start":8773,"end":8816,"optional":false,"callee":{"type":"MemberExpression","start":8773,"end":8785,"computed":false,"optional":false,"object":{"type":"Identifier","start":8773,"end":8777,"name":"html"},"property":{"type":"Identifier","start":8778,"end":8785,"name":"replace"}},"arguments":[{"type":"Literal","start":8786,"end":8795,"value":"</head>","raw":"'</head>'"},{"type":"TemplateLiteral","start":8797,"end":8815,"quasis":[{"type":"TemplateElement","start":8798,"end":8798,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":8807,"end":8814,"tail":true,"value":{"cooked":"</head>","raw":"</head>"}}],"expressions":[{"type":"Identifier","start":8800,"end":8806,"name":"script"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":8828,"end":9004,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":8835,"end":8855,"name":"generatePreloadLinks"},"value":{"type":"FunctionExpression","start":8855,"end":9004,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":8856,"end":8869,"name":"loadedModules"}],"body":{"type":"BlockStatement","start":8871,"end":9004,"body":[{"type":"ReturnStatement","start":8881,"end":8998,"argument":{"type":"CallExpression","start":8888,"end":8997,"optional":false,"callee":{"type":"MemberExpression","start":8888,"end":8991,"computed":false,"optional":false,"object":{"type":"CallExpression","start":8888,"end":8973,"optional":false,"callee":{"type":"MemberExpression","start":8888,"end":8918,"computed":false,"optional":false,"object":{"type":"Identifier","start":8888,"end":8901,"name":"loadedModules"},"property":{"type":"Identifier","start":8915,"end":8918,"name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","start":8919,"end":8972,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":8919,"end":8922,"name":"mod"}],"body":{"type":"TemplateLiteral","start":8926,"end":8972,"quasis":[{"type":"TemplateElement","start":8927,"end":8959,"tail":false,"value":{"cooked":"<link rel=\"modulepreload\" href=\"","raw":"<link rel=\"modulepreload\" href=\""}},{"type":"TemplateElement","start":8969,"end":8971,"tail":true,"value":{"cooked":"\">","raw":"\">"}}],"expressions":[{"type":"MemberExpression","start":8961,"end":8968,"computed":false,"optional":false,"object":{"type":"Identifier","start":8961,"end":8964,"name":"mod"},"property":{"type":"Identifier","start":8965,"end":8968,"name":"url"}}]},"id":null}]},"property":{"type":"Identifier","start":8987,"end":8991,"name":"join"}},"arguments":[{"type":"Literal","start":8992,"end":8996,"value":"\n","raw":"'\\n'"}]}}]},"expression":false},"kind":"method"}]}}}],"_rollupRemoved":[{"end":29373,"start":9007,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { Injectable, Optional } from '@angular/core';\nimport { VersionManager } from './version-manager';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./version-manager\";\n/**\n * Server-side module loader for SSR environments\n * Handles module federation during server-side rendering\n */\nexport class SSRModuleLoader {\n    versionManager;\n    loadedModules = new Map();\n    manifest = {};\n    moduleCache = new Map();\n    manifestPath;\n    ssrContext;\n    constructor(versionManager, ssrContext) {\n        this.versionManager = versionManager;\n        this.manifestPath = ssrContext?.manifestPath;\n        this.ssrContext = ssrContext;\n    }\n    async initialize() {\n        if (this.manifestPath) {\n            this.manifest = await this.loadManifest(this.manifestPath);\n        }\n    }\n    /**\n     * Load remote module during SSR\n     * Returns pre-rendered content and hydration instructions\n     */\n    async loadRemoteModule(remoteName, modulePath) {\n        const moduleId = `${remoteName}${modulePath}`;\n        // Check cache first\n        if (this.moduleCache.has(moduleId)) {\n            return { module: this.moduleCache.get(moduleId) };\n        }\n        try {\n            // In SSR, we need to resolve module path differently\n            const moduleUrl = await this.resolveSSRModuleUrl(remoteName, modulePath);\n            const module = await this.loadSSRModule(moduleUrl);\n            // Cache the module\n            this.moduleCache.set(moduleId, module);\n            this.loadedModules.set(moduleId, {\n                id: moduleId,\n                name: remoteName,\n                version: '1.0.0',\n                url: moduleUrl,\n                deps: [],\n                loaded: true,\n                singleton: false\n            });\n            // Extract SSR content if available\n            let ssrContent;\n            let hydrationData;\n            if (module.renderToString && typeof module.renderToString === 'function') {\n                ssrContent = await module.renderToString();\n            }\n            if (module.getHydrationData && typeof module.getHydrationData === 'function') {\n                hydrationData = await module.getHydrationData();\n            }\n            return { module, ssrContent, hydrationData };\n        }\n        catch (error) {\n            // In SSR, we might want to return fallback content instead of throwing\n            console.warn(`[SSR] Failed to load remote module ${remoteName}${modulePath}:`, error.message);\n            return {\n                module: this.createFallbackModule(remoteName, modulePath),\n                ssrContent: `<!-- SSR: Failed to load ${remoteName}${modulePath} -->`,\n                hydrationData: { fallback: true, remoteName, modulePath }\n            };\n        }\n    }\n    /**\n     * Load shared module during SSR\n     */\n    async loadSharedModule(packageName, versionStrategy) {\n        const moduleInfo = this.loadedModules.get(packageName);\n        if (moduleInfo?.singleton && moduleInfo.loaded && this.moduleCache.has(packageName)) {\n            return this.moduleCache.get(packageName);\n        }\n        try {\n            // In Node.js environment, we can use require\n            const module = this.ssrContext?.require\n                ? this.ssrContext.require(packageName)\n                : await import(packageName);\n            this.moduleCache.set(packageName, module);\n            this.loadedModules.set(packageName, {\n                id: packageName,\n                name: packageName,\n                version: '1.0.0', // We'd need to resolve this properly\n                url: packageName,\n                deps: [],\n                loaded: true,\n                singleton: true\n            });\n            return module;\n        }\n        catch (error) {\n            throw new Error(`Failed to load shared module ${packageName} in SSR: ${error.message}`);\n        }\n    }\n    /**\n     * Generate hydration manifest for client-side\n     */\n    generateHydrationManifest() {\n        const loadedModules = [];\n        this.loadedModules.forEach((moduleInfo) => {\n            loadedModules.push({\n                id: moduleInfo.id,\n                name: moduleInfo.name,\n                url: moduleInfo.url,\n                hydrationData: moduleInfo.hydrationData\n            });\n        });\n        return {\n            loadedModules,\n            importMap: this.generateImportMap()\n        };\n    }\n    async loadManifest(manifestPath) {\n        try {\n            const fetchFn = this.ssrContext?.fetch || fetch;\n            const response = await fetchFn(manifestPath);\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n            return await response.json();\n        }\n        catch (error) {\n            console.warn(`[SSR] Failed to load manifest from ${manifestPath}:`, error.message);\n            return {};\n        }\n    }\n    async resolveSSRModuleUrl(remoteName, modulePath) {\n        // In SSR, we might need to resolve to local file paths or URLs\n        if (this.manifest[remoteName]) {\n            const remoteUrl = this.manifest[remoteName];\n            // Handle local file paths for SSR\n            if (remoteUrl.startsWith('/') || remoteUrl.startsWith('./')) {\n                return `${remoteUrl}${modulePath}`;\n            }\n            // Handle remote URLs\n            return `${remoteUrl}${modulePath}`;\n        }\n        throw new Error(`Remote ${remoteName} not found in SSR manifest`);\n    }\n    async loadSSRModule(url) {\n        try {\n            // In Node.js environment, handle different module loading strategies\n            if (url.startsWith('http')) {\n                // Remote module - might need special handling\n                const fetchFn = this.ssrContext?.fetch || fetch;\n                const response = await fetchFn(url);\n                const moduleCode = await response.text();\n                // In production SSR, you'd want to evaluate this safely\n                // For now, we'll simulate a module structure\n                return { default: null, __ssrModule: true };\n            }\n            else {\n                // Local module\n                return this.ssrContext?.require\n                    ? this.ssrContext.require(url)\n                    : await import(url);\n            }\n        }\n        catch (error) {\n            throw new Error(`SSR module import failed: ${error.message}`);\n        }\n    }\n    createFallbackModule(remoteName, modulePath) {\n        return {\n            default: null,\n            __fallback: true,\n            __remoteName: remoteName,\n            __modulePath: modulePath,\n            renderToString: () => `<!-- Fallback for ${remoteName}${modulePath} -->`,\n            getHydrationData: () => ({ fallback: true })\n        };\n    }\n    generateImportMap() {\n        const importMap = {};\n        this.loadedModules.forEach((moduleInfo) => {\n            if (moduleInfo.name.startsWith('@') || !moduleInfo.name.includes('/')) {\n                // Shared dependency\n                importMap[moduleInfo.name] = moduleInfo.url;\n            }\n        });\n        return importMap;\n    }\n    getLoadedModules() {\n        return new Map(this.loadedModules);\n    }\n    clearCache() {\n        this.loadedModules.clear();\n        this.moduleCache.clear();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: SSRModuleLoader, deps: \"invalid\", target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: SSRModuleLoader, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: SSRModuleLoader, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: i1.VersionManager }, { type: undefined, decorators: [{\n                    type: Optional\n                }] }] });\n/**\n * SSR utilities for framework integration\n */\nexport class SSRFederationUtils {\n    static injectHydrationScript(html, hydrationManifest) {\n        const script = `\n      <script type=\"module\">\n        // Hydration data for Native Federation\n        window.__NF_HYDRATION__ = ${JSON.stringify(hydrationManifest)};\n        \n        // Pre-populate module cache\n        if (window.__NF_HYDRATION__.loadedModules) {\n          window.__NF_LOADED_MODULES__ = new Map();\n          window.__NF_HYDRATION__.loadedModules.forEach(mod => {\n            window.__NF_LOADED_MODULES__.set(mod.id, mod);\n          });\n        }\n      </script>\n    `;\n        // Inject before closing head tag\n        return html.replace('</head>', `${script}</head>`);\n    }\n    static generatePreloadLinks(loadedModules) {\n        return loadedModules\n            .map(mod => `<link rel=\"modulepreload\" href=\"${mod.url}\">`)\n            .join('\\n');\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3NyLW1vZHVsZS1sb2FkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uYXRpdmUtZmVkZXJhdGlvbi9zcmMvbGliL3J1bnRpbWUvc3NyLW1vZHVsZS1sb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFckQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDOzs7QUFFbkQ7OztHQUdHO0FBSUgsTUFBTSxPQUFPLGVBQWU7SUFZaEI7SUFYRixhQUFhLEdBQUcsSUFBSSxHQUFHLEVBQXNCLENBQUM7SUFDOUMsUUFBUSxHQUF1QixFQUFFLENBQUM7SUFDbEMsV0FBVyxHQUFHLElBQUksR0FBRyxFQUFlLENBQUM7SUFDckMsWUFBWSxDQUFVO0lBQ3RCLFVBQVUsQ0FJaEI7SUFFRixZQUNVLGNBQThCLEVBQzFCLFVBSVg7UUFMTyxtQkFBYyxHQUFkLGNBQWMsQ0FBZ0I7UUFPdEMsSUFBSSxDQUFDLFlBQVksR0FBRyxVQUFVLEVBQUUsWUFBWSxDQUFDO1FBQzdDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO0lBQy9CLENBQUM7SUFFRCxLQUFLLENBQUMsVUFBVTtRQUNkLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM3RCxDQUFDO0lBQ0gsQ0FBQztJQUVEOzs7T0FHRztJQUNILEtBQUssQ0FBQyxnQkFBZ0IsQ0FDcEIsVUFBa0IsRUFDbEIsVUFBa0I7UUFNbEIsTUFBTSxRQUFRLEdBQUcsR0FBRyxVQUFVLEdBQUcsVUFBVSxFQUFFLENBQUM7UUFFOUMsb0JBQW9CO1FBQ3BCLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENB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LEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQzthQUMxRCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDaEIsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZlZGVyYXRpb25NYW5pZmVzdCwgTW9kdWxlSW5mbywgVmVyc2lvblN0cmF0ZWd5IH0gZnJvbSAnLi4vdHlwZXMvZmVkZXJhdGlvbic7XG5pbXBvcnQgeyBWZXJzaW9uTWFuYWdlciB9IGZyb20gJy4vdmVyc2lvbi1tYW5hZ2VyJztcblxuLyoqXG4gKiBTZXJ2ZXItc2lkZSBtb2R1bGUgbG9hZGVyIGZvciBTU1IgZW52aXJvbm1lbnRzXG4gKiBIYW5kbGVzIG1vZHVsZSBmZWRlcmF0aW9uIGR1cmluZyBzZXJ2ZXItc2lkZSByZW5kZXJpbmdcbiAqL1xuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgU1NSTW9kdWxlTG9hZGVyIHtcbiAgcHJpdmF0ZSBsb2FkZWRNb2R1bGVzID0gbmV3IE1hcDxzdHJpbmcsIE1vZHVsZUluZm8+KCk7XG4gIHByaXZhdGUgbWFuaWZlc3Q6IEZlZGVyYXRpb25NYW5pZmVzdCA9IHt9O1xuICBwcml2YXRlIG1vZHVsZUNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcbiAgcHJpdmF0ZSBtYW5pZmVzdFBhdGg/OiBzdHJpbmc7XG4gIHByaXZhdGUgc3NyQ29udGV4dD86IHtcbiAgICBtYW5pZmVzdFBhdGg/OiBzdHJpbmc7XG4gICAgZmV0Y2g/OiB0eXBlb2YgZmV0Y2g7XG4gICAgcmVxdWlyZT86IGFueTtcbiAgfTtcbiAgXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgdmVyc2lvbk1hbmFnZXI6IFZlcnNpb25NYW5hZ2VyLFxuICAgIEBPcHRpb25hbCgpIHNzckNvbnRleHQ/OiB7XG4gICAgICBtYW5pZmVzdFBhdGg/OiBzdHJpbmc7XG4gICAgICBmZXRjaD86IHR5cGVvZiBmZXRjaDtcbiAgICAgIHJlcXVpcmU/OiBhbnk7XG4gICAgfVxuICApIHtcbiAgICB0aGlzLm1hbmlmZXN0UGF0aCA9IHNzckNvbnRleHQ/Lm1hbmlmZXN0UGF0aDtcbiAgICB0aGlzLnNzckNvbnRleHQgPSBzc3JDb250ZXh0O1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5tYW5pZmVzdFBhdGgpIHtcbiAgICAgIHRoaXMubWFuaWZlc3QgPSBhd2FpdCB0aGlzLmxvYWRNYW5pZmVzdCh0aGlzLm1hbmlmZXN0UGF0aCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgcmVtb3RlIG1vZHVsZSBkdXJpbmcgU1NSXG4gICAqIFJldHVybnMgcHJlLXJlbmRlcmVkIGNvbnRlbnQgYW5kIGh5ZHJhdGlvbiBpbnN0cnVjdGlvbnNcbiAgICovXG4gIGFzeW5jIGxvYWRSZW1vdGVNb2R1bGU8VCA9IGFueT4oXG4gICAgcmVtb3RlTmFtZTogc3RyaW5nLCBcbiAgICBtb2R1bGVQYXRoOiBzdHJpbmdcbiAgKTogUHJvbWlzZTx7XG4gICAgbW9kdWxlOiBUO1xuICAgIHNzckNvbnRlbnQ/OiBzdHJpbmc7XG4gICAgaHlkcmF0aW9uRGF0YT86IGFueTtcbiAgfT4ge1xuICAgIGNvbnN0IG1vZHVsZUlkID0gYCR7cmVtb3RlTmFtZX0ke21vZHVsZVBhdGh9YDtcbiAgICBcbiAgICAvLyBDaGVjayBjYWNoZSBmaXJzdFxuICAgIGlmICh0aGlzLm1vZHVsZUNhY2hlLmhhcyhtb2R1bGVJZCkpIHtcbiAgICAgIHJldHVybiB7IG1vZHVsZTogdGhpcy5tb2R1bGVDYWNoZS5nZXQobW9kdWxlSWQpIH07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEluIFNTUiwgd2UgbmVlZCB0byByZXNvbHZlIG1vZHVsZSBwYXRoIGRpZmZlcmVudGx5XG4gICAgICBjb25zdCBtb2R1bGVVcmwgPSBhd2FpdCB0aGlzLnJlc29sdmVTU1JNb2R1bGVVcmwocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gICAgICBjb25zdCBtb2R1bGUgPSBhd2FpdCB0aGlzLmxvYWRTU1JNb2R1bGUobW9kdWxlVXJsKTtcbiAgICAgIFxuICAgICAgLy8gQ2FjaGUgdGhlIG1vZHVsZVxuICAgICAgdGhpcy5tb2R1bGVDYWNoZS5zZXQobW9kdWxlSWQsIG1vZHVsZSk7XG4gICAgICBcbiAgICAgIHRoaXMubG9hZGVkTW9kdWxlcy5zZXQobW9kdWxlSWQsIHtcbiAgICAgICAgaWQ6IG1vZHVsZUlkLFxuICAgICAgICBuYW1lOiByZW1vdGVOYW1lLFxuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgICAgICB1cmw6IG1vZHVsZVVybCxcbiAgICAgICAgZGVwczogW10sXG4gICAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgICAgc2luZ2xldG9uOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEV4dHJhY3QgU1NSIGNvbnRlbnQgaWYgYXZhaWxhYmxlXG4gICAgICBsZXQgc3NyQ29udGVudDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgbGV0IGh5ZHJhdGlvbkRhdGE6IGFueTtcblxuICAgICAgaWYgKG1vZHVsZS5yZW5kZXJUb1N0cmluZyAmJiB0eXBlb2YgbW9kdWxlLnJlbmRlclRvU3RyaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNzckNvbnRlbnQgPSBhd2FpdCBtb2R1bGUucmVuZGVyVG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vZHVsZS5nZXRIeWRyYXRpb25EYXRhICYmIHR5cGVvZiBtb2R1bGUuZ2V0SHlkcmF0aW9uRGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBoeWRyYXRpb25EYXRhID0gYXdhaXQgbW9kdWxlLmdldEh5ZHJhdGlvbkRhdGEoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgbW9kdWxlLCBzc3JDb250ZW50LCBoeWRyYXRpb25EYXRhIH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgLy8gSW4gU1NSLCB3ZSBtaWdodCB3YW50IHRvIHJldHVybiBmYWxsYmFjayBjb250ZW50IGluc3RlYWQgb2YgdGhyb3dpbmdcbiAgICAgIGNvbnNvbGUud2FybihgW1NTUl0gRmFpbGVkIHRvIGxvYWQgcmVtb3RlIG1vZHVsZSAke3JlbW90ZU5hbWV9JHttb2R1bGVQYXRofTpgLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbW9kdWxlOiB0aGlzLmNyZWF0ZUZhbGxiYWNrTW9kdWxlKHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpLFxuICAgICAgICBzc3JDb250ZW50OiBgPCEtLSBTU1I6IEZhaWxlZCB0byBsb2FkICR7cmVtb3RlTmFtZX0ke21vZHVsZVBhdGh9IC0tPmAsXG4gICAgICAgIGh5ZHJhdGlvbkRhdGE6IHsgZmFsbGJhY2s6IHRydWUsIHJlbW90ZU5hbWUsIG1vZHVsZVBhdGggfVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBzaGFyZWQgbW9kdWxlIGR1cmluZyBTU1JcbiAgICovXG4gIGFzeW5jIGxvYWRTaGFyZWRNb2R1bGU8VCA9IGFueT4oXG4gICAgcGFja2FnZU5hbWU6IHN0cmluZywgXG4gICAgdmVyc2lvblN0cmF0ZWd5PzogVmVyc2lvblN0cmF0ZWd5XG4gICk6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IG1vZHVsZUluZm8gPSB0aGlzLmxvYWRlZE1vZHVsZXMuZ2V0KHBhY2thZ2VOYW1lKTtcbiAgICBcbiAgICBpZiAobW9kdWxlSW5mbz8uc2luZ2xldG9uICYmIG1vZHVsZUluZm8ubG9hZGVkICYmIHRoaXMubW9kdWxlQ2FjaGUuaGFzKHBhY2thZ2VOYW1lKSkge1xuICAgICAgcmV0dXJuIHRoaXMubW9kdWxlQ2FjaGUuZ2V0KHBhY2thZ2VOYW1lKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gSW4gTm9kZS5qcyBlbnZpcm9ubWVudCwgd2UgY2FuIHVzZSByZXF1aXJlXG4gICAgICBjb25zdCBtb2R1bGUgPSB0aGlzLnNzckNvbnRleHQ/LnJlcXVpcmUgXG4gICAgICAgID8gdGhpcy5zc3JDb250ZXh0LnJlcXVpcmUocGFja2FnZU5hbWUpXG4gICAgICAgIDogYXdhaXQgaW1wb3J0KHBhY2thZ2VOYW1lKTtcbiAgICAgIFxuICAgICAgdGhpcy5tb2R1bGVDYWNoZS5zZXQocGFja2FnZU5hbWUsIG1vZHVsZSk7XG4gICAgICBcbiAgICAgIHRoaXMubG9hZGVkTW9kdWxlcy5zZXQocGFja2FnZU5hbWUsIHtcbiAgICAgICAgaWQ6IHBhY2thZ2VOYW1lLFxuICAgICAgICBuYW1lOiBwYWNrYWdlTmFtZSxcbiAgICAgICAgdmVyc2lvbjogJzEuMC4wJywgLy8gV2UnZCBuZWVkIHRvIHJlc29sdmUgdGhpcyBwcm9wZXJseVxuICAgICAgICB1cmw6IHBhY2thZ2VOYW1lLFxuICAgICAgICBkZXBzOiBbXSxcbiAgICAgICAgbG9hZGVkOiB0cnVlLFxuICAgICAgICBzaW5nbGV0b246IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbW9kdWxlO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgc2hhcmVkIG1vZHVsZSAke3BhY2thZ2VOYW1lfSBpbiBTU1I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgaHlkcmF0aW9uIG1hbmlmZXN0IGZvciBjbGllbnQtc2lkZVxuICAgKi9cbiAgZ2VuZXJhdGVIeWRyYXRpb25NYW5pZmVzdCgpOiB7XG4gICAgbG9hZGVkTW9kdWxlczogQXJyYXk8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHVybDogc3RyaW5nOyBoeWRyYXRpb25EYXRhPzogYW55IH0+O1xuICAgIGltcG9ydE1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgfSB7XG4gICAgY29uc3QgbG9hZGVkTW9kdWxlczogQXJyYXk8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHVybDogc3RyaW5nOyBoeWRyYXRpb25EYXRhPzogYW55IH0+ID0gW107XG4gICAgXG4gICAgdGhpcy5sb2FkZWRNb2R1bGVzLmZvckVhY2goKG1vZHVsZUluZm8pID0+IHtcbiAgICAgIGxvYWRlZE1vZHVsZXMucHVzaCh7XG4gICAgICAgIGlkOiBtb2R1bGVJbmZvLmlkLFxuICAgICAgICBuYW1lOiBtb2R1bGVJbmZvLm5hbWUsXG4gICAgICAgIHVybDogbW9kdWxlSW5mby51cmwsXG4gICAgICAgIGh5ZHJhdGlvbkRhdGE6IChtb2R1bGVJbmZvIGFzIGFueSkuaHlkcmF0aW9uRGF0YVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbG9hZGVkTW9kdWxlcyxcbiAgICAgIGltcG9ydE1hcDogdGhpcy5nZW5lcmF0ZUltcG9ydE1hcCgpXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbG9hZE1hbmlmZXN0KG1hbmlmZXN0UGF0aDogc3RyaW5nKTogUHJvbWlzZTxGZWRlcmF0aW9uTWFuaWZlc3Q+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmV0Y2hGbiA9IHRoaXMuc3NyQ29udGV4dD8uZmV0Y2ggfHwgZmV0Y2g7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoRm4obWFuaWZlc3RQYXRoKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS53YXJuKGBbU1NSXSBGYWlsZWQgdG8gbG9hZCBtYW5pZmVzdCBmcm9tICR7bWFuaWZlc3RQYXRofTpgLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlc29sdmVTU1JNb2R1bGVVcmwocmVtb3RlTmFtZTogc3RyaW5nLCBtb2R1bGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIC8vIEluIFNTUiwgd2UgbWlnaHQgbmVlZCB0byByZXNvbHZlIHRvIGxvY2FsIGZpbGUgcGF0aHMgb3IgVVJMc1xuICAgIGlmICh0aGlzLm1hbmlmZXN0W3JlbW90ZU5hbWVdKSB7XG4gICAgICBjb25zdCByZW1vdGVVcmwgPSB0aGlzLm1hbmlmZXN0W3JlbW90ZU5hbWVdO1xuICAgICAgXG4gICAgICAvLyBIYW5kbGUgbG9jYWwgZmlsZSBwYXRocyBmb3IgU1NSXG4gICAgICBpZiAocmVtb3RlVXJsLnN0YXJ0c1dpdGgoJy8nKSB8fCByZW1vdGVVcmwuc3RhcnRzV2l0aCgnLi8nKSkge1xuICAgICAgICByZXR1cm4gYCR7cmVtb3RlVXJsfSR7bW9kdWxlUGF0aH1gO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBIYW5kbGUgcmVtb3RlIFVSTHNcbiAgICAgIHJldHVybiBgJHtyZW1vdGVVcmx9JHttb2R1bGVQYXRofWA7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKGBSZW1vdGUgJHtyZW1vdGVOYW1lfSBub3QgZm91bmQgaW4gU1NSIG1hbmlmZXN0YCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRTU1JNb2R1bGUodXJsOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBJbiBOb2RlLmpzIGVudmlyb25tZW50LCBoYW5kbGUgZGlmZmVyZW50IG1vZHVsZSBsb2FkaW5nIHN0cmF0ZWdpZXNcbiAgICAgIGlmICh1cmwuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgIC8vIFJlbW90ZSBtb2R1bGUgLSBtaWdodCBuZWVkIHNwZWNpYWwgaGFuZGxpbmdcbiAgICAgICAgY29uc3QgZmV0Y2hGbiA9IHRoaXMuc3NyQ29udGV4dD8uZmV0Y2ggfHwgZmV0Y2g7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hGbih1cmwpO1xuICAgICAgICBjb25zdCBtb2R1bGVDb2RlID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gSW4gcHJvZHVjdGlvbiBTU1IsIHlvdSdkIHdhbnQgdG8gZXZhbHVhdGUgdGhpcyBzYWZlbHlcbiAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwgc2ltdWxhdGUgYSBtb2R1bGUgc3RydWN0dXJlXG4gICAgICAgIHJldHVybiB7IGRlZmF1bHQ6IG51bGwsIF9fc3NyTW9kdWxlOiB0cnVlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBMb2NhbCBtb2R1bGVcbiAgICAgICAgcmV0dXJuIHRoaXMuc3NyQ29udGV4dD8ucmVxdWlyZSBcbiAgICAgICAgICA/IHRoaXMuc3NyQ29udGV4dC5yZXF1aXJlKHVybClcbiAgICAgICAgICA6IGF3YWl0IGltcG9ydCh1cmwpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU1NSIG1vZHVsZSBpbXBvcnQgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVGYWxsYmFja01vZHVsZShyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICBfX2ZhbGxiYWNrOiB0cnVlLFxuICAgICAgX19yZW1vdGVOYW1lOiByZW1vdGVOYW1lLFxuICAgICAgX19tb2R1bGVQYXRoOiBtb2R1bGVQYXRoLFxuICAgICAgcmVuZGVyVG9TdHJpbmc6ICgpID0+IGA8IS0tIEZhbGxiYWNrIGZvciAke3JlbW90ZU5hbWV9JHttb2R1bGVQYXRofSAtLT5gLFxuICAgICAgZ2V0SHlkcmF0aW9uRGF0YTogKCkgPT4gKHsgZmFsbGJhY2s6IHRydWUgfSlcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZUltcG9ydE1hcCgpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgICBjb25zdCBpbXBvcnRNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBcbiAgICB0aGlzLmxvYWRlZE1vZHVsZXMuZm9yRWFjaCgobW9kdWxlSW5mbykgPT4ge1xuICAgICAgaWYgKG1vZHVsZUluZm8ubmFtZS5zdGFydHNXaXRoKCdAJykgfHwgIW1vZHVsZUluZm8ubmFtZS5pbmNsdWRlcygnLycpKSB7XG4gICAgICAgIC8vIFNoYXJlZCBkZXBlbmRlbmN5XG4gICAgICAgIGltcG9ydE1hcFttb2R1bGVJbmZvLm5hbWVdID0gbW9kdWxlSW5mby51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaW1wb3J0TWFwO1xuICB9XG5cbiAgZ2V0TG9hZGVkTW9kdWxlcygpOiBNYXA8c3RyaW5nLCBNb2R1bGVJbmZvPiB7XG4gICAgcmV0dXJuIG5ldyBNYXAodGhpcy5sb2FkZWRNb2R1bGVzKTtcbiAgfVxuXG4gIGNsZWFyQ2FjaGUoKTogdm9pZCB7XG4gICAgdGhpcy5sb2FkZWRNb2R1bGVzLmNsZWFyKCk7XG4gICAgdGhpcy5tb2R1bGVDYWNoZS5jbGVhcigpO1xuICB9XG59XG5cbi8qKlxuICogU1NSIHV0aWxpdGllcyBmb3IgZnJhbWV3b3JrIGludGVncmF0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBTU1JGZWRlcmF0aW9uVXRpbHMge1xuICBzdGF0aWMgaW5qZWN0SHlkcmF0aW9uU2NyaXB0KFxuICAgIGh0bWw6IHN0cmluZywgXG4gICAgaHlkcmF0aW9uTWFuaWZlc3Q6IFJldHVyblR5cGU8U1NSTW9kdWxlTG9hZGVyWydnZW5lcmF0ZUh5ZHJhdGlvbk1hbmlmZXN0J10+XG4gICk6IHN0cmluZyB7XG4gICAgY29uc3Qgc2NyaXB0ID0gYFxuICAgICAgPHNjcmlwdCB0eXBlPVwibW9kdWxlXCI+XG4gICAgICAgIC8vIEh5ZHJhdGlvbiBkYXRhIGZvciBOYXRpdmUgRmVkZXJhdGlvblxuICAgICAgICB3aW5kb3cuX19ORl9IWURSQVRJT05fXyA9ICR7SlNPTi5zdHJpbmdpZnkoaHlkcmF0aW9uTWFuaWZlc3QpfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFByZS1wb3B1bGF0ZSBtb2R1bGUgY2FjaGVcbiAgICAgICAgaWYgKHdpbmRvdy5fX05GX0hZRFJBVElPTl9fLmxvYWRlZE1vZHVsZXMpIHtcbiAgICAgICAgICB3aW5kb3cuX19ORl9MT0FERURfTU9EVUxFU19fID0gbmV3IE1hcCgpO1xuICAgICAgICAgIHdpbmRvdy5fX05GX0hZRFJBVElPTl9fLmxvYWRlZE1vZHVsZXMuZm9yRWFjaChtb2QgPT4ge1xuICAgICAgICAgICAgd2luZG93Ll9fTkZfTE9BREVEX01PRFVMRVNfXy5zZXQobW9kLmlkLCBtb2QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICA8L3NjcmlwdD5cbiAgICBgO1xuXG4gICAgLy8gSW5qZWN0IGJlZm9yZSBjbG9zaW5nIGhlYWQgdGFnXG4gICAgcmV0dXJuIGh0bWwucmVwbGFjZSgnPC9oZWFkPicsIGAke3NjcmlwdH08L2hlYWQ+YCk7XG4gIH1cblxuICBzdGF0aWMgZ2VuZXJhdGVQcmVsb2FkTGlua3MoXG4gICAgbG9hZGVkTW9kdWxlczogQXJyYXk8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHVybDogc3RyaW5nIH0+XG4gICk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGxvYWRlZE1vZHVsZXNcbiAgICAgIC5tYXAobW9kID0+IGA8bGluayByZWw9XCJtb2R1bGVwcmVsb2FkXCIgaHJlZj1cIiR7bW9kLnVybH1cIj5gKVxuICAgICAgLmpvaW4oJ1xcbicpO1xuICB9XG59Il19","customTransformCache":false,"dependencies":["@angular/core","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/version-manager.mjs"],"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/ssr-module-loader.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Injectable, Optional } from '@angular/core';\nimport { VersionManager } from './version-manager';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./version-manager\";\n/**\n * Server-side module loader for SSR environments\n * Handles module federation during server-side rendering\n */\nexport class SSRModuleLoader {\n    versionManager;\n    loadedModules = new Map();\n    manifest = {};\n    moduleCache = new Map();\n    manifestPath;\n    ssrContext;\n    constructor(versionManager, ssrContext) {\n        this.versionManager = versionManager;\n        this.manifestPath = ssrContext?.manifestPath;\n        this.ssrContext = ssrContext;\n    }\n    async initialize() {\n        if (this.manifestPath) {\n            this.manifest = await this.loadManifest(this.manifestPath);\n        }\n    }\n    /**\n     * Load remote module during SSR\n     * Returns pre-rendered content and hydration instructions\n     */\n    async loadRemoteModule(remoteName, modulePath) {\n        const moduleId = `${remoteName}${modulePath}`;\n        // Check cache first\n        if (this.moduleCache.has(moduleId)) {\n            return { module: this.moduleCache.get(moduleId) };\n        }\n        try {\n            // In SSR, we need to resolve module path differently\n            const moduleUrl = await this.resolveSSRModuleUrl(remoteName, modulePath);\n            const module = await this.loadSSRModule(moduleUrl);\n            // Cache the module\n            this.moduleCache.set(moduleId, module);\n            this.loadedModules.set(moduleId, {\n                id: moduleId,\n                name: remoteName,\n                version: '1.0.0',\n                url: moduleUrl,\n                deps: [],\n                loaded: true,\n                singleton: false\n            });\n            // Extract SSR content if available\n            let ssrContent;\n            let hydrationData;\n            if (module.renderToString && typeof module.renderToString === 'function') {\n                ssrContent = await module.renderToString();\n            }\n            if (module.getHydrationData && typeof module.getHydrationData === 'function') {\n                hydrationData = await module.getHydrationData();\n            }\n            return { module, ssrContent, hydrationData };\n        }\n        catch (error) {\n            // In SSR, we might want to return fallback content instead of throwing\n            console.warn(`[SSR] Failed to load remote module ${remoteName}${modulePath}:`, error.message);\n            return {\n                module: this.createFallbackModule(remoteName, modulePath),\n                ssrContent: `<!-- SSR: Failed to load ${remoteName}${modulePath} -->`,\n                hydrationData: { fallback: true, remoteName, modulePath }\n            };\n        }\n    }\n    /**\n     * Load shared module during SSR\n     */\n    async loadSharedModule(packageName, versionStrategy) {\n        const moduleInfo = this.loadedModules.get(packageName);\n        if (moduleInfo?.singleton && moduleInfo.loaded && this.moduleCache.has(packageName)) {\n            return this.moduleCache.get(packageName);\n        }\n        try {\n            // In Node.js environment, we can use require\n            const module = this.ssrContext?.require\n                ? this.ssrContext.require(packageName)\n                : await import(packageName);\n            this.moduleCache.set(packageName, module);\n            this.loadedModules.set(packageName, {\n                id: packageName,\n                name: packageName,\n                version: '1.0.0', // We'd need to resolve this properly\n                url: packageName,\n                deps: [],\n                loaded: true,\n                singleton: true\n            });\n            return module;\n        }\n        catch (error) {\n            throw new Error(`Failed to load shared module ${packageName} in SSR: ${error.message}`);\n        }\n    }\n    /**\n     * Generate hydration manifest for client-side\n     */\n    generateHydrationManifest() {\n        const loadedModules = [];\n        this.loadedModules.forEach((moduleInfo) => {\n            loadedModules.push({\n                id: moduleInfo.id,\n                name: moduleInfo.name,\n                url: moduleInfo.url,\n                hydrationData: moduleInfo.hydrationData\n            });\n        });\n        return {\n            loadedModules,\n            importMap: this.generateImportMap()\n        };\n    }\n    async loadManifest(manifestPath) {\n        try {\n            const fetchFn = this.ssrContext?.fetch || fetch;\n            const response = await fetchFn(manifestPath);\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n            return await response.json();\n        }\n        catch (error) {\n            console.warn(`[SSR] Failed to load manifest from ${manifestPath}:`, error.message);\n            return {};\n        }\n    }\n    async resolveSSRModuleUrl(remoteName, modulePath) {\n        // In SSR, we might need to resolve to local file paths or URLs\n        if (this.manifest[remoteName]) {\n            const remoteUrl = this.manifest[remoteName];\n            // Handle local file paths for SSR\n            if (remoteUrl.startsWith('/') || remoteUrl.startsWith('./')) {\n                return `${remoteUrl}${modulePath}`;\n            }\n            // Handle remote URLs\n            return `${remoteUrl}${modulePath}`;\n        }\n        throw new Error(`Remote ${remoteName} not found in SSR manifest`);\n    }\n    async loadSSRModule(url) {\n        try {\n            // In Node.js environment, handle different module loading strategies\n            if (url.startsWith('http')) {\n                // Remote module - might need special handling\n                const fetchFn = this.ssrContext?.fetch || fetch;\n                const response = await fetchFn(url);\n                const moduleCode = await response.text();\n                // In production SSR, you'd want to evaluate this safely\n                // For now, we'll simulate a module structure\n                return { default: null, __ssrModule: true };\n            }\n            else {\n                // Local module\n                return this.ssrContext?.require\n                    ? this.ssrContext.require(url)\n                    : await import(url);\n            }\n        }\n        catch (error) {\n            throw new Error(`SSR module import failed: ${error.message}`);\n        }\n    }\n    createFallbackModule(remoteName, modulePath) {\n        return {\n            default: null,\n            __fallback: true,\n            __remoteName: remoteName,\n            __modulePath: modulePath,\n            renderToString: () => `<!-- Fallback for ${remoteName}${modulePath} -->`,\n            getHydrationData: () => ({ fallback: true })\n        };\n    }\n    generateImportMap() {\n        const importMap = {};\n        this.loadedModules.forEach((moduleInfo) => {\n            if (moduleInfo.name.startsWith('@') || !moduleInfo.name.includes('/')) {\n                // Shared dependency\n                importMap[moduleInfo.name] = moduleInfo.url;\n            }\n        });\n        return importMap;\n    }\n    getLoadedModules() {\n        return new Map(this.loadedModules);\n    }\n    clearCache() {\n        this.loadedModules.clear();\n        this.moduleCache.clear();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: SSRModuleLoader, deps: \"invalid\", target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: SSRModuleLoader, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: SSRModuleLoader, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: i1.VersionManager }, { type: undefined, decorators: [{\n                    type: Optional\n                }] }] });\n/**\n * SSR utilities for framework integration\n */\nexport class SSRFederationUtils {\n    static injectHydrationScript(html, hydrationManifest) {\n        const script = `\n      <script type=\"module\">\n        // Hydration data for Native Federation\n        window.__NF_HYDRATION__ = ${JSON.stringify(hydrationManifest)};\n        \n        // Pre-populate module cache\n        if (window.__NF_HYDRATION__.loadedModules) {\n          window.__NF_LOADED_MODULES__ = new Map();\n          window.__NF_HYDRATION__.loadedModules.forEach(mod => {\n            window.__NF_LOADED_MODULES__.set(mod.id, mod);\n          });\n        }\n      </script>\n    `;\n        // Inject before closing head tag\n        return html.replace('</head>', `${script}</head>`);\n    }\n    static generatePreloadLinks(loadedModules) {\n        return loadedModules\n            .map(mod => `<link rel=\"modulepreload\" href=\"${mod.url}\">`)\n            .join('\\n');\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3NyLW1vZHVsZS1sb2FkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uYXRpdmUtZmVkZXJhdGlvbi9zcmMvbGliL3J1bnRpbWUvc3NyLW1vZHVsZS1sb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFckQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDOzs7QUFFbkQ7OztHQUdHO0FBSUgsTUFBTSxPQUFPLGVBQWU7SUFZaEI7SUFYRixhQUFhLEdBQUcsSUFBSSxHQUFHLEVBQXNCLENBQUM7SUFDOUMsUUFBUSxHQUF1QixFQUFFLENBQUM7SUFDbEMsV0FBVyxHQUFHLElBQUksR0FBRyxFQUFlLENBQUM7SUFDckMsWUFBWSxDQUFVO0lBQ3RCLFVBQVUsQ0FJaEI7SUFFRixZQUNVLGNBQThCLEVBQzFCLFVBSVg7UUFMTyxtQkFBYyxHQUFkLGNBQWMsQ0FBZ0I7UUFPdEMsSUFBSSxDQUFDLFlBQVksR0FBRyxVQUFVLEVBQUUsWUFBWSxDQUFDO1FBQzdDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO0lBQy9CLENBQUM7SUFFRCxLQUFLLENBQUMsVUFBVTtRQUNkLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM3RCxDQUFDO0lBQ0gsQ0FBQztJQUVEOzs7T0FHRztJQUNILEtBQUssQ0FBQyxnQkFBZ0IsQ0FDcEIsVUFBa0IsRUFDbEIsVUFBa0I7UUFNbEIsTUFBTSxRQUFRLEdBQUcsR0FBRyxVQUFVLEdBQUcsVUFBVSxFQUFFLENBQUM7UUFFOUMsb0JBQW9CO1FBQ3BCLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENB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LEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQzthQUMxRCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDaEIsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZlZGVyYXRpb25NYW5pZmVzdCwgTW9kdWxlSW5mbywgVmVyc2lvblN0cmF0ZWd5IH0gZnJvbSAnLi4vdHlwZXMvZmVkZXJhdGlvbic7XG5pbXBvcnQgeyBWZXJzaW9uTWFuYWdlciB9IGZyb20gJy4vdmVyc2lvbi1tYW5hZ2VyJztcblxuLyoqXG4gKiBTZXJ2ZXItc2lkZSBtb2R1bGUgbG9hZGVyIGZvciBTU1IgZW52aXJvbm1lbnRzXG4gKiBIYW5kbGVzIG1vZHVsZSBmZWRlcmF0aW9uIGR1cmluZyBzZXJ2ZXItc2lkZSByZW5kZXJpbmdcbiAqL1xuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgU1NSTW9kdWxlTG9hZGVyIHtcbiAgcHJpdmF0ZSBsb2FkZWRNb2R1bGVzID0gbmV3IE1hcDxzdHJpbmcsIE1vZHVsZUluZm8+KCk7XG4gIHByaXZhdGUgbWFuaWZlc3Q6IEZlZGVyYXRpb25NYW5pZmVzdCA9IHt9O1xuICBwcml2YXRlIG1vZHVsZUNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcbiAgcHJpdmF0ZSBtYW5pZmVzdFBhdGg/OiBzdHJpbmc7XG4gIHByaXZhdGUgc3NyQ29udGV4dD86IHtcbiAgICBtYW5pZmVzdFBhdGg/OiBzdHJpbmc7XG4gICAgZmV0Y2g/OiB0eXBlb2YgZmV0Y2g7XG4gICAgcmVxdWlyZT86IGFueTtcbiAgfTtcbiAgXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgdmVyc2lvbk1hbmFnZXI6IFZlcnNpb25NYW5hZ2VyLFxuICAgIEBPcHRpb25hbCgpIHNzckNvbnRleHQ/OiB7XG4gICAgICBtYW5pZmVzdFBhdGg/OiBzdHJpbmc7XG4gICAgICBmZXRjaD86IHR5cGVvZiBmZXRjaDtcbiAgICAgIHJlcXVpcmU/OiBhbnk7XG4gICAgfVxuICApIHtcbiAgICB0aGlzLm1hbmlmZXN0UGF0aCA9IHNzckNvbnRleHQ/Lm1hbmlmZXN0UGF0aDtcbiAgICB0aGlzLnNzckNvbnRleHQgPSBzc3JDb250ZXh0O1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5tYW5pZmVzdFBhdGgpIHtcbiAgICAgIHRoaXMubWFuaWZlc3QgPSBhd2FpdCB0aGlzLmxvYWRNYW5pZmVzdCh0aGlzLm1hbmlmZXN0UGF0aCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgcmVtb3RlIG1vZHVsZSBkdXJpbmcgU1NSXG4gICAqIFJldHVybnMgcHJlLXJlbmRlcmVkIGNvbnRlbnQgYW5kIGh5ZHJhdGlvbiBpbnN0cnVjdGlvbnNcbiAgICovXG4gIGFzeW5jIGxvYWRSZW1vdGVNb2R1bGU8VCA9IGFueT4oXG4gICAgcmVtb3RlTmFtZTogc3RyaW5nLCBcbiAgICBtb2R1bGVQYXRoOiBzdHJpbmdcbiAgKTogUHJvbWlzZTx7XG4gICAgbW9kdWxlOiBUO1xuICAgIHNzckNvbnRlbnQ/OiBzdHJpbmc7XG4gICAgaHlkcmF0aW9uRGF0YT86IGFueTtcbiAgfT4ge1xuICAgIGNvbnN0IG1vZHVsZUlkID0gYCR7cmVtb3RlTmFtZX0ke21vZHVsZVBhdGh9YDtcbiAgICBcbiAgICAvLyBDaGVjayBjYWNoZSBmaXJzdFxuICAgIGlmICh0aGlzLm1vZHVsZUNhY2hlLmhhcyhtb2R1bGVJZCkpIHtcbiAgICAgIHJldHVybiB7IG1vZHVsZTogdGhpcy5tb2R1bGVDYWNoZS5nZXQobW9kdWxlSWQpIH07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEluIFNTUiwgd2UgbmVlZCB0byByZXNvbHZlIG1vZHVsZSBwYXRoIGRpZmZlcmVudGx5XG4gICAgICBjb25zdCBtb2R1bGVVcmwgPSBhd2FpdCB0aGlzLnJlc29sdmVTU1JNb2R1bGVVcmwocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gICAgICBjb25zdCBtb2R1bGUgPSBhd2FpdCB0aGlzLmxvYWRTU1JNb2R1bGUobW9kdWxlVXJsKTtcbiAgICAgIFxuICAgICAgLy8gQ2FjaGUgdGhlIG1vZHVsZVxuICAgICAgdGhpcy5tb2R1bGVDYWNoZS5zZXQobW9kdWxlSWQsIG1vZHVsZSk7XG4gICAgICBcbiAgICAgIHRoaXMubG9hZGVkTW9kdWxlcy5zZXQobW9kdWxlSWQsIHtcbiAgICAgICAgaWQ6IG1vZHVsZUlkLFxuICAgICAgICBuYW1lOiByZW1vdGVOYW1lLFxuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgICAgICB1cmw6IG1vZHVsZVVybCxcbiAgICAgICAgZGVwczogW10sXG4gICAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgICAgc2luZ2xldG9uOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEV4dHJhY3QgU1NSIGNvbnRlbnQgaWYgYXZhaWxhYmxlXG4gICAgICBsZXQgc3NyQ29udGVudDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgbGV0IGh5ZHJhdGlvbkRhdGE6IGFueTtcblxuICAgICAgaWYgKG1vZHVsZS5yZW5kZXJUb1N0cmluZyAmJiB0eXBlb2YgbW9kdWxlLnJlbmRlclRvU3RyaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNzckNvbnRlbnQgPSBhd2FpdCBtb2R1bGUucmVuZGVyVG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vZHVsZS5nZXRIeWRyYXRpb25EYXRhICYmIHR5cGVvZiBtb2R1bGUuZ2V0SHlkcmF0aW9uRGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBoeWRyYXRpb25EYXRhID0gYXdhaXQgbW9kdWxlLmdldEh5ZHJhdGlvbkRhdGEoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgbW9kdWxlLCBzc3JDb250ZW50LCBoeWRyYXRpb25EYXRhIH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgLy8gSW4gU1NSLCB3ZSBtaWdodCB3YW50IHRvIHJldHVybiBmYWxsYmFjayBjb250ZW50IGluc3RlYWQgb2YgdGhyb3dpbmdcbiAgICAgIGNvbnNvbGUud2FybihgW1NTUl0gRmFpbGVkIHRvIGxvYWQgcmVtb3RlIG1vZHVsZSAke3JlbW90ZU5hbWV9JHttb2R1bGVQYXRofTpgLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbW9kdWxlOiB0aGlzLmNyZWF0ZUZhbGxiYWNrTW9kdWxlKHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpLFxuICAgICAgICBzc3JDb250ZW50OiBgPCEtLSBTU1I6IEZhaWxlZCB0byBsb2FkICR7cmVtb3RlTmFtZX0ke21vZHVsZVBhdGh9IC0tPmAsXG4gICAgICAgIGh5ZHJhdGlvbkRhdGE6IHsgZmFsbGJhY2s6IHRydWUsIHJlbW90ZU5hbWUsIG1vZHVsZVBhdGggfVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBzaGFyZWQgbW9kdWxlIGR1cmluZyBTU1JcbiAgICovXG4gIGFzeW5jIGxvYWRTaGFyZWRNb2R1bGU8VCA9IGFueT4oXG4gICAgcGFja2FnZU5hbWU6IHN0cmluZywgXG4gICAgdmVyc2lvblN0cmF0ZWd5PzogVmVyc2lvblN0cmF0ZWd5XG4gICk6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IG1vZHVsZUluZm8gPSB0aGlzLmxvYWRlZE1vZHVsZXMuZ2V0KHBhY2thZ2VOYW1lKTtcbiAgICBcbiAgICBpZiAobW9kdWxlSW5mbz8uc2luZ2xldG9uICYmIG1vZHVsZUluZm8ubG9hZGVkICYmIHRoaXMubW9kdWxlQ2FjaGUuaGFzKHBhY2thZ2VOYW1lKSkge1xuICAgICAgcmV0dXJuIHRoaXMubW9kdWxlQ2FjaGUuZ2V0KHBhY2thZ2VOYW1lKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gSW4gTm9kZS5qcyBlbnZpcm9ubWVudCwgd2UgY2FuIHVzZSByZXF1aXJlXG4gICAgICBjb25zdCBtb2R1bGUgPSB0aGlzLnNzckNvbnRleHQ/LnJlcXVpcmUgXG4gICAgICAgID8gdGhpcy5zc3JDb250ZXh0LnJlcXVpcmUocGFja2FnZU5hbWUpXG4gICAgICAgIDogYXdhaXQgaW1wb3J0KHBhY2thZ2VOYW1lKTtcbiAgICAgIFxuICAgICAgdGhpcy5tb2R1bGVDYWNoZS5zZXQocGFja2FnZU5hbWUsIG1vZHVsZSk7XG4gICAgICBcbiAgICAgIHRoaXMubG9hZGVkTW9kdWxlcy5zZXQocGFja2FnZU5hbWUsIHtcbiAgICAgICAgaWQ6IHBhY2thZ2VOYW1lLFxuICAgICAgICBuYW1lOiBwYWNrYWdlTmFtZSxcbiAgICAgICAgdmVyc2lvbjogJzEuMC4wJywgLy8gV2UnZCBuZWVkIHRvIHJlc29sdmUgdGhpcyBwcm9wZXJseVxuICAgICAgICB1cmw6IHBhY2thZ2VOYW1lLFxuICAgICAgICBkZXBzOiBbXSxcbiAgICAgICAgbG9hZGVkOiB0cnVlLFxuICAgICAgICBzaW5nbGV0b246IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbW9kdWxlO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgc2hhcmVkIG1vZHVsZSAke3BhY2thZ2VOYW1lfSBpbiBTU1I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgaHlkcmF0aW9uIG1hbmlmZXN0IGZvciBjbGllbnQtc2lkZVxuICAgKi9cbiAgZ2VuZXJhdGVIeWRyYXRpb25NYW5pZmVzdCgpOiB7XG4gICAgbG9hZGVkTW9kdWxlczogQXJyYXk8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHVybDogc3RyaW5nOyBoeWRyYXRpb25EYXRhPzogYW55IH0+O1xuICAgIGltcG9ydE1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgfSB7XG4gICAgY29uc3QgbG9hZGVkTW9kdWxlczogQXJyYXk8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHVybDogc3RyaW5nOyBoeWRyYXRpb25EYXRhPzogYW55IH0+ID0gW107XG4gICAgXG4gICAgdGhpcy5sb2FkZWRNb2R1bGVzLmZvckVhY2goKG1vZHVsZUluZm8pID0+IHtcbiAgICAgIGxvYWRlZE1vZHVsZXMucHVzaCh7XG4gICAgICAgIGlkOiBtb2R1bGVJbmZvLmlkLFxuICAgICAgICBuYW1lOiBtb2R1bGVJbmZvLm5hbWUsXG4gICAgICAgIHVybDogbW9kdWxlSW5mby51cmwsXG4gICAgICAgIGh5ZHJhdGlvbkRhdGE6IChtb2R1bGVJbmZvIGFzIGFueSkuaHlkcmF0aW9uRGF0YVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbG9hZGVkTW9kdWxlcyxcbiAgICAgIGltcG9ydE1hcDogdGhpcy5nZW5lcmF0ZUltcG9ydE1hcCgpXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbG9hZE1hbmlmZXN0KG1hbmlmZXN0UGF0aDogc3RyaW5nKTogUHJvbWlzZTxGZWRlcmF0aW9uTWFuaWZlc3Q+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmV0Y2hGbiA9IHRoaXMuc3NyQ29udGV4dD8uZmV0Y2ggfHwgZmV0Y2g7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoRm4obWFuaWZlc3RQYXRoKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS53YXJuKGBbU1NSXSBGYWlsZWQgdG8gbG9hZCBtYW5pZmVzdCBmcm9tICR7bWFuaWZlc3RQYXRofTpgLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlc29sdmVTU1JNb2R1bGVVcmwocmVtb3RlTmFtZTogc3RyaW5nLCBtb2R1bGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIC8vIEluIFNTUiwgd2UgbWlnaHQgbmVlZCB0byByZXNvbHZlIHRvIGxvY2FsIGZpbGUgcGF0aHMgb3IgVVJMc1xuICAgIGlmICh0aGlzLm1hbmlmZXN0W3JlbW90ZU5hbWVdKSB7XG4gICAgICBjb25zdCByZW1vdGVVcmwgPSB0aGlzLm1hbmlmZXN0W3JlbW90ZU5hbWVdO1xuICAgICAgXG4gICAgICAvLyBIYW5kbGUgbG9jYWwgZmlsZSBwYXRocyBmb3IgU1NSXG4gICAgICBpZiAocmVtb3RlVXJsLnN0YXJ0c1dpdGgoJy8nKSB8fCByZW1vdGVVcmwuc3RhcnRzV2l0aCgnLi8nKSkge1xuICAgICAgICByZXR1cm4gYCR7cmVtb3RlVXJsfSR7bW9kdWxlUGF0aH1gO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBIYW5kbGUgcmVtb3RlIFVSTHNcbiAgICAgIHJldHVybiBgJHtyZW1vdGVVcmx9JHttb2R1bGVQYXRofWA7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKGBSZW1vdGUgJHtyZW1vdGVOYW1lfSBub3QgZm91bmQgaW4gU1NSIG1hbmlmZXN0YCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRTU1JNb2R1bGUodXJsOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBJbiBOb2RlLmpzIGVudmlyb25tZW50LCBoYW5kbGUgZGlmZmVyZW50IG1vZHVsZSBsb2FkaW5nIHN0cmF0ZWdpZXNcbiAgICAgIGlmICh1cmwuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgIC8vIFJlbW90ZSBtb2R1bGUgLSBtaWdodCBuZWVkIHNwZWNpYWwgaGFuZGxpbmdcbiAgICAgICAgY29uc3QgZmV0Y2hGbiA9IHRoaXMuc3NyQ29udGV4dD8uZmV0Y2ggfHwgZmV0Y2g7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hGbih1cmwpO1xuICAgICAgICBjb25zdCBtb2R1bGVDb2RlID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gSW4gcHJvZHVjdGlvbiBTU1IsIHlvdSdkIHdhbnQgdG8gZXZhbHVhdGUgdGhpcyBzYWZlbHlcbiAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwgc2ltdWxhdGUgYSBtb2R1bGUgc3RydWN0dXJlXG4gICAgICAgIHJldHVybiB7IGRlZmF1bHQ6IG51bGwsIF9fc3NyTW9kdWxlOiB0cnVlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBMb2NhbCBtb2R1bGVcbiAgICAgICAgcmV0dXJuIHRoaXMuc3NyQ29udGV4dD8ucmVxdWlyZSBcbiAgICAgICAgICA/IHRoaXMuc3NyQ29udGV4dC5yZXF1aXJlKHVybClcbiAgICAgICAgICA6IGF3YWl0IGltcG9ydCh1cmwpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU1NSIG1vZHVsZSBpbXBvcnQgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVGYWxsYmFja01vZHVsZShyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICBfX2ZhbGxiYWNrOiB0cnVlLFxuICAgICAgX19yZW1vdGVOYW1lOiByZW1vdGVOYW1lLFxuICAgICAgX19tb2R1bGVQYXRoOiBtb2R1bGVQYXRoLFxuICAgICAgcmVuZGVyVG9TdHJpbmc6ICgpID0+IGA8IS0tIEZhbGxiYWNrIGZvciAke3JlbW90ZU5hbWV9JHttb2R1bGVQYXRofSAtLT5gLFxuICAgICAgZ2V0SHlkcmF0aW9uRGF0YTogKCkgPT4gKHsgZmFsbGJhY2s6IHRydWUgfSlcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZUltcG9ydE1hcCgpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgICBjb25zdCBpbXBvcnRNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBcbiAgICB0aGlzLmxvYWRlZE1vZHVsZXMuZm9yRWFjaCgobW9kdWxlSW5mbykgPT4ge1xuICAgICAgaWYgKG1vZHVsZUluZm8ubmFtZS5zdGFydHNXaXRoKCdAJykgfHwgIW1vZHVsZUluZm8ubmFtZS5pbmNsdWRlcygnLycpKSB7XG4gICAgICAgIC8vIFNoYXJlZCBkZXBlbmRlbmN5XG4gICAgICAgIGltcG9ydE1hcFttb2R1bGVJbmZvLm5hbWVdID0gbW9kdWxlSW5mby51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaW1wb3J0TWFwO1xuICB9XG5cbiAgZ2V0TG9hZGVkTW9kdWxlcygpOiBNYXA8c3RyaW5nLCBNb2R1bGVJbmZvPiB7XG4gICAgcmV0dXJuIG5ldyBNYXAodGhpcy5sb2FkZWRNb2R1bGVzKTtcbiAgfVxuXG4gIGNsZWFyQ2FjaGUoKTogdm9pZCB7XG4gICAgdGhpcy5sb2FkZWRNb2R1bGVzLmNsZWFyKCk7XG4gICAgdGhpcy5tb2R1bGVDYWNoZS5jbGVhcigpO1xuICB9XG59XG5cbi8qKlxuICogU1NSIHV0aWxpdGllcyBmb3IgZnJhbWV3b3JrIGludGVncmF0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBTU1JGZWRlcmF0aW9uVXRpbHMge1xuICBzdGF0aWMgaW5qZWN0SHlkcmF0aW9uU2NyaXB0KFxuICAgIGh0bWw6IHN0cmluZywgXG4gICAgaHlkcmF0aW9uTWFuaWZlc3Q6IFJldHVyblR5cGU8U1NSTW9kdWxlTG9hZGVyWydnZW5lcmF0ZUh5ZHJhdGlvbk1hbmlmZXN0J10+XG4gICk6IHN0cmluZyB7XG4gICAgY29uc3Qgc2NyaXB0ID0gYFxuICAgICAgPHNjcmlwdCB0eXBlPVwibW9kdWxlXCI+XG4gICAgICAgIC8vIEh5ZHJhdGlvbiBkYXRhIGZvciBOYXRpdmUgRmVkZXJhdGlvblxuICAgICAgICB3aW5kb3cuX19ORl9IWURSQVRJT05fXyA9ICR7SlNPTi5zdHJpbmdpZnkoaHlkcmF0aW9uTWFuaWZlc3QpfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFByZS1wb3B1bGF0ZSBtb2R1bGUgY2FjaGVcbiAgICAgICAgaWYgKHdpbmRvdy5fX05GX0hZRFJBVElPTl9fLmxvYWRlZE1vZHVsZXMpIHtcbiAgICAgICAgICB3aW5kb3cuX19ORl9MT0FERURfTU9EVUxFU19fID0gbmV3IE1hcCgpO1xuICAgICAgICAgIHdpbmRvdy5fX05GX0hZRFJBVElPTl9fLmxvYWRlZE1vZHVsZXMuZm9yRWFjaChtb2QgPT4ge1xuICAgICAgICAgICAgd2luZG93Ll9fTkZfTE9BREVEX01PRFVMRVNfXy5zZXQobW9kLmlkLCBtb2QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICA8L3NjcmlwdD5cbiAgICBgO1xuXG4gICAgLy8gSW5qZWN0IGJlZm9yZSBjbG9zaW5nIGhlYWQgdGFnXG4gICAgcmV0dXJuIGh0bWwucmVwbGFjZSgnPC9oZWFkPicsIGAke3NjcmlwdH08L2hlYWQ+YCk7XG4gIH1cblxuICBzdGF0aWMgZ2VuZXJhdGVQcmVsb2FkTGlua3MoXG4gICAgbG9hZGVkTW9kdWxlczogQXJyYXk8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHVybDogc3RyaW5nIH0+XG4gICk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGxvYWRlZE1vZHVsZXNcbiAgICAgIC5tYXAobW9kID0+IGA8bGluayByZWw9XCJtb2R1bGVwcmVsb2FkXCIgaHJlZj1cIiR7bW9kLnVybH1cIj5gKVxuICAgICAgLmpvaW4oJ1xcbicpO1xuICB9XG59Il19","originalSourcemap":{"version":3,"file":"ssr-module-loader.js","sourceRoot":"","sources":["../../../../../projects/native-federation/src/lib/runtime/ssr-module-loader.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[19,0,0,19],[21,0,0,21],[29,0,0,29],[31,0,0,31],[37,0,0,37],[52,0,0,52],[53,0,0,53]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[23,0,2,23],[25,0,2,25],[31,0,2,31],[50,0,2,50],[51,0,2,51]],[],[],[[0,0,4,0]],[],[],[[3,0,7,3]],[[0,0,11,0],[6,0,11,6],[13,0,11,13],[28,0,11,28]],[[4,0,23,12]],[[4,0,12,10],[17,0,12,23],[20,0,12,26],[24,0,12,30],[27,0,12,33],[29,0,12,55],[30,0,12,56]],[[4,0,13,10],[12,0,13,18],[15,0,13,41],[17,0,13,43],[18,0,13,44]],[[4,0,14,10],[15,0,14,21],[18,0,14,24],[22,0,14,28],[25,0,14,31],[27,0,14,46],[28,0,14,47]],[[4,0,15,10],[16,0,15,22],[17,0,15,32]],[[4,0,16,10],[14,0,16,20],[15,0,20,4]],[[4,0,22,2],[16,0,23,12],[30,0,23,42],[32,0,24,16],[42,0,28,5]],[[8,0,23,12],[27,0,23,26],[30,0,23,12],[44,0,23,26],[45,0,23,42]],[[8,0,30,4],[12,0,30,8],[13,0,30,9],[25,0,30,21],[28,0,30,24],[38,0,30,34],[40,0,30,36],[52,0,30,48],[53,0,30,49]],[[8,0,31,4],[12,0,31,8],[13,0,31,9],[23,0,31,19],[26,0,31,22],[36,0,31,32],[37,0,31,33]],[[4,0,32,2],[5,0,32,3]],[[4,0,34,2],[9,0,34,7],[10,0,34,8],[20,0,34,18]],[[8,0,35,4],[12,0,35,8],[16,0,35,12],[17,0,35,13],[29,0,35,25],[31,0,35,27],[32,0,35,28]],[[12,0,36,6],[16,0,36,10],[17,0,36,11],[25,0,36,19],[28,0,36,22],[34,0,36,28],[38,0,36,32],[39,0,36,33],[51,0,36,45],[52,0,36,46],[56,0,36,50],[57,0,36,51],[69,0,36,63],[70,0,36,64],[71,0,36,65]],[[8,0,37,4],[9,0,37,5]],[[4,0,38,2],[5,0,38,3]],[[4,0,40,2]],[],[],[[7,0,43,5]],[[4,0,44,2],[9,0,44,7],[10,0,44,8],[26,0,44,24],[27,0,45,4],[37,0,45,22],[39,0,46,4],[49,0,46,22]],[[8,0,52,4],[14,0,52,10],[22,0,52,18],[25,0,52,21],[28,0,52,24],[38,0,52,34],[41,0,52,37],[51,0,52,47],[53,0,52,49],[54,0,52,50]],[[8,0,54,4],[28,0,54,24]],[[8,0,55,4],[12,0,55,8],[16,0,55,12],[17,0,55,13],[28,0,55,24],[29,0,55,25],[32,0,55,28],[33,0,55,29],[41,0,55,37],[42,0,55,38],[44,0,55,40],[45,0,55,41]],[[12,0,56,6],[19,0,56,13],[21,0,56,15],[27,0,56,21],[29,0,56,23],[33,0,56,27],[34,0,56,28],[45,0,56,39],[46,0,56,40],[49,0,56,43],[50,0,56,44],[58,0,56,52],[59,0,56,53],[61,0,56,55],[62,0,56,56]],[[8,0,57,4],[9,0,57,5]],[[8,0,59,4],[12,0,59,8],[13,0,59,9]],[[12,0,60,6],[65,0,60,59]],[[12,0,61,6],[18,0,61,12],[27,0,61,21],[30,0,61,24],[36,0,61,30],[40,0,61,34],[41,0,61,35],[60,0,61,54],[61,0,61,55],[71,0,61,65],[73,0,61,67],[83,0,61,77],[84,0,61,78],[85,0,61,79]],[[12,0,62,6],[18,0,62,12],[24,0,62,18],[27,0,62,21],[33,0,62,27],[37,0,62,31],[38,0,62,32],[51,0,62,45],[52,0,62,46],[61,0,62,55],[62,0,62,56],[63,0,62,57]],[[12,0,64,6],[31,0,64,25]],[[12,0,65,6],[16,0,65,10],[17,0,65,11],[28,0,65,22],[29,0,65,23],[32,0,65,26],[33,0,65,27],[41,0,65,35],[43,0,65,37],[49,0,65,43],[50,0,65,44],[51,0,65,45]],[[12,0,67,6],[16,0,67,10],[17,0,67,11],[30,0,67,24],[31,0,67,25],[34,0,67,28],[35,0,67,29],[43,0,67,37],[45,0,67,39]],[[16,0,68,8],[18,0,68,10],[20,0,68,12],[28,0,68,20]],[[16,0,69,8],[20,0,69,12],[22,0,69,14],[32,0,69,24]],[[16,0,70,8],[23,0,70,15],[25,0,70,17],[32,0,70,24]],[[16,0,71,8],[19,0,71,11],[21,0,71,13],[30,0,71,22]],[[16,0,72,8],[20,0,72,12],[22,0,72,14],[24,0,72,16]],[[16,0,73,8],[22,0,73,14],[24,0,73,16],[28,0,73,20]],[[16,0,74,8],[25,0,74,17],[27,0,74,19],[32,0,74,24]],[[13,0,75,7],[14,0,75,8],[15,0,75,9]],[[12,0,77,6],[47,0,77,41]],[[12,0,78,6],[16,0,78,10],[26,0,78,40],[27,0,78,41]],[[12,0,79,6],[16,0,79,10],[29,0,79,28],[30,0,79,29]],[[12,0,81,6],[16,0,81,10],[22,0,81,16],[23,0,81,17],[37,0,81,31],[41,0,81,35],[48,0,81,42],[54,0,81,48],[55,0,81,49],[69,0,81,63],[74,0,81,68],[84,0,81,78],[86,0,81,80],[87,0,81,81]],[[16,0,82,8],[26,0,82,18],[29,0,82,21],[35,0,82,27],[41,0,82,33],[42,0,82,34],[56,0,82,48],[58,0,82,50],[59,0,82,51]],[[12,0,83,6],[13,0,83,7]],[[12,0,85,6],[16,0,85,10],[22,0,85,16],[23,0,85,17],[39,0,85,33],[43,0,85,37],[50,0,85,44],[56,0,85,50],[57,0,85,51],[73,0,85,67],[78,0,85,72],[88,0,85,82],[90,0,85,84],[91,0,85,85]],[[16,0,86,8],[29,0,86,21],[32,0,86,24],[38,0,86,30],[44,0,86,36],[45,0,86,37],[61,0,86,53],[63,0,86,55],[64,0,86,56]],[[12,0,87,6],[13,0,87,7]],[[12,0,89,6],[19,0,89,13],[21,0,89,15],[27,0,89,21],[29,0,89,23],[39,0,89,33],[41,0,89,35],[54,0,89,48],[56,0,89,50],[57,0,89,51]],[[8,0,90,4],[9,0,90,5]],[[8,0,90,6],[15,0,90,13],[20,0,90,23],[22,0,90,25],[23,0,90,26]],[[12,0,91,6],[83,0,91,77]],[[12,0,92,6],[19,0,92,13],[20,0,92,14],[24,0,92,18],[25,0,92,19],[63,0,92,57],[73,0,92,67],[76,0,92,70],[86,0,92,80],[89,0,92,83],[91,0,92,85],[96,0,92,90],[97,0,92,91],[104,0,92,98],[105,0,92,99],[106,0,92,100]],[[12,0,94,6],[19,0,94,13]],[[16,0,95,8],[22,0,95,14],[24,0,95,16],[28,0,95,20],[29,0,95,21],[49,0,95,41],[50,0,95,42],[60,0,95,52],[62,0,95,54],[72,0,95,64],[73,0,95,65]],[[16,0,96,8],[26,0,96,18],[28,0,96,20],[56,0,96,48],[66,0,96,58],[69,0,96,61],[79,0,96,71],[85,0,96,77]],[[16,0,97,8],[29,0,97,21],[31,0,97,23],[33,0,97,25],[41,0,97,33],[43,0,97,35],[47,0,97,39],[49,0,97,41],[59,0,97,51],[61,0,97,53],[71,0,97,63],[73,0,97,65]],[[13,0,98,7],[14,0,98,8]],[[8,0,99,4],[9,0,99,5]],[[4,0,100,2],[5,0,100,3]],[[4,0,102,2]],[],[[7,0,104,5]],[[4,0,105,2],[9,0,105,7],[10,0,105,8],[26,0,105,24],[27,0,106,4],[38,0,106,23],[40,0,107,4],[55,0,107,37]],[[8,0,109,4],[14,0,109,10],[24,0,109,20],[27,0,109,23],[31,0,109,27],[32,0,109,28],[45,0,109,41],[46,0,109,42],[49,0,109,45],[50,0,109,46],[61,0,109,57],[62,0,109,58],[63,0,109,59]],[[8,0,111,4],[12,0,111,8],[22,0,111,18],[24,0,111,20],[33,0,111,29],[37,0,111,33],[47,0,111,43],[48,0,111,44],[54,0,111,50],[58,0,111,54],[62,0,111,58],[63,0,111,59],[74,0,111,70],[75,0,111,71],[78,0,111,74],[79,0,111,75],[90,0,111,86],[91,0,111,87],[93,0,111,89],[94,0,111,90]],[[12,0,112,6],[19,0,112,13],[23,0,112,17],[24,0,112,18],[35,0,112,29],[36,0,112,30],[39,0,112,33],[40,0,112,34],[51,0,112,45],[52,0,112,46],[53,0,112,47]],[[8,0,113,4],[9,0,113,5]],[[8,0,115,4],[12,0,115,8],[13,0,115,9]],[[12,0,116,6],[57,0,116,51]],[[12,0,117,6],[18,0,117,12],[24,0,117,18],[27,0,117,21],[31,0,117,25],[32,0,117,26],[42,0,117,36],[44,0,117,38],[51,0,117,45]],[[16,0,118,8],[17,0,118,9],[18,0,118,10],[22,0,118,14],[23,0,118,15],[33,0,118,25],[34,0,118,26],[41,0,118,33],[42,0,118,34],[53,0,118,45],[54,0,118,46]],[[16,0,119,8],[17,0,119,9],[18,0,119,10],[24,0,119,16],[30,0,119,22],[31,0,119,23],[42,0,119,34],[43,0,119,35],[44,0,119,36]],[[12,0,121,6],[16,0,121,10],[17,0,121,11],[28,0,121,22],[29,0,121,23],[32,0,121,26],[33,0,121,27],[44,0,121,38],[46,0,121,40],[52,0,121,46],[53,0,121,47],[54,0,121,48]],[[12,0,123,6],[16,0,123,10],[17,0,123,11],[30,0,123,24],[31,0,123,25],[34,0,123,28],[35,0,123,29],[46,0,123,40],[48,0,123,42]],[[16,0,124,8],[18,0,124,10],[20,0,124,12],[31,0,124,23]],[[16,0,125,8],[20,0,125,12],[22,0,125,14],[33,0,125,25]],[[16,0,126,8],[23,0,126,15],[25,0,126,17],[32,0,126,24],[34,0,126,26],[71,0,126,63]],[[16,0,127,8],[19,0,127,11],[21,0,127,13],[32,0,127,24]],[[16,0,128,8],[20,0,128,12],[22,0,128,14],[24,0,128,16]],[[16,0,129,8],[22,0,129,14],[24,0,129,16],[28,0,129,20]],[[16,0,130,8],[25,0,130,17],[27,0,130,19],[31,0,130,23]],[[13,0,131,7],[14,0,131,8],[15,0,131,9]],[[12,0,133,6],[19,0,133,13],[25,0,133,19],[26,0,133,20]],[[8,0,134,4],[9,0,134,5]],[[8,0,134,6],[15,0,134,13],[20,0,134,23],[22,0,134,25],[23,0,134,26]],[[12,0,135,6],[18,0,135,12],[22,0,135,16],[27,0,135,21],[28,0,135,22],[60,0,135,54],[71,0,135,65],[83,0,135,77],[88,0,135,82],[89,0,135,83],[96,0,135,90],[98,0,135,92],[99,0,135,93],[100,0,135,94]],[[8,0,136,4],[9,0,136,5]],[[4,0,137,2],[5,0,137,3]],[[4,0,139,2]],[],[[7,0,141,5]],[[4,0,142,2],[29,0,142,27]],[[8,0,146,4],[14,0,146,10],[27,0,146,23],[30,0,146,97],[32,0,146,99],[33,0,146,100]],[[8,0,148,4],[12,0,148,8],[13,0,148,9],[26,0,148,22],[27,0,148,23],[34,0,148,30],[35,0,148,31],[36,0,148,32],[46,0,148,42],[48,0,148,44],[50,0,148,46]],[[12,0,149,6],[25,0,149,19],[26,0,149,20],[30,0,149,24],[31,0,149,25]],[[16,0,150,8],[18,0,150,10],[20,0,150,12],[30,0,150,22],[31,0,150,23],[33,0,150,25]],[[16,0,151,8],[20,0,151,12],[22,0,151,14],[32,0,151,24],[33,0,151,25],[37,0,151,29]],[[16,0,152,8],[19,0,152,11],[21,0,152,13],[31,0,152,23],[32,0,152,24],[35,0,152,27]],[[16,0,153,8],[29,0,153,21],[31,0,153,24],[41,0,153,42],[42,0,153,43],[55,0,153,56]],[[13,0,154,7],[14,0,154,8],[15,0,154,9]],[[8,0,155,4],[9,0,155,5],[10,0,155,6],[11,0,155,7]],[[8,0,157,4],[15,0,157,11]],[[12,0,158,6],[25,0,158,19]],[[12,0,159,6],[21,0,159,15],[23,0,159,17],[27,0,159,21],[28,0,159,22],[45,0,159,39],[47,0,159,41]],[[9,0,160,5],[10,0,160,6]],[[4,0,161,2],[5,0,161,3]],[[4,0,163,10],[9,0,163,15],[10,0,163,16],[22,0,163,28],[23,0,163,29],[35,0,163,49]],[[8,0,164,4],[12,0,164,8],[13,0,164,9]],[[12,0,165,6],[18,0,165,12],[25,0,165,19],[28,0,165,22],[32,0,165,26],[33,0,165,27],[43,0,165,37],[45,0,165,39],[50,0,165,44],[54,0,165,48],[59,0,165,53],[60,0,165,54]],[[12,0,166,6],[18,0,166,12],[26,0,166,20],[29,0,166,23],[35,0,166,29],[42,0,166,36],[43,0,166,37],[55,0,166,49],[56,0,166,50],[57,0,166,51]],[[12,0,168,6],[16,0,168,10],[17,0,168,11],[25,0,168,19],[26,0,168,20],[28,0,168,22],[30,0,168,24],[31,0,168,25]],[[16,0,169,8],[22,0,169,14],[26,0,169,18],[31,0,169,23],[32,0,169,24],[40,0,169,32],[48,0,169,40],[49,0,169,41],[55,0,169,47],[60,0,169,52],[68,0,169,60],[69,0,169,61],[79,0,169,71],[81,0,169,73],[82,0,169,74],[83,0,169,75]],[[12,0,170,6],[13,0,170,7]],[[12,0,172,6],[19,0,172,13],[25,0,172,19],[33,0,172,27],[34,0,172,28],[38,0,172,32],[40,0,172,34],[41,0,172,35]],[[8,0,173,4],[9,0,173,5]],[[8,0,173,6],[15,0,173,13],[20,0,173,23],[22,0,173,25],[23,0,173,26]],[[12,0,174,6],[19,0,174,13],[20,0,174,14],[24,0,174,18],[25,0,174,19],[63,0,174,57],[75,0,174,69],[78,0,174,72],[80,0,174,74],[85,0,174,79],[86,0,174,80],[93,0,174,87],[94,0,174,88],[95,0,174,89]],[[12,0,175,6],[19,0,175,13],[21,0,175,15],[22,0,175,16]],[[8,0,176,4],[9,0,176,5]],[[4,0,177,2],[5,0,177,3]],[[4,0,179,10],[9,0,179,15],[10,0,179,16],[29,0,179,35],[30,0,179,36],[40,0,179,54],[42,0,179,56],[52,0,179,74]],[[8,0,180,4],[71,0,180,67]],[[8,0,181,4],[12,0,181,8],[16,0,181,12],[17,0,181,13],[25,0,181,21],[26,0,181,22],[36,0,181,32],[37,0,181,33],[39,0,181,35],[40,0,181,36]],[[12,0,182,6],[18,0,182,12],[27,0,182,21],[30,0,182,24],[34,0,182,28],[35,0,182,29],[43,0,182,37],[44,0,182,38],[54,0,182,48],[55,0,182,49],[56,0,182,50]],[[12,0,184,6],[46,0,184,40]],[[12,0,185,6],[16,0,185,10],[25,0,185,19],[26,0,185,20],[36,0,185,30],[37,0,185,31],[40,0,185,34],[41,0,185,35],[45,0,185,39],[54,0,185,48],[55,0,185,49],[65,0,185,59],[66,0,185,60],[70,0,185,64],[71,0,185,65],[73,0,185,67],[74,0,185,68]],[[16,0,186,8],[23,0,186,15],[26,0,186,18],[35,0,186,27],[38,0,186,30],[48,0,186,40],[50,0,186,42],[51,0,186,43]],[[12,0,187,6],[13,0,187,7]],[[12,0,189,6],[33,0,189,27]],[[12,0,190,6],[19,0,190,13],[22,0,190,16],[31,0,190,25],[34,0,190,28],[44,0,190,38],[46,0,190,40],[47,0,190,41]],[[8,0,191,4],[9,0,191,5]],[[8,0,193,4],[14,0,193,10],[18,0,193,14],[23,0,193,19],[24,0,193,20],[34,0,193,30],[44,0,193,40],[72,0,193,68],[73,0,193,69],[74,0,193,70]],[[4,0,194,2],[5,0,194,3]],[[4,0,196,10],[9,0,196,15],[10,0,196,16],[23,0,196,29],[24,0,196,30],[27,0,196,41]],[[8,0,197,4],[12,0,197,8],[13,0,197,9]],[[12,0,198,6],[81,0,198,75]],[[12,0,199,6],[16,0,199,10],[19,0,199,13],[20,0,199,14],[30,0,199,24],[31,0,199,25],[37,0,199,31],[38,0,199,32],[40,0,199,34],[41,0,199,35]],[[16,0,200,8],[62,0,200,54]],[[16,0,201,8],[22,0,201,14],[29,0,201,21],[32,0,201,24],[36,0,201,28],[37,0,201,29],[47,0,201,39],[49,0,201,41],[54,0,201,46],[58,0,201,50],[63,0,201,55],[64,0,201,56]],[[16,0,202,8],[22,0,202,14],[30,0,202,22],[33,0,202,25],[39,0,202,31],[46,0,202,38],[47,0,202,39],[50,0,202,42],[51,0,202,43],[52,0,202,44]],[[16,0,203,8],[22,0,203,14],[32,0,203,24],[35,0,203,27],[41,0,203,33],[49,0,203,41],[50,0,203,42],[54,0,203,46],[56,0,203,48],[57,0,203,49]],[[16,0,205,8],[72,0,205,64]],[[16,0,206,8],[61,0,206,53]],[[16,0,207,8],[23,0,207,15],[25,0,207,17],[32,0,207,24],[34,0,207,26],[38,0,207,30],[40,0,207,32],[51,0,207,43],[53,0,207,45],[57,0,207,49],[59,0,207,51],[60,0,207,52]],[[12,0,208,6],[13,0,208,7]],[[17,0,208,13],[18,0,208,14]],[[16,0,209,8],[31,0,209,23]],[[16,0,210,8],[23,0,210,15],[27,0,210,19],[28,0,210,20],[38,0,210,30],[40,0,210,32],[47,0,210,39]],[[20,0,211,10],[21,0,211,11],[22,0,211,12],[26,0,211,16],[27,0,211,17],[37,0,211,27],[38,0,211,28],[45,0,211,35],[46,0,211,36],[49,0,211,39],[50,0,211,40]],[[20,0,212,10],[21,0,212,11],[22,0,212,12],[28,0,212,18],[34,0,212,24],[35,0,212,25],[38,0,212,28],[39,0,212,29],[40,0,212,30]],[[12,0,213,6],[13,0,213,7]],[[8,0,214,4],[9,0,214,5]],[[8,0,214,6],[15,0,214,13],[20,0,214,23],[22,0,214,25],[23,0,214,26]],[[12,0,215,6],[18,0,215,12],[22,0,215,16],[27,0,215,21],[28,0,215,22],[57,0,215,51],[62,0,215,56],[63,0,215,57],[70,0,215,64],[72,0,215,66],[73,0,215,67],[74,0,215,68]],[[8,0,216,4],[9,0,216,5]],[[4,0,217,2],[5,0,217,3]],[[4,0,219,10],[24,0,219,30],[25,0,219,31],[35,0,219,49],[37,0,219,51],[47,0,219,69]],[[8,0,220,4],[15,0,220,11]],[[12,0,221,6],[19,0,221,13],[21,0,221,15],[25,0,221,19]],[[12,0,222,6],[22,0,222,16],[24,0,222,18],[28,0,222,22]],[[12,0,223,6],[24,0,223,18],[26,0,223,20],[36,0,223,30]],[[12,0,224,6],[24,0,224,18],[26,0,224,20],[36,0,224,30]],[[12,0,225,6],[26,0,225,20],[28,0,225,22],[31,0,225,25],[33,0,225,27],[34,0,225,28],[55,0,225,49],[65,0,225,59],[68,0,225,62],[78,0,225,72],[84,0,225,78]],[[12,0,226,6],[28,0,226,22],[30,0,226,24],[33,0,226,27],[35,0,226,29],[36,0,226,30],[37,0,226,31],[39,0,226,33],[47,0,226,41],[49,0,226,43],[53,0,226,47],[55,0,226,49],[56,0,226,50]],[[9,0,227,5],[10,0,227,6]],[[4,0,228,2],[5,0,228,3]],[[4,0,230,10],[21,0,230,27]],[[8,0,231,4],[14,0,231,10],[23,0,231,19],[26,0,231,46],[28,0,231,48],[29,0,231,49]],[[8,0,233,4],[12,0,233,8],[13,0,233,9],[26,0,233,22],[27,0,233,23],[34,0,233,30],[35,0,233,31],[36,0,233,32],[46,0,233,42],[48,0,233,44],[50,0,233,46]],[[12,0,234,6],[16,0,234,10],[26,0,234,20],[27,0,234,21],[31,0,234,25],[32,0,234,26],[42,0,234,36],[43,0,234,37],[46,0,234,40],[47,0,234,41],[51,0,234,45],[52,0,234,46],[62,0,234,56],[63,0,234,57],[67,0,234,61],[68,0,234,62],[76,0,234,70],[77,0,234,71],[80,0,234,74],[81,0,234,75],[83,0,234,77],[84,0,234,78]],[[16,0,235,8],[36,0,235,28]],[[16,0,236,8],[25,0,236,17],[26,0,236,18],[36,0,236,28],[37,0,236,29],[41,0,236,33],[42,0,236,34],[45,0,236,37],[55,0,236,47],[56,0,236,48],[59,0,236,51],[60,0,236,52]],[[12,0,237,6],[13,0,237,7]],[[8,0,238,4],[9,0,238,5],[10,0,238,6],[11,0,238,7]],[[8,0,240,4],[15,0,240,11],[24,0,240,20],[25,0,240,21]],[[4,0,241,2],[5,0,241,3]],[[4,0,243,2],[20,0,243,18]],[[8,0,244,4],[15,0,244,11],[19,0,244,15],[22,0,244,18],[23,0,244,19],[27,0,244,23],[28,0,244,24],[41,0,244,37],[42,0,244,38],[43,0,244,39]],[[4,0,245,2],[5,0,245,3]],[[4,0,247,2],[14,0,247,12]],[[8,0,248,4],[12,0,248,8],[13,0,248,9],[26,0,248,22],[27,0,248,23],[32,0,248,28],[34,0,248,30],[35,0,248,31]],[[8,0,249,4],[12,0,249,8],[13,0,249,9],[24,0,249,20],[25,0,249,21],[30,0,249,26],[32,0,249,28],[33,0,249,29]],[[4,0,250,2],[5,0,250,3]],[[104,0,11,13],[119,0,11,28]],[[108,0,11,13],[123,0,11,28],[137,0,9,14],[143,0,9,20]],[],[[92,0,11,13],[107,0,11,28]],[[18,0,8,1],[28,0,8,11]],[[19,0,8,12]],[[20,0,9,2],[30,0,9,12],[32,0,9,14],[38,0,9,20]],[[17,0,10,1]],[],[[26,0,24,5],[34,0,24,13]],[],[[0,0,253,0]],[],[[3,0,255,3]],[[0,0,256,0],[6,0,256,6],[13,0,256,13],[31,0,256,31]],[[4,0,257,2],[10,0,257,8],[11,0,257,9],[32,0,257,30],[33,0,258,4],[37,0,258,16],[39,0,259,4],[56,0,259,79]],[[8,0,261,4],[14,0,261,10],[20,0,261,16],[23,0,261,19]],[],[],[[36,0,264,36],[40,0,264,40],[41,0,264,41],[50,0,264,50],[51,0,264,51],[68,0,264,68],[69,0,264,69]],[],[],[],[],[],[],[],[],[],[[5,0,274,5],[6,0,274,6]],[[8,0,276,4],[41,0,276,37]],[[8,0,277,4],[15,0,277,11],[19,0,277,15],[20,0,277,16],[27,0,277,23],[28,0,277,24],[37,0,277,33],[39,0,277,35],[42,0,277,38],[48,0,277,44],[57,0,277,53],[58,0,277,54],[59,0,277,55]],[[4,0,278,2],[5,0,278,3]],[[4,0,280,2],[10,0,280,8],[11,0,280,9],[31,0,280,29],[32,0,281,4],[45,0,281,67]],[[8,0,283,4],[15,0,283,11],[28,0,283,24]],[[13,0,284,7],[16,0,284,10],[17,0,284,11],[20,0,284,14],[21,0,284,15],[23,0,284,17],[24,0,284,18],[59,0,284,53],[62,0,284,56],[63,0,284,57],[66,0,284,60],[70,0,284,64],[71,0,284,65]],[[13,0,285,7],[17,0,285,11],[18,0,285,12],[22,0,285,16],[23,0,285,17],[24,0,285,18]],[[4,0,286,2],[5,0,286,3]],[[1,0,287,1]]],"sourcesContent":["import { Injectable, Optional } from '@angular/core';\nimport { FederationManifest, ModuleInfo, VersionStrategy } from '../types/federation';\nimport { VersionManager } from './version-manager';\n\n/**\n * Server-side module loader for SSR environments\n * Handles module federation during server-side rendering\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class SSRModuleLoader {\n  private loadedModules = new Map<string, ModuleInfo>();\n  private manifest: FederationManifest = {};\n  private moduleCache = new Map<string, any>();\n  private manifestPath?: string;\n  private ssrContext?: {\n    manifestPath?: string;\n    fetch?: typeof fetch;\n    require?: any;\n  };\n  \n  constructor(\n    private versionManager: VersionManager,\n    @Optional() ssrContext?: {\n      manifestPath?: string;\n      fetch?: typeof fetch;\n      require?: any;\n    }\n  ) {\n    this.manifestPath = ssrContext?.manifestPath;\n    this.ssrContext = ssrContext;\n  }\n\n  async initialize(): Promise<void> {\n    if (this.manifestPath) {\n      this.manifest = await this.loadManifest(this.manifestPath);\n    }\n  }\n\n  /**\n   * Load remote module during SSR\n   * Returns pre-rendered content and hydration instructions\n   */\n  async loadRemoteModule<T = any>(\n    remoteName: string, \n    modulePath: string\n  ): Promise<{\n    module: T;\n    ssrContent?: string;\n    hydrationData?: any;\n  }> {\n    const moduleId = `${remoteName}${modulePath}`;\n    \n    // Check cache first\n    if (this.moduleCache.has(moduleId)) {\n      return { module: this.moduleCache.get(moduleId) };\n    }\n\n    try {\n      // In SSR, we need to resolve module path differently\n      const moduleUrl = await this.resolveSSRModuleUrl(remoteName, modulePath);\n      const module = await this.loadSSRModule(moduleUrl);\n      \n      // Cache the module\n      this.moduleCache.set(moduleId, module);\n      \n      this.loadedModules.set(moduleId, {\n        id: moduleId,\n        name: remoteName,\n        version: '1.0.0',\n        url: moduleUrl,\n        deps: [],\n        loaded: true,\n        singleton: false\n      });\n\n      // Extract SSR content if available\n      let ssrContent: string | undefined;\n      let hydrationData: any;\n\n      if (module.renderToString && typeof module.renderToString === 'function') {\n        ssrContent = await module.renderToString();\n      }\n\n      if (module.getHydrationData && typeof module.getHydrationData === 'function') {\n        hydrationData = await module.getHydrationData();\n      }\n\n      return { module, ssrContent, hydrationData };\n    } catch (error: any) {\n      // In SSR, we might want to return fallback content instead of throwing\n      console.warn(`[SSR] Failed to load remote module ${remoteName}${modulePath}:`, error.message);\n      \n      return {\n        module: this.createFallbackModule(remoteName, modulePath),\n        ssrContent: `<!-- SSR: Failed to load ${remoteName}${modulePath} -->`,\n        hydrationData: { fallback: true, remoteName, modulePath }\n      };\n    }\n  }\n\n  /**\n   * Load shared module during SSR\n   */\n  async loadSharedModule<T = any>(\n    packageName: string, \n    versionStrategy?: VersionStrategy\n  ): Promise<T> {\n    const moduleInfo = this.loadedModules.get(packageName);\n    \n    if (moduleInfo?.singleton && moduleInfo.loaded && this.moduleCache.has(packageName)) {\n      return this.moduleCache.get(packageName);\n    }\n\n    try {\n      // In Node.js environment, we can use require\n      const module = this.ssrContext?.require \n        ? this.ssrContext.require(packageName)\n        : await import(packageName);\n      \n      this.moduleCache.set(packageName, module);\n      \n      this.loadedModules.set(packageName, {\n        id: packageName,\n        name: packageName,\n        version: '1.0.0', // We'd need to resolve this properly\n        url: packageName,\n        deps: [],\n        loaded: true,\n        singleton: true\n      });\n\n      return module;\n    } catch (error: any) {\n      throw new Error(`Failed to load shared module ${packageName} in SSR: ${error.message}`);\n    }\n  }\n\n  /**\n   * Generate hydration manifest for client-side\n   */\n  generateHydrationManifest(): {\n    loadedModules: Array<{ id: string; name: string; url: string; hydrationData?: any }>;\n    importMap: Record<string, string>;\n  } {\n    const loadedModules: Array<{ id: string; name: string; url: string; hydrationData?: any }> = [];\n    \n    this.loadedModules.forEach((moduleInfo) => {\n      loadedModules.push({\n        id: moduleInfo.id,\n        name: moduleInfo.name,\n        url: moduleInfo.url,\n        hydrationData: (moduleInfo as any).hydrationData\n      });\n    });\n\n    return {\n      loadedModules,\n      importMap: this.generateImportMap()\n    };\n  }\n\n  private async loadManifest(manifestPath: string): Promise<FederationManifest> {\n    try {\n      const fetchFn = this.ssrContext?.fetch || fetch;\n      const response = await fetchFn(manifestPath);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      \n      return await response.json();\n    } catch (error: any) {\n      console.warn(`[SSR] Failed to load manifest from ${manifestPath}:`, error.message);\n      return {};\n    }\n  }\n\n  private async resolveSSRModuleUrl(remoteName: string, modulePath: string): Promise<string> {\n    // In SSR, we might need to resolve to local file paths or URLs\n    if (this.manifest[remoteName]) {\n      const remoteUrl = this.manifest[remoteName];\n      \n      // Handle local file paths for SSR\n      if (remoteUrl.startsWith('/') || remoteUrl.startsWith('./')) {\n        return `${remoteUrl}${modulePath}`;\n      }\n      \n      // Handle remote URLs\n      return `${remoteUrl}${modulePath}`;\n    }\n\n    throw new Error(`Remote ${remoteName} not found in SSR manifest`);\n  }\n\n  private async loadSSRModule(url: string): Promise<any> {\n    try {\n      // In Node.js environment, handle different module loading strategies\n      if (url.startsWith('http')) {\n        // Remote module - might need special handling\n        const fetchFn = this.ssrContext?.fetch || fetch;\n        const response = await fetchFn(url);\n        const moduleCode = await response.text();\n        \n        // In production SSR, you'd want to evaluate this safely\n        // For now, we'll simulate a module structure\n        return { default: null, __ssrModule: true };\n      } else {\n        // Local module\n        return this.ssrContext?.require \n          ? this.ssrContext.require(url)\n          : await import(url);\n      }\n    } catch (error: any) {\n      throw new Error(`SSR module import failed: ${error.message}`);\n    }\n  }\n\n  private createFallbackModule(remoteName: string, modulePath: string): any {\n    return {\n      default: null,\n      __fallback: true,\n      __remoteName: remoteName,\n      __modulePath: modulePath,\n      renderToString: () => `<!-- Fallback for ${remoteName}${modulePath} -->`,\n      getHydrationData: () => ({ fallback: true })\n    };\n  }\n\n  private generateImportMap(): Record<string, string> {\n    const importMap: Record<string, string> = {};\n    \n    this.loadedModules.forEach((moduleInfo) => {\n      if (moduleInfo.name.startsWith('@') || !moduleInfo.name.includes('/')) {\n        // Shared dependency\n        importMap[moduleInfo.name] = moduleInfo.url;\n      }\n    });\n\n    return importMap;\n  }\n\n  getLoadedModules(): Map<string, ModuleInfo> {\n    return new Map(this.loadedModules);\n  }\n\n  clearCache(): void {\n    this.loadedModules.clear();\n    this.moduleCache.clear();\n  }\n}\n\n/**\n * SSR utilities for framework integration\n */\nexport class SSRFederationUtils {\n  static injectHydrationScript(\n    html: string, \n    hydrationManifest: ReturnType<SSRModuleLoader['generateHydrationManifest']>\n  ): string {\n    const script = `\n      <script type=\"module\">\n        // Hydration data for Native Federation\n        window.__NF_HYDRATION__ = ${JSON.stringify(hydrationManifest)};\n        \n        // Pre-populate module cache\n        if (window.__NF_HYDRATION__.loadedModules) {\n          window.__NF_LOADED_MODULES__ = new Map();\n          window.__NF_HYDRATION__.loadedModules.forEach(mod => {\n            window.__NF_LOADED_MODULES__.set(mod.id, mod);\n          });\n        }\n      </script>\n    `;\n\n    // Inject before closing head tag\n    return html.replace('</head>', `${script}</head>`);\n  }\n\n  static generatePreloadLinks(\n    loadedModules: Array<{ id: string; name: string; url: string }>\n  ): string {\n    return loadedModules\n      .map(mod => `<link rel=\"modulepreload\" href=\"${mod.url}\">`)\n      .join('\\n');\n  }\n}"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"./version-manager":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/version-manager.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":26358,"body":[{"type":"ImportDeclaration","start":0,"end":43,"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Injectable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Injectable"}}],"source":{"type":"Literal","start":27,"end":42,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":44,"end":91,"specifiers":[{"type":"ImportSpecifier","start":53,"end":65,"imported":{"type":"Identifier","start":53,"end":65,"name":"ModuleLoader"},"local":{"type":"Identifier","start":53,"end":65,"name":"ModuleLoader"}}],"source":{"type":"Literal","start":73,"end":90,"value":"./module-loader","raw":"'./module-loader'"},"attributes":[]},{"type":"ImportDeclaration","start":92,"end":143,"specifiers":[{"type":"ImportSpecifier","start":101,"end":115,"imported":{"type":"Identifier","start":101,"end":115,"name":"VersionManager"},"local":{"type":"Identifier","start":101,"end":115,"name":"VersionManager"}}],"source":{"type":"Literal","start":123,"end":142,"value":"./version-manager","raw":"'./version-manager'"},"attributes":[]},{"type":"ImportDeclaration","start":144,"end":180,"specifiers":[{"type":"ImportNamespaceSpecifier","start":151,"end":158,"local":{"type":"Identifier","start":156,"end":158,"name":"i0"}}],"source":{"type":"Literal","start":164,"end":179,"value":"@angular/core","raw":"\"@angular/core\""},"attributes":[]},{"type":"ImportDeclaration","start":181,"end":221,"specifiers":[{"type":"ImportNamespaceSpecifier","start":188,"end":195,"local":{"type":"Identifier","start":193,"end":195,"name":"i1"}}],"source":{"type":"Literal","start":201,"end":220,"value":"./version-manager","raw":"\"./version-manager\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":328,"end":4858,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":335,"end":4858,"decorators":[],"id":{"type":"Identifier","start":341,"end":356,"name":"HydrationClient"},"superClass":{"type":"Identifier","start":365,"end":377,"name":"ModuleLoader"},"body":{"type":"ClassBody","start":378,"end":4858,"body":[{"type":"PropertyDefinition","start":384,"end":398,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":384,"end":397,"name":"hydrationData"},"value":null},{"type":"PropertyDefinition","start":403,"end":430,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":403,"end":417,"name":"ssrModuleCache"},"value":{"type":"NewExpression","start":420,"end":429,"callee":{"type":"Identifier","start":424,"end":427,"name":"Map"},"arguments":[]}},{"type":"MethodDefinition","start":435,"end":501,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":435,"end":446,"name":"constructor"},"value":{"type":"FunctionExpression","start":446,"end":501,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":447,"end":461,"name":"versionManager"}],"body":{"type":"BlockStatement","start":463,"end":501,"body":[{"type":"ExpressionStatement","start":473,"end":495,"expression":{"type":"CallExpression","start":473,"end":494,"optional":false,"callee":{"type":"Super","start":473,"end":478},"arguments":[{"type":"Identifier","start":479,"end":493,"name":"versionManager"}]}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":506,"end":799,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":512,"end":535,"name":"initializeWithHydration"},"value":{"type":"FunctionExpression","start":535,"end":799,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":536,"end":548,"name":"manifestPath"}],"body":{"type":"BlockStatement","start":550,"end":799,"body":[{"type":"ExpressionStatement","start":603,"end":631,"expression":{"type":"CallExpression","start":603,"end":630,"optional":false,"callee":{"type":"MemberExpression","start":603,"end":628,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":603,"end":607},"property":{"type":"Identifier","start":608,"end":628,"name":"extractHydrationData"}},"arguments":[]}},{"type":"ExpressionStatement","start":681,"end":717,"expression":{"type":"AwaitExpression","start":681,"end":716,"argument":{"type":"CallExpression","start":687,"end":716,"optional":false,"callee":{"type":"MemberExpression","start":687,"end":702,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":687,"end":691},"property":{"type":"Identifier","start":692,"end":702,"name":"initialize"}},"arguments":[{"type":"Identifier","start":703,"end":715,"name":"manifestPath"}]}}},{"type":"ExpressionStatement","start":762,"end":793,"expression":{"type":"AwaitExpression","start":762,"end":792,"argument":{"type":"CallExpression","start":768,"end":792,"optional":false,"callee":{"type":"MemberExpression","start":768,"end":790,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":768,"end":772},"property":{"type":"Identifier","start":773,"end":790,"name":"restoreSSRModules"}},"arguments":[]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":934,"end":1762,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":940,"end":956,"name":"loadRemoteModule"},"value":{"type":"FunctionExpression","start":956,"end":1762,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":957,"end":967,"name":"remoteName"},{"type":"Identifier","start":969,"end":979,"name":"modulePath"}],"body":{"type":"BlockStatement","start":981,"end":1762,"body":[{"type":"VariableDeclaration","start":991,"end":1037,"kind":"const","declarations":[{"type":"VariableDeclarator","start":997,"end":1036,"id":{"type":"Identifier","start":997,"end":1005,"name":"moduleId"},"init":{"type":"TemplateLiteral","start":1008,"end":1036,"quasis":[{"type":"TemplateElement","start":1009,"end":1009,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":1022,"end":1022,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":1035,"end":1035,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":1011,"end":1021,"name":"remoteName"},{"type":"Identifier","start":1024,"end":1034,"name":"modulePath"}]}}]},{"type":"IfStatement","start":1095,"end":1654,"test":{"type":"CallExpression","start":1099,"end":1132,"optional":false,"callee":{"type":"MemberExpression","start":1099,"end":1122,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1099,"end":1118,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1099,"end":1103},"property":{"type":"Identifier","start":1104,"end":1118,"name":"ssrModuleCache"}},"property":{"type":"Identifier","start":1119,"end":1122,"name":"has"}},"arguments":[{"type":"Identifier","start":1123,"end":1131,"name":"moduleId"}]},"consequent":{"type":"BlockStatement","start":1134,"end":1654,"body":[{"type":"VariableDeclaration","start":1148,"end":1197,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1154,"end":1196,"id":{"type":"Identifier","start":1154,"end":1160,"name":"cached"},"init":{"type":"CallExpression","start":1163,"end":1196,"optional":false,"callee":{"type":"MemberExpression","start":1163,"end":1186,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1163,"end":1182,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1163,"end":1167},"property":{"type":"Identifier","start":1168,"end":1182,"name":"ssrModuleCache"}},"property":{"type":"Identifier","start":1183,"end":1186,"name":"get"}},"arguments":[{"type":"Identifier","start":1187,"end":1195,"name":"moduleId"}]}}]},{"type":"IfStatement","start":1273,"end":1617,"test":{"type":"MemberExpression","start":1277,"end":1294,"computed":false,"optional":false,"object":{"type":"Identifier","start":1277,"end":1283,"name":"cached"},"property":{"type":"Identifier","start":1284,"end":1294,"name":"__fallback"}},"consequent":{"type":"BlockStatement","start":1296,"end":1617,"body":[{"type":"TryStatement","start":1314,"end":1603,"block":{"type":"BlockStatement","start":1318,"end":1418,"body":[{"type":"ReturnStatement","start":1340,"end":1400,"argument":{"type":"AwaitExpression","start":1347,"end":1399,"argument":{"type":"CallExpression","start":1353,"end":1399,"optional":false,"callee":{"type":"MemberExpression","start":1353,"end":1375,"computed":false,"optional":false,"object":{"type":"Super","start":1353,"end":1358},"property":{"type":"Identifier","start":1359,"end":1375,"name":"loadRemoteModule"}},"arguments":[{"type":"Identifier","start":1376,"end":1386,"name":"remoteName"},{"type":"Identifier","start":1388,"end":1398,"name":"modulePath"}]}}}]},"handler":{"type":"CatchClause","start":1435,"end":1603,"param":{"type":"Identifier","start":1442,"end":1447,"name":"error"},"body":{"type":"BlockStatement","start":1449,"end":1603,"body":[{"type":"ExpressionStatement","start":1471,"end":1550,"expression":{"type":"CallExpression","start":1471,"end":1549,"optional":false,"callee":{"type":"MemberExpression","start":1471,"end":1483,"computed":false,"optional":false,"object":{"type":"Identifier","start":1471,"end":1478,"name":"console"},"property":{"type":"Identifier","start":1479,"end":1483,"name":"warn"}},"arguments":[{"type":"TemplateLiteral","start":1484,"end":1541,"quasis":[{"type":"TemplateElement","start":1485,"end":1540,"tail":true,"value":{"cooked":"[Hydration] Failed to load real module, using fallback:","raw":"[Hydration] Failed to load real module, using fallback:"}}],"expressions":[]},{"type":"Identifier","start":1543,"end":1548,"name":"error"}]}},{"type":"ReturnStatement","start":1571,"end":1585,"argument":{"type":"Identifier","start":1578,"end":1584,"name":"cached"}}]}},"finalizer":null}]},"alternate":null},{"type":"ReturnStatement","start":1630,"end":1644,"argument":{"type":"Identifier","start":1637,"end":1643,"name":"cached"}}]},"alternate":null},{"type":"ReturnStatement","start":1702,"end":1756,"argument":{"type":"CallExpression","start":1709,"end":1755,"optional":false,"callee":{"type":"MemberExpression","start":1709,"end":1731,"computed":false,"optional":false,"object":{"type":"Super","start":1709,"end":1714},"property":{"type":"Identifier","start":1715,"end":1731,"name":"loadRemoteModule"}},"arguments":[{"type":"Identifier","start":1732,"end":1742,"name":"remoteName"},{"type":"Identifier","start":1744,"end":1754,"name":"modulePath"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1826,"end":1980,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1826,"end":1843,"name":"wasServerRendered"},"value":{"type":"FunctionExpression","start":1843,"end":1980,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1844,"end":1854,"name":"remoteName"},{"type":"Identifier","start":1856,"end":1866,"name":"modulePath"}],"body":{"type":"BlockStatement","start":1868,"end":1980,"body":[{"type":"VariableDeclaration","start":1878,"end":1924,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1884,"end":1923,"id":{"type":"Identifier","start":1884,"end":1892,"name":"moduleId"},"init":{"type":"TemplateLiteral","start":1895,"end":1923,"quasis":[{"type":"TemplateElement","start":1896,"end":1896,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":1909,"end":1909,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":1922,"end":1922,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":1898,"end":1908,"name":"remoteName"},{"type":"Identifier","start":1911,"end":1921,"name":"modulePath"}]}}]},{"type":"ReturnStatement","start":1933,"end":1974,"argument":{"type":"CallExpression","start":1940,"end":1973,"optional":false,"callee":{"type":"MemberExpression","start":1940,"end":1963,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1940,"end":1959,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1940,"end":1944},"property":{"type":"Identifier","start":1945,"end":1959,"name":"ssrModuleCache"}},"property":{"type":"Identifier","start":1960,"end":1963,"name":"has"}},"arguments":[{"type":"Identifier","start":1964,"end":1972,"name":"moduleId"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2049,"end":2254,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2049,"end":2071,"name":"getModuleHydrationData"},"value":{"type":"FunctionExpression","start":2071,"end":2254,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2072,"end":2082,"name":"remoteName"},{"type":"Identifier","start":2084,"end":2094,"name":"modulePath"}],"body":{"type":"BlockStatement","start":2096,"end":2254,"body":[{"type":"VariableDeclaration","start":2106,"end":2152,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2112,"end":2151,"id":{"type":"Identifier","start":2112,"end":2120,"name":"moduleId"},"init":{"type":"TemplateLiteral","start":2123,"end":2151,"quasis":[{"type":"TemplateElement","start":2124,"end":2124,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":2137,"end":2137,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":2150,"end":2150,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":2126,"end":2136,"name":"remoteName"},{"type":"Identifier","start":2139,"end":2149,"name":"modulePath"}]}}]},{"type":"VariableDeclaration","start":2161,"end":2210,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2167,"end":2209,"id":{"type":"Identifier","start":2167,"end":2173,"name":"cached"},"init":{"type":"CallExpression","start":2176,"end":2209,"optional":false,"callee":{"type":"MemberExpression","start":2176,"end":2199,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2176,"end":2195,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2176,"end":2180},"property":{"type":"Identifier","start":2181,"end":2195,"name":"ssrModuleCache"}},"property":{"type":"Identifier","start":2196,"end":2199,"name":"get"}},"arguments":[{"type":"Identifier","start":2200,"end":2208,"name":"moduleId"}]}}]},{"type":"ReturnStatement","start":2219,"end":2248,"argument":{"type":"ChainExpression","start":2226,"end":2247,"expression":{"type":"MemberExpression","start":2226,"end":2247,"computed":false,"optional":true,"object":{"type":"Identifier","start":2226,"end":2232,"name":"cached"},"property":{"type":"Identifier","start":2234,"end":2247,"name":"hydrationData"}}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2259,"end":2990,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2259,"end":2279,"name":"extractHydrationData"},"value":{"type":"FunctionExpression","start":2279,"end":2990,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":2282,"end":2990,"body":[{"type":"VariableDeclaration","start":2342,"end":2388,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2348,"end":2387,"id":{"type":"Identifier","start":2348,"end":2361,"name":"hydrationData"},"init":{"type":"MemberExpression","start":2364,"end":2387,"computed":false,"optional":false,"object":{"type":"Identifier","start":2364,"end":2370,"name":"window"},"property":{"type":"Identifier","start":2371,"end":2387,"name":"__NF_HYDRATION__"}}}]},{"type":"VariableDeclaration","start":2397,"end":2448,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2403,"end":2447,"id":{"type":"Identifier","start":2403,"end":2416,"name":"loadedModules"},"init":{"type":"MemberExpression","start":2419,"end":2447,"computed":false,"optional":false,"object":{"type":"Identifier","start":2419,"end":2425,"name":"window"},"property":{"type":"Identifier","start":2426,"end":2447,"name":"__NF_LOADED_MODULES__"}}}]},{"type":"IfStatement","start":2457,"end":2724,"test":{"type":"Identifier","start":2461,"end":2474,"name":"hydrationData"},"consequent":{"type":"BlockStatement","start":2476,"end":2724,"body":[{"type":"ExpressionStatement","start":2490,"end":2525,"expression":{"type":"AssignmentExpression","start":2490,"end":2524,"operator":"=","left":{"type":"MemberExpression","start":2490,"end":2508,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2490,"end":2494},"property":{"type":"Identifier","start":2495,"end":2508,"name":"hydrationData"}},"right":{"type":"Identifier","start":2511,"end":2524,"name":"hydrationData"}}},{"type":"IfStatement","start":2585,"end":2714,"test":{"type":"MemberExpression","start":2589,"end":2612,"computed":false,"optional":false,"object":{"type":"Identifier","start":2589,"end":2602,"name":"hydrationData"},"property":{"type":"Identifier","start":2603,"end":2612,"name":"importMap"}},"consequent":{"type":"BlockStatement","start":2614,"end":2714,"body":[{"type":"ExpressionStatement","start":2632,"end":2700,"expression":{"type":"CallExpression","start":2632,"end":2699,"optional":false,"callee":{"type":"MemberExpression","start":2632,"end":2661,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2632,"end":2636},"property":{"type":"Identifier","start":2637,"end":2661,"name":"injectHydrationImportMap"}},"arguments":[{"type":"ObjectExpression","start":2662,"end":2698,"properties":[{"type":"Property","start":2664,"end":2696,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2664,"end":2671,"name":"imports"},"value":{"type":"MemberExpression","start":2673,"end":2696,"computed":false,"optional":false,"object":{"type":"Identifier","start":2673,"end":2686,"name":"hydrationData"},"property":{"type":"Identifier","start":2687,"end":2696,"name":"importMap"}},"kind":"init"}]}]}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","start":2733,"end":2984,"test":{"type":"Identifier","start":2737,"end":2750,"name":"loadedModules"},"consequent":{"type":"BlockStatement","start":2752,"end":2984,"body":[{"type":"ExpressionStatement","start":2766,"end":2974,"expression":{"type":"CallExpression","start":2766,"end":2973,"optional":false,"callee":{"type":"MemberExpression","start":2766,"end":2787,"computed":false,"optional":false,"object":{"type":"Identifier","start":2766,"end":2779,"name":"loadedModules"},"property":{"type":"Identifier","start":2780,"end":2787,"name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","start":2788,"end":2972,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":2789,"end":2799,"name":"moduleInfo"},{"type":"Identifier","start":2801,"end":2809,"name":"moduleId"}],"body":{"type":"BlockStatement","start":2814,"end":2972,"body":[{"type":"ExpressionStatement","start":2832,"end":2958,"expression":{"type":"CallExpression","start":2832,"end":2957,"optional":false,"callee":{"type":"MemberExpression","start":2832,"end":2855,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2832,"end":2851,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2832,"end":2836},"property":{"type":"Identifier","start":2837,"end":2851,"name":"ssrModuleCache"}},"property":{"type":"Identifier","start":2852,"end":2855,"name":"set"}},"arguments":[{"type":"Identifier","start":2856,"end":2864,"name":"moduleId"},{"type":"ObjectExpression","start":2866,"end":2956,"properties":[{"type":"SpreadElement","start":2888,"end":2901,"argument":{"type":"Identifier","start":2891,"end":2901,"name":"moduleInfo"}},{"type":"Property","start":2923,"end":2938,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2923,"end":2932,"name":"__fromSSR"},"value":{"type":"Literal","start":2934,"end":2938,"value":true,"raw":"true"},"kind":"init"}]}]}}]},"id":null}]}}]},"alternate":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2995,"end":3708,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3001,"end":3018,"name":"restoreSSRModules"},"value":{"type":"FunctionExpression","start":3018,"end":3708,"async":true,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":3021,"end":3708,"body":[{"type":"IfStatement","start":3031,"end":3102,"test":{"type":"UnaryExpression","start":3035,"end":3069,"operator":"!","argument":{"type":"ChainExpression","start":3036,"end":3069,"expression":{"type":"MemberExpression","start":3036,"end":3069,"computed":false,"optional":true,"object":{"type":"MemberExpression","start":3036,"end":3054,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3036,"end":3040},"property":{"type":"Identifier","start":3041,"end":3054,"name":"hydrationData"}},"property":{"type":"Identifier","start":3056,"end":3069,"name":"loadedModules"}}},"prefix":true},"consequent":{"type":"BlockStatement","start":3071,"end":3102,"body":[{"type":"ReturnStatement","start":3085,"end":3092,"argument":null}]},"alternate":null},{"type":"ForOfStatement","start":3169,"end":3702,"await":false,"left":{"type":"VariableDeclaration","start":3174,"end":3190,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3180,"end":3190,"id":{"type":"Identifier","start":3180,"end":3190,"name":"moduleInfo"},"init":null}]},"right":{"type":"MemberExpression","start":3194,"end":3226,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3194,"end":3212,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3194,"end":3198},"property":{"type":"Identifier","start":3199,"end":3212,"name":"hydrationData"}},"property":{"type":"Identifier","start":3213,"end":3226,"name":"loadedModules"}},"body":{"type":"BlockStatement","start":3228,"end":3702,"body":[{"type":"TryStatement","start":3242,"end":3692,"block":{"type":"BlockStatement","start":3246,"end":3555,"body":[{"type":"IfStatement","start":3348,"end":3541,"test":{"type":"UnaryExpression","start":3352,"end":3387,"operator":"!","argument":{"type":"ChainExpression","start":3353,"end":3387,"expression":{"type":"MemberExpression","start":3353,"end":3387,"computed":false,"optional":true,"object":{"type":"MemberExpression","start":3353,"end":3377,"computed":false,"optional":false,"object":{"type":"Identifier","start":3353,"end":3363,"name":"moduleInfo"},"property":{"type":"Identifier","start":3364,"end":3377,"name":"hydrationData"}},"property":{"type":"Identifier","start":3379,"end":3387,"name":"fallback"}}},"prefix":true},"consequent":{"type":"BlockStatement","start":3389,"end":3541,"body":[{"type":"VariableDeclaration","start":3411,"end":3455,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3417,"end":3454,"id":{"type":"Identifier","start":3417,"end":3423,"name":"module"},"init":{"type":"AwaitExpression","start":3426,"end":3454,"argument":{"type":"ImportExpression","start":3432,"end":3454,"source":{"type":"MemberExpression","start":3439,"end":3453,"computed":false,"optional":false,"object":{"type":"Identifier","start":3439,"end":3449,"name":"moduleInfo"},"property":{"type":"Identifier","start":3450,"end":3453,"name":"url"}},"options":null}}}]},{"type":"ExpressionStatement","start":3476,"end":3523,"expression":{"type":"CallExpression","start":3476,"end":3522,"optional":false,"callee":{"type":"MemberExpression","start":3476,"end":3499,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3476,"end":3495,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3476,"end":3480},"property":{"type":"Identifier","start":3481,"end":3495,"name":"ssrModuleCache"}},"property":{"type":"Identifier","start":3496,"end":3499,"name":"set"}},"arguments":[{"type":"MemberExpression","start":3500,"end":3513,"computed":false,"optional":false,"object":{"type":"Identifier","start":3500,"end":3510,"name":"moduleInfo"},"property":{"type":"Identifier","start":3511,"end":3513,"name":"id"}},{"type":"Identifier","start":3515,"end":3521,"name":"module"}]}}]},"alternate":null}]},"handler":{"type":"CatchClause","start":3568,"end":3692,"param":{"type":"Identifier","start":3575,"end":3580,"name":"error"},"body":{"type":"BlockStatement","start":3582,"end":3692,"body":[{"type":"ExpressionStatement","start":3600,"end":3678,"expression":{"type":"CallExpression","start":3600,"end":3677,"optional":false,"callee":{"type":"MemberExpression","start":3600,"end":3612,"computed":false,"optional":false,"object":{"type":"Identifier","start":3600,"end":3607,"name":"console"},"property":{"type":"Identifier","start":3608,"end":3612,"name":"warn"}},"arguments":[{"type":"TemplateLiteral","start":3613,"end":3669,"quasis":[{"type":"TemplateElement","start":3614,"end":3651,"tail":false,"value":{"cooked":"[Hydration] Could not restore module ","raw":"[Hydration] Could not restore module "}},{"type":"TemplateElement","start":3667,"end":3668,"tail":true,"value":{"cooked":":","raw":":"}}],"expressions":[{"type":"MemberExpression","start":3653,"end":3666,"computed":false,"optional":false,"object":{"type":"Identifier","start":3653,"end":3663,"name":"moduleInfo"},"property":{"type":"Identifier","start":3664,"end":3666,"name":"id"}}]},{"type":"Identifier","start":3671,"end":3676,"name":"error"}]}}]}},"finalizer":null}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3713,"end":4507,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3713,"end":3737,"name":"injectHydrationImportMap"},"value":{"type":"FunctionExpression","start":3737,"end":4507,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3738,"end":3747,"name":"importMap"}],"body":{"type":"BlockStatement","start":3749,"end":4507,"body":[{"type":"VariableDeclaration","start":3759,"end":3833,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3765,"end":3832,"id":{"type":"Identifier","start":3765,"end":3779,"name":"existingScript"},"init":{"type":"CallExpression","start":3782,"end":3832,"optional":false,"callee":{"type":"MemberExpression","start":3782,"end":3804,"computed":false,"optional":false,"object":{"type":"Identifier","start":3782,"end":3790,"name":"document"},"property":{"type":"Identifier","start":3791,"end":3804,"name":"querySelector"}},"arguments":[{"type":"Literal","start":3805,"end":3831,"value":"script[type=\"importmap\"]","raw":"'script[type=\"importmap\"]'"}]}}]},{"type":"IfStatement","start":3842,"end":4501,"test":{"type":"Identifier","start":3846,"end":3860,"name":"existingScript"},"consequent":{"type":"BlockStatement","start":3862,"end":4232,"body":[{"type":"VariableDeclaration","start":3922,"end":3986,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3928,"end":3985,"id":{"type":"Identifier","start":3928,"end":3936,"name":"existing"},"init":{"type":"CallExpression","start":3939,"end":3985,"optional":false,"callee":{"type":"MemberExpression","start":3939,"end":3949,"computed":false,"optional":false,"object":{"type":"Identifier","start":3939,"end":3943,"name":"JSON"},"property":{"type":"Identifier","start":3944,"end":3949,"name":"parse"}},"arguments":[{"type":"LogicalExpression","start":3950,"end":3984,"operator":"||","left":{"type":"MemberExpression","start":3950,"end":3976,"computed":false,"optional":false,"object":{"type":"Identifier","start":3950,"end":3964,"name":"existingScript"},"property":{"type":"Identifier","start":3965,"end":3976,"name":"textContent"}},"right":{"type":"Literal","start":3980,"end":3984,"value":"{}","raw":"'{}'"}}]}}]},{"type":"VariableDeclaration","start":3999,"end":4157,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4005,"end":4156,"id":{"type":"Identifier","start":4005,"end":4011,"name":"merged"},"init":{"type":"ObjectExpression","start":4014,"end":4156,"properties":[{"type":"Property","start":4032,"end":4142,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4032,"end":4039,"name":"imports"},"value":{"type":"ObjectExpression","start":4041,"end":4142,"properties":[{"type":"SpreadElement","start":4063,"end":4082,"argument":{"type":"MemberExpression","start":4066,"end":4082,"computed":false,"optional":false,"object":{"type":"Identifier","start":4066,"end":4074,"name":"existing"},"property":{"type":"Identifier","start":4075,"end":4082,"name":"imports"}}},{"type":"SpreadElement","start":4104,"end":4124,"argument":{"type":"MemberExpression","start":4107,"end":4124,"computed":false,"optional":false,"object":{"type":"Identifier","start":4107,"end":4116,"name":"importMap"},"property":{"type":"Identifier","start":4117,"end":4124,"name":"imports"}}}]},"kind":"init"}]}}]},{"type":"ExpressionStatement","start":4170,"end":4222,"expression":{"type":"AssignmentExpression","start":4170,"end":4221,"operator":"=","left":{"type":"MemberExpression","start":4170,"end":4196,"computed":false,"optional":false,"object":{"type":"Identifier","start":4170,"end":4184,"name":"existingScript"},"property":{"type":"Identifier","start":4185,"end":4196,"name":"textContent"}},"right":{"type":"CallExpression","start":4199,"end":4221,"optional":false,"callee":{"type":"MemberExpression","start":4199,"end":4213,"computed":false,"optional":false,"object":{"type":"Identifier","start":4199,"end":4203,"name":"JSON"},"property":{"type":"Identifier","start":4204,"end":4213,"name":"stringify"}},"arguments":[{"type":"Identifier","start":4214,"end":4220,"name":"merged"}]}}}]},"alternate":{"type":"BlockStatement","start":4246,"end":4501,"body":[{"type":"VariableDeclaration","start":4297,"end":4345,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4303,"end":4344,"id":{"type":"Identifier","start":4303,"end":4309,"name":"script"},"init":{"type":"CallExpression","start":4312,"end":4344,"optional":false,"callee":{"type":"MemberExpression","start":4312,"end":4334,"computed":false,"optional":false,"object":{"type":"Identifier","start":4312,"end":4320,"name":"document"},"property":{"type":"Identifier","start":4321,"end":4334,"name":"createElement"}},"arguments":[{"type":"Literal","start":4335,"end":4343,"value":"script","raw":"'script'"}]}}]},{"type":"ExpressionStatement","start":4358,"end":4384,"expression":{"type":"AssignmentExpression","start":4358,"end":4383,"operator":"=","left":{"type":"MemberExpression","start":4358,"end":4369,"computed":false,"optional":false,"object":{"type":"Identifier","start":4358,"end":4364,"name":"script"},"property":{"type":"Identifier","start":4365,"end":4369,"name":"type"}},"right":{"type":"Literal","start":4372,"end":4383,"value":"importmap","raw":"'importmap'"}}},{"type":"ExpressionStatement","start":4397,"end":4444,"expression":{"type":"AssignmentExpression","start":4397,"end":4443,"operator":"=","left":{"type":"MemberExpression","start":4397,"end":4415,"computed":false,"optional":false,"object":{"type":"Identifier","start":4397,"end":4403,"name":"script"},"property":{"type":"Identifier","start":4404,"end":4415,"name":"textContent"}},"right":{"type":"CallExpression","start":4418,"end":4443,"optional":false,"callee":{"type":"MemberExpression","start":4418,"end":4432,"computed":false,"optional":false,"object":{"type":"Identifier","start":4418,"end":4422,"name":"JSON"},"property":{"type":"Identifier","start":4423,"end":4432,"name":"stringify"}},"arguments":[{"type":"Identifier","start":4433,"end":4442,"name":"importMap"}]}}},{"type":"ExpressionStatement","start":4457,"end":4491,"expression":{"type":"CallExpression","start":4457,"end":4490,"optional":false,"callee":{"type":"MemberExpression","start":4457,"end":4482,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4457,"end":4470,"computed":false,"optional":false,"object":{"type":"Identifier","start":4457,"end":4465,"name":"document"},"property":{"type":"Identifier","start":4466,"end":4470,"name":"head"}},"property":{"type":"Identifier","start":4471,"end":4482,"name":"appendChild"}},"arguments":[{"type":"Identifier","start":4483,"end":4489,"name":"script"}]}}]}}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":4512,"end":4708,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4519,"end":4523,"name":"ɵfac"},"value":{"type":"CallExpression","start":4526,"end":4707,"optional":false,"callee":{"type":"MemberExpression","start":4526,"end":4547,"computed":false,"optional":false,"object":{"type":"Identifier","start":4526,"end":4528,"name":"i0"},"property":{"type":"Identifier","start":4529,"end":4547,"name":"ɵɵngDeclareFactory"}},"arguments":[{"type":"ObjectExpression","start":4548,"end":4706,"properties":[{"type":"Property","start":4550,"end":4570,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4550,"end":4560,"name":"minVersion"},"value":{"type":"Literal","start":4562,"end":4570,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":4572,"end":4590,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4572,"end":4579,"name":"version"},"value":{"type":"Literal","start":4581,"end":4590,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":4592,"end":4604,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4592,"end":4600,"name":"ngImport"},"value":{"type":"Identifier","start":4602,"end":4604,"name":"i0"},"kind":"init"},{"type":"Property","start":4606,"end":4627,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4606,"end":4610,"name":"type"},"value":{"type":"Identifier","start":4612,"end":4627,"name":"HydrationClient"},"kind":"init"},{"type":"Property","start":4629,"end":4665,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4629,"end":4633,"name":"deps"},"value":{"type":"ArrayExpression","start":4635,"end":4665,"elements":[{"type":"ObjectExpression","start":4636,"end":4664,"properties":[{"type":"Property","start":4638,"end":4662,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4638,"end":4643,"name":"token"},"value":{"type":"MemberExpression","start":4645,"end":4662,"computed":false,"optional":false,"object":{"type":"Identifier","start":4645,"end":4647,"name":"i1"},"property":{"type":"Identifier","start":4648,"end":4662,"name":"VersionManager"}},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":4667,"end":4704,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4667,"end":4673,"name":"target"},"value":{"type":"MemberExpression","start":4675,"end":4704,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4675,"end":4693,"computed":false,"optional":false,"object":{"type":"Identifier","start":4675,"end":4677,"name":"i0"},"property":{"type":"Identifier","start":4678,"end":4693,"name":"ɵɵFactoryTarget"}},"property":{"type":"Identifier","start":4694,"end":4704,"name":"Injectable"}},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":4713,"end":4856,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4720,"end":4725,"name":"ɵprov"},"value":{"type":"CallExpression","start":4728,"end":4855,"optional":false,"callee":{"type":"MemberExpression","start":4728,"end":4752,"computed":false,"optional":false,"object":{"type":"Identifier","start":4728,"end":4730,"name":"i0"},"property":{"type":"Identifier","start":4731,"end":4752,"name":"ɵɵngDeclareInjectable"}},"arguments":[{"type":"ObjectExpression","start":4753,"end":4854,"properties":[{"type":"Property","start":4755,"end":4775,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4755,"end":4765,"name":"minVersion"},"value":{"type":"Literal","start":4767,"end":4775,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":4777,"end":4795,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4777,"end":4784,"name":"version"},"value":{"type":"Literal","start":4786,"end":4795,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":4797,"end":4809,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4797,"end":4805,"name":"ngImport"},"value":{"type":"Identifier","start":4807,"end":4809,"name":"i0"},"kind":"init"},{"type":"Property","start":4811,"end":4832,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4811,"end":4815,"name":"type"},"value":{"type":"Identifier","start":4817,"end":4832,"name":"HydrationClient"},"kind":"init"},{"type":"Property","start":4834,"end":4852,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4834,"end":4844,"name":"providedIn"},"value":{"type":"Literal","start":4846,"end":4852,"value":"root","raw":"'root'"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":4859,"end":5159,"expression":{"type":"CallExpression","start":4859,"end":5158,"optional":false,"callee":{"type":"MemberExpression","start":4859,"end":4886,"computed":false,"optional":false,"object":{"type":"Identifier","start":4859,"end":4861,"name":"i0"},"property":{"type":"Identifier","start":4862,"end":4886,"name":"ɵɵngDeclareClassMetadata"}},"arguments":[{"type":"ObjectExpression","start":4887,"end":5157,"properties":[{"type":"Property","start":4889,"end":4909,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4889,"end":4899,"name":"minVersion"},"value":{"type":"Literal","start":4901,"end":4909,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":4911,"end":4929,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4911,"end":4918,"name":"version"},"value":{"type":"Literal","start":4920,"end":4929,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":4931,"end":4943,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4931,"end":4939,"name":"ngImport"},"value":{"type":"Identifier","start":4941,"end":4943,"name":"i0"},"kind":"init"},{"type":"Property","start":4945,"end":4966,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4945,"end":4949,"name":"type"},"value":{"type":"Identifier","start":4951,"end":4966,"name":"HydrationClient"},"kind":"init"},{"type":"Property","start":4968,"end":5102,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4968,"end":4978,"name":"decorators"},"value":{"type":"ArrayExpression","start":4980,"end":5102,"elements":[{"type":"ObjectExpression","start":4981,"end":5101,"properties":[{"type":"Property","start":4995,"end":5011,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4995,"end":4999,"name":"type"},"value":{"type":"Identifier","start":5001,"end":5011,"name":"Injectable"},"kind":"init"},{"type":"Property","start":5025,"end":5091,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5025,"end":5029,"name":"args"},"value":{"type":"ArrayExpression","start":5031,"end":5091,"elements":[{"type":"ObjectExpression","start":5032,"end":5090,"properties":[{"type":"Property","start":5054,"end":5072,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5054,"end":5064,"name":"providedIn"},"value":{"type":"Literal","start":5066,"end":5072,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":5104,"end":5155,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5104,"end":5118,"name":"ctorParameters"},"value":{"type":"ArrowFunctionExpression","start":5120,"end":5155,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ArrayExpression","start":5126,"end":5155,"elements":[{"type":"ObjectExpression","start":5127,"end":5154,"properties":[{"type":"Property","start":5129,"end":5152,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5129,"end":5133,"name":"type"},"value":{"type":"MemberExpression","start":5135,"end":5152,"computed":false,"optional":false,"object":{"type":"Identifier","start":5135,"end":5137,"name":"i1"},"property":{"type":"Identifier","start":5138,"end":5152,"name":"VersionManager"}},"kind":"init"}]}]},"id":null},"kind":"init"}]}]}},{"type":"ExportNamedDeclaration","start":5208,"end":7089,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":5215,"end":7089,"decorators":[],"id":{"type":"Identifier","start":5221,"end":5242,"name":"AngularHydrationUtils"},"superClass":null,"body":{"type":"ClassBody","start":5243,"end":7089,"body":[{"type":"MethodDefinition","start":5334,"end":5673,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5347,"end":5370,"name":"initializeForAngularSSR"},"value":{"type":"FunctionExpression","start":5370,"end":5673,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":5371,"end":5377,"name":"client"},{"type":"Identifier","start":5379,"end":5391,"name":"manifestPath"}],"body":{"type":"BlockStatement","start":5393,"end":5673,"body":[{"type":"ExpressionStatement","start":5403,"end":5454,"expression":{"type":"AwaitExpression","start":5403,"end":5453,"argument":{"type":"CallExpression","start":5409,"end":5453,"optional":false,"callee":{"type":"MemberExpression","start":5409,"end":5439,"computed":false,"optional":false,"object":{"type":"Identifier","start":5409,"end":5415,"name":"client"},"property":{"type":"Identifier","start":5416,"end":5439,"name":"initializeWithHydration"}},"arguments":[{"type":"Identifier","start":5440,"end":5452,"name":"manifestPath"}]}}},{"type":"IfStatement","start":5543,"end":5644,"test":{"type":"LogicalExpression","start":5547,"end":5581,"operator":"&&","left":{"type":"MemberExpression","start":5547,"end":5556,"computed":false,"optional":false,"object":{"type":"Identifier","start":5547,"end":5553,"name":"window"},"property":{"type":"Identifier","start":5554,"end":5556,"name":"ng"}},"right":{"type":"MemberExpression","start":5560,"end":5581,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5560,"end":5569,"computed":false,"optional":false,"object":{"type":"Identifier","start":5560,"end":5566,"name":"window"},"property":{"type":"Identifier","start":5567,"end":5569,"name":"ng"}},"property":{"type":"Identifier","start":5570,"end":5581,"name":"getInjector"}}},"consequent":{"type":"BlockStatement","start":5583,"end":5644,"body":[{"type":"ExpressionStatement","start":5597,"end":5634,"expression":{"type":"AwaitExpression","start":5597,"end":5633,"argument":{"type":"CallExpression","start":5603,"end":5633,"optional":false,"callee":{"type":"MemberExpression","start":5603,"end":5631,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5603,"end":5607},"property":{"type":"Identifier","start":5608,"end":5631,"name":"waitForAngularHydration"}},"arguments":[]}}}]},"alternate":null},{"type":"ReturnStatement","start":5653,"end":5667,"argument":{"type":"Identifier","start":5660,"end":5666,"name":"client"}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5740,"end":6418,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5753,"end":5776,"name":"waitForAngularHydration"},"value":{"type":"FunctionExpression","start":5776,"end":6418,"async":true,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":5779,"end":6418,"body":[{"type":"ReturnStatement","start":5789,"end":6412,"argument":{"type":"NewExpression","start":5796,"end":6411,"callee":{"type":"Identifier","start":5800,"end":5807,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":5808,"end":6410,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":5809,"end":5816,"name":"resolve"}],"body":{"type":"BlockStatement","start":5821,"end":6410,"body":[{"type":"VariableDeclaration","start":5835,"end":6370,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5841,"end":6369,"id":{"type":"Identifier","start":5841,"end":5855,"name":"checkHydration"},"init":{"type":"ArrowFunctionExpression","start":5858,"end":6369,"async":false,"expression":false,"generator":false,"params":[],"body":{"type":"BlockStatement","start":5864,"end":6369,"body":[{"type":"VariableDeclaration","start":5882,"end":5949,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5888,"end":5948,"id":{"type":"Identifier","start":5888,"end":5894,"name":"appRef"},"init":{"type":"ChainExpression","start":5897,"end":5948,"expression":{"type":"CallExpression","start":5897,"end":5948,"optional":true,"callee":{"type":"MemberExpression","start":5897,"end":5928,"computed":false,"optional":true,"object":{"type":"CallExpression","start":5897,"end":5923,"optional":true,"callee":{"type":"MemberExpression","start":5897,"end":5919,"computed":false,"optional":true,"object":{"type":"MemberExpression","start":5897,"end":5906,"computed":false,"optional":false,"object":{"type":"Identifier","start":5897,"end":5903,"name":"window"},"property":{"type":"Identifier","start":5904,"end":5906,"name":"ng"}},"property":{"type":"Identifier","start":5908,"end":5919,"name":"getInjector"}},"arguments":[]},"property":{"type":"Identifier","start":5925,"end":5928,"name":"get"}},"arguments":[{"type":"Literal","start":5931,"end":5947,"value":"ApplicationRef","raw":"'ApplicationRef'"}]}}}]},{"type":"IfStatement","start":5966,"end":6355,"test":{"type":"LogicalExpression","start":5970,"end":5995,"operator":"&&","left":{"type":"Identifier","start":5970,"end":5976,"name":"appRef"},"right":{"type":"MemberExpression","start":5980,"end":5995,"computed":false,"optional":false,"object":{"type":"Identifier","start":5980,"end":5986,"name":"appRef"},"property":{"type":"Identifier","start":5987,"end":5995,"name":"isStable"}}},"consequent":{"type":"BlockStatement","start":5997,"end":6203,"body":[{"type":"ExpressionStatement","start":6019,"end":6185,"expression":{"type":"CallExpression","start":6019,"end":6184,"optional":false,"callee":{"type":"MemberExpression","start":6019,"end":6044,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6019,"end":6034,"computed":false,"optional":false,"object":{"type":"Identifier","start":6019,"end":6025,"name":"appRef"},"property":{"type":"Identifier","start":6026,"end":6034,"name":"isStable"}},"property":{"type":"Identifier","start":6035,"end":6044,"name":"subscribe"}},"arguments":[{"type":"ArrowFunctionExpression","start":6045,"end":6183,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":6046,"end":6052,"name":"stable"}],"body":{"type":"BlockStatement","start":6057,"end":6183,"body":[{"type":"IfStatement","start":6083,"end":6161,"test":{"type":"Identifier","start":6087,"end":6093,"name":"stable"},"consequent":{"type":"BlockStatement","start":6095,"end":6161,"body":[{"type":"ExpressionStatement","start":6125,"end":6135,"expression":{"type":"CallExpression","start":6125,"end":6134,"optional":false,"callee":{"type":"Identifier","start":6125,"end":6132,"name":"resolve"},"arguments":[]}}]},"alternate":null}]},"id":null}]}}]},"alternate":{"type":"BlockStatement","start":6225,"end":6355,"body":[{"type":"ExpressionStatement","start":6305,"end":6337,"expression":{"type":"CallExpression","start":6305,"end":6336,"optional":false,"callee":{"type":"Identifier","start":6305,"end":6315,"name":"setTimeout"},"arguments":[{"type":"Identifier","start":6316,"end":6330,"name":"checkHydration"},{"type":"Literal","start":6332,"end":6335,"raw":"100","value":100}]}}]}}]},"id":null}}]},{"type":"ExpressionStatement","start":6383,"end":6400,"expression":{"type":"CallExpression","start":6383,"end":6399,"optional":false,"callee":{"type":"Identifier","start":6383,"end":6397,"name":"checkHydration"},"arguments":[]}}]},"id":null}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":6506,"end":7087,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":6513,"end":6531,"name":"createSSRComponent"},"value":{"type":"FunctionExpression","start":6531,"end":7087,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":6532,"end":6538,"name":"loader"},{"type":"AssignmentPattern","start":6540,"end":6582,"left":{"type":"Identifier","start":6540,"end":6556,"name":"fallbackTemplate"},"right":{"type":"Literal","start":6559,"end":6582,"value":"<div>Loading...</div>","raw":"'<div>Loading...</div>'"}}],"body":{"type":"BlockStatement","start":6584,"end":7087,"body":[{"type":"ReturnStatement","start":6594,"end":7081,"argument":{"type":"ObjectExpression","start":6601,"end":7080,"properties":[{"type":"Property","start":6615,"end":6641,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6615,"end":6623,"name":"template"},"value":{"type":"Identifier","start":6625,"end":6641,"name":"fallbackTemplate"},"kind":"init"},{"type":"Property","start":6655,"end":7070,"method":true,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6661,"end":6669,"name":"ngOnInit"},"value":{"type":"FunctionExpression","start":6669,"end":7070,"async":true,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":6672,"end":7070,"body":[{"type":"TryStatement","start":6690,"end":7056,"block":{"type":"BlockStatement","start":6694,"end":6925,"body":[{"type":"VariableDeclaration","start":6716,"end":6762,"kind":"const","declarations":[{"type":"VariableDeclarator","start":6722,"end":6761,"id":{"type":"ObjectPattern","start":6722,"end":6744,"properties":[{"type":"Property","start":6724,"end":6742,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6724,"end":6731,"name":"default"},"value":{"type":"Identifier","start":6733,"end":6742,"name":"Component"},"kind":"init"}]},"init":{"type":"AwaitExpression","start":6747,"end":6761,"argument":{"type":"CallExpression","start":6753,"end":6761,"optional":false,"callee":{"type":"Identifier","start":6753,"end":6759,"name":"loader"},"arguments":[]}}}]}]},"handler":{"type":"CatchClause","start":6942,"end":7056,"param":{"type":"Identifier","start":6949,"end":6954,"name":"error"},"body":{"type":"BlockStatement","start":6956,"end":7056,"body":[{"type":"ExpressionStatement","start":6978,"end":7038,"expression":{"type":"CallExpression","start":6978,"end":7037,"optional":false,"callee":{"type":"MemberExpression","start":6978,"end":6991,"computed":false,"optional":false,"object":{"type":"Identifier","start":6978,"end":6985,"name":"console"},"property":{"type":"Identifier","start":6986,"end":6991,"name":"error"}},"arguments":[{"type":"Literal","start":6992,"end":7029,"value":"Failed to load federated component:","raw":"'Failed to load federated component:'"},{"type":"Identifier","start":7031,"end":7036,"name":"error"}]}}]}},"finalizer":null}]},"expression":false},"kind":"init"}]}}]},"expression":false},"kind":"method"}]}}},{"type":"ExportNamedDeclaration","start":7164,"end":8553,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":7171,"end":8553,"decorators":[],"id":{"type":"Identifier","start":7177,"end":7203,"name":"UniversalFederationRuntime"},"superClass":null,"body":{"type":"ClassBody","start":7204,"end":8553,"body":[{"type":"PropertyDefinition","start":7210,"end":7226,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7210,"end":7225,"name":"hydrationClient"},"value":null},{"type":"PropertyDefinition","start":7231,"end":7237,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7231,"end":7236,"name":"isSSR"},"value":null},{"type":"MethodDefinition","start":7242,"end":7378,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7242,"end":7253,"name":"constructor"},"value":{"type":"FunctionExpression","start":7253,"end":7378,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":7254,"end":7269,"name":"hydrationClient"}],"body":{"type":"BlockStatement","start":7271,"end":7378,"body":[{"type":"ExpressionStatement","start":7281,"end":7320,"expression":{"type":"AssignmentExpression","start":7281,"end":7319,"operator":"=","left":{"type":"MemberExpression","start":7281,"end":7301,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7281,"end":7285},"property":{"type":"Identifier","start":7286,"end":7301,"name":"hydrationClient"}},"right":{"type":"Identifier","start":7304,"end":7319,"name":"hydrationClient"}}},{"type":"ExpressionStatement","start":7329,"end":7372,"expression":{"type":"AssignmentExpression","start":7329,"end":7371,"operator":"=","left":{"type":"MemberExpression","start":7329,"end":7339,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7329,"end":7333},"property":{"type":"Identifier","start":7334,"end":7339,"name":"isSSR"}},"right":{"type":"BinaryExpression","start":7342,"end":7371,"operator":"===","left":{"type":"UnaryExpression","start":7342,"end":7355,"operator":"typeof","argument":{"type":"Identifier","start":7349,"end":7355,"name":"window"},"prefix":true},"right":{"type":"Literal","start":7360,"end":7371,"value":"undefined","raw":"'undefined'"}}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":7383,"end":7612,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7389,"end":7399,"name":"initialize"},"value":{"type":"FunctionExpression","start":7399,"end":7612,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":7400,"end":7412,"name":"manifestPath"}],"body":{"type":"BlockStatement","start":7414,"end":7612,"body":[{"type":"IfStatement","start":7424,"end":7532,"test":{"type":"MemberExpression","start":7428,"end":7438,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7428,"end":7432},"property":{"type":"Identifier","start":7433,"end":7438,"name":"isSSR"}},"consequent":{"type":"BlockStatement","start":7440,"end":7532,"body":[{"type":"ReturnStatement","start":7515,"end":7522,"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":7541,"end":7606,"expression":{"type":"AwaitExpression","start":7541,"end":7605,"argument":{"type":"CallExpression","start":7547,"end":7605,"optional":false,"callee":{"type":"MemberExpression","start":7547,"end":7591,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":7547,"end":7567,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7547,"end":7551},"property":{"type":"Identifier","start":7552,"end":7567,"name":"hydrationClient"}},"property":{"type":"Identifier","start":7568,"end":7591,"name":"initializeWithHydration"}},"arguments":[{"type":"Identifier","start":7592,"end":7604,"name":"manifestPath"}]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":7617,"end":7872,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7623,"end":7639,"name":"loadRemoteModule"},"value":{"type":"FunctionExpression","start":7639,"end":7872,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":7640,"end":7650,"name":"remoteName"},{"type":"Identifier","start":7652,"end":7662,"name":"modulePath"}],"body":{"type":"BlockStatement","start":7664,"end":7872,"body":[{"type":"IfStatement","start":7674,"end":7788,"test":{"type":"MemberExpression","start":7678,"end":7688,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7678,"end":7682},"property":{"type":"Identifier","start":7683,"end":7688,"name":"isSSR"}},"consequent":{"type":"BlockStatement","start":7690,"end":7788,"body":[{"type":"ThrowStatement","start":7704,"end":7778,"argument":{"type":"NewExpression","start":7710,"end":7777,"callee":{"type":"Identifier","start":7714,"end":7719,"name":"Error"},"arguments":[{"type":"Literal","start":7720,"end":7776,"value":"SSR module loading should use SSRModuleLoader directly","raw":"'SSR module loading should use SSRModuleLoader directly'"}]}}]},"alternate":null},{"type":"ReturnStatement","start":7797,"end":7866,"argument":{"type":"CallExpression","start":7804,"end":7865,"optional":false,"callee":{"type":"MemberExpression","start":7804,"end":7841,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":7804,"end":7824,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7804,"end":7808},"property":{"type":"Identifier","start":7809,"end":7824,"name":"hydrationClient"}},"property":{"type":"Identifier","start":7825,"end":7841,"name":"loadRemoteModule"}},"arguments":[{"type":"Identifier","start":7842,"end":7852,"name":"remoteName"},{"type":"Identifier","start":7854,"end":7864,"name":"modulePath"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":7877,"end":7987,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7883,"end":7899,"name":"loadSharedModule"},"value":{"type":"FunctionExpression","start":7899,"end":7987,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":7900,"end":7911,"name":"packageName"}],"body":{"type":"BlockStatement","start":7913,"end":7987,"body":[{"type":"ReturnStatement","start":7923,"end":7981,"argument":{"type":"CallExpression","start":7930,"end":7980,"optional":false,"callee":{"type":"MemberExpression","start":7930,"end":7967,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":7930,"end":7950,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7930,"end":7934},"property":{"type":"Identifier","start":7935,"end":7950,"name":"hydrationClient"}},"property":{"type":"Identifier","start":7951,"end":7967,"name":"loadSharedModule"}},"arguments":[{"type":"Identifier","start":7968,"end":7979,"name":"packageName"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":7992,"end":8182,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7992,"end":8009,"name":"wasServerRendered"},"value":{"type":"FunctionExpression","start":8009,"end":8182,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":8010,"end":8020,"name":"remoteName"},{"type":"Identifier","start":8022,"end":8032,"name":"modulePath"}],"body":{"type":"BlockStatement","start":8034,"end":8182,"body":[{"type":"IfStatement","start":8044,"end":8097,"test":{"type":"MemberExpression","start":8048,"end":8058,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":8048,"end":8052},"property":{"type":"Identifier","start":8053,"end":8058,"name":"isSSR"}},"consequent":{"type":"BlockStatement","start":8060,"end":8097,"body":[{"type":"ReturnStatement","start":8074,"end":8087,"argument":{"type":"Literal","start":8081,"end":8086,"value":false,"raw":"false"}}]},"alternate":null},{"type":"ReturnStatement","start":8106,"end":8176,"argument":{"type":"CallExpression","start":8113,"end":8175,"optional":false,"callee":{"type":"MemberExpression","start":8113,"end":8151,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":8113,"end":8133,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":8113,"end":8117},"property":{"type":"Identifier","start":8118,"end":8133,"name":"hydrationClient"}},"property":{"type":"Identifier","start":8134,"end":8151,"name":"wasServerRendered"}},"arguments":[{"type":"Identifier","start":8152,"end":8162,"name":"remoteName"},{"type":"Identifier","start":8164,"end":8174,"name":"modulePath"}]}}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":8187,"end":8392,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":8194,"end":8198,"name":"ɵfac"},"value":{"type":"CallExpression","start":8201,"end":8391,"optional":false,"callee":{"type":"MemberExpression","start":8201,"end":8222,"computed":false,"optional":false,"object":{"type":"Identifier","start":8201,"end":8203,"name":"i0"},"property":{"type":"Identifier","start":8204,"end":8222,"name":"ɵɵngDeclareFactory"}},"arguments":[{"type":"ObjectExpression","start":8223,"end":8390,"properties":[{"type":"Property","start":8225,"end":8245,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8225,"end":8235,"name":"minVersion"},"value":{"type":"Literal","start":8237,"end":8245,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":8247,"end":8265,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8247,"end":8254,"name":"version"},"value":{"type":"Literal","start":8256,"end":8265,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":8267,"end":8279,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8267,"end":8275,"name":"ngImport"},"value":{"type":"Identifier","start":8277,"end":8279,"name":"i0"},"kind":"init"},{"type":"Property","start":8281,"end":8313,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8281,"end":8285,"name":"type"},"value":{"type":"Identifier","start":8287,"end":8313,"name":"UniversalFederationRuntime"},"kind":"init"},{"type":"Property","start":8315,"end":8349,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8315,"end":8319,"name":"deps"},"value":{"type":"ArrayExpression","start":8321,"end":8349,"elements":[{"type":"ObjectExpression","start":8322,"end":8348,"properties":[{"type":"Property","start":8324,"end":8346,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8324,"end":8329,"name":"token"},"value":{"type":"Identifier","start":8331,"end":8346,"name":"HydrationClient"},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":8351,"end":8388,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8351,"end":8357,"name":"target"},"value":{"type":"MemberExpression","start":8359,"end":8388,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":8359,"end":8377,"computed":false,"optional":false,"object":{"type":"Identifier","start":8359,"end":8361,"name":"i0"},"property":{"type":"Identifier","start":8362,"end":8377,"name":"ɵɵFactoryTarget"}},"property":{"type":"Identifier","start":8378,"end":8388,"name":"Injectable"}},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":8397,"end":8551,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":8404,"end":8409,"name":"ɵprov"},"value":{"type":"CallExpression","start":8412,"end":8550,"optional":false,"callee":{"type":"MemberExpression","start":8412,"end":8436,"computed":false,"optional":false,"object":{"type":"Identifier","start":8412,"end":8414,"name":"i0"},"property":{"type":"Identifier","start":8415,"end":8436,"name":"ɵɵngDeclareInjectable"}},"arguments":[{"type":"ObjectExpression","start":8437,"end":8549,"properties":[{"type":"Property","start":8439,"end":8459,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8439,"end":8449,"name":"minVersion"},"value":{"type":"Literal","start":8451,"end":8459,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":8461,"end":8479,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8461,"end":8468,"name":"version"},"value":{"type":"Literal","start":8470,"end":8479,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":8481,"end":8493,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8481,"end":8489,"name":"ngImport"},"value":{"type":"Identifier","start":8491,"end":8493,"name":"i0"},"kind":"init"},{"type":"Property","start":8495,"end":8527,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8495,"end":8499,"name":"type"},"value":{"type":"Identifier","start":8501,"end":8527,"name":"UniversalFederationRuntime"},"kind":"init"},{"type":"Property","start":8529,"end":8547,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8529,"end":8539,"name":"providedIn"},"value":{"type":"Literal","start":8541,"end":8547,"value":"root","raw":"'root'"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":8554,"end":8863,"expression":{"type":"CallExpression","start":8554,"end":8862,"optional":false,"callee":{"type":"MemberExpression","start":8554,"end":8581,"computed":false,"optional":false,"object":{"type":"Identifier","start":8554,"end":8556,"name":"i0"},"property":{"type":"Identifier","start":8557,"end":8581,"name":"ɵɵngDeclareClassMetadata"}},"arguments":[{"type":"ObjectExpression","start":8582,"end":8861,"properties":[{"type":"Property","start":8584,"end":8604,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8584,"end":8594,"name":"minVersion"},"value":{"type":"Literal","start":8596,"end":8604,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":8606,"end":8624,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8606,"end":8613,"name":"version"},"value":{"type":"Literal","start":8615,"end":8624,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":8626,"end":8638,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8626,"end":8634,"name":"ngImport"},"value":{"type":"Identifier","start":8636,"end":8638,"name":"i0"},"kind":"init"},{"type":"Property","start":8640,"end":8672,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8640,"end":8644,"name":"type"},"value":{"type":"Identifier","start":8646,"end":8672,"name":"UniversalFederationRuntime"},"kind":"init"},{"type":"Property","start":8674,"end":8808,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8674,"end":8684,"name":"decorators"},"value":{"type":"ArrayExpression","start":8686,"end":8808,"elements":[{"type":"ObjectExpression","start":8687,"end":8807,"properties":[{"type":"Property","start":8701,"end":8717,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8701,"end":8705,"name":"type"},"value":{"type":"Identifier","start":8707,"end":8717,"name":"Injectable"},"kind":"init"},{"type":"Property","start":8731,"end":8797,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8731,"end":8735,"name":"args"},"value":{"type":"ArrayExpression","start":8737,"end":8797,"elements":[{"type":"ObjectExpression","start":8738,"end":8796,"properties":[{"type":"Property","start":8760,"end":8778,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8760,"end":8770,"name":"providedIn"},"value":{"type":"Literal","start":8772,"end":8778,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":8810,"end":8859,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8810,"end":8824,"name":"ctorParameters"},"value":{"type":"ArrowFunctionExpression","start":8826,"end":8859,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ArrayExpression","start":8832,"end":8859,"elements":[{"type":"ObjectExpression","start":8833,"end":8858,"properties":[{"type":"Property","start":8835,"end":8856,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8835,"end":8839,"name":"type"},"value":{"type":"Identifier","start":8841,"end":8856,"name":"HydrationClient"},"kind":"init"}]}]},"id":null},"kind":"init"}]}]}}],"_rollupRemoved":[{"end":26358,"start":8864,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { Injectable } from '@angular/core';\nimport { ModuleLoader } from './module-loader';\nimport { VersionManager } from './version-manager';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./version-manager\";\n/**\n * Client-side hydration support for SSR\n * Resumes federation state from server-rendered content\n */\nexport class HydrationClient extends ModuleLoader {\n    hydrationData;\n    ssrModuleCache = new Map();\n    constructor(versionManager) {\n        super(versionManager);\n    }\n    async initializeWithHydration(manifestPath) {\n        // Extract hydration data from SSR\n        this.extractHydrationData();\n        // Initialize base module loader\n        await this.initialize(manifestPath);\n        // Restore SSR module cache\n        await this.restoreSSRModules();\n    }\n    /**\n     * Load remote module with hydration support\n     * Checks SSR cache first, then falls back to normal loading\n     */\n    async loadRemoteModule(remoteName, modulePath) {\n        const moduleId = `${remoteName}${modulePath}`;\n        // Check if module was loaded during SSR\n        if (this.ssrModuleCache.has(moduleId)) {\n            const cached = this.ssrModuleCache.get(moduleId);\n            // If it's a fallback, try to load the real module\n            if (cached.__fallback) {\n                try {\n                    return await super.loadRemoteModule(remoteName, modulePath);\n                }\n                catch (error) {\n                    console.warn(`[Hydration] Failed to load real module, using fallback:`, error);\n                    return cached;\n                }\n            }\n            return cached;\n        }\n        // Fall back to normal loading\n        return super.loadRemoteModule(remoteName, modulePath);\n    }\n    /**\n     * Check if module was server-rendered\n     */\n    wasServerRendered(remoteName, modulePath) {\n        const moduleId = `${remoteName}${modulePath}`;\n        return this.ssrModuleCache.has(moduleId);\n    }\n    /**\n     * Get hydration data for a specific module\n     */\n    getModuleHydrationData(remoteName, modulePath) {\n        const moduleId = `${remoteName}${modulePath}`;\n        const cached = this.ssrModuleCache.get(moduleId);\n        return cached?.hydrationData;\n    }\n    extractHydrationData() {\n        // Extract hydration data injected by SSR\n        const hydrationData = window.__NF_HYDRATION__;\n        const loadedModules = window.__NF_LOADED_MODULES__;\n        if (hydrationData) {\n            this.hydrationData = hydrationData;\n            // Restore import map if available\n            if (hydrationData.importMap) {\n                this.injectHydrationImportMap({ imports: hydrationData.importMap });\n            }\n        }\n        if (loadedModules) {\n            loadedModules.forEach((moduleInfo, moduleId) => {\n                this.ssrModuleCache.set(moduleId, {\n                    ...moduleInfo,\n                    __fromSSR: true\n                });\n            });\n        }\n    }\n    async restoreSSRModules() {\n        if (!this.hydrationData?.loadedModules) {\n            return;\n        }\n        // Process each module that was loaded during SSR\n        for (const moduleInfo of this.hydrationData.loadedModules) {\n            try {\n                // For non-fallback modules, try to establish client-side reference\n                if (!moduleInfo.hydrationData?.fallback) {\n                    const module = await import(moduleInfo.url);\n                    this.ssrModuleCache.set(moduleInfo.id, module);\n                }\n            }\n            catch (error) {\n                console.warn(`[Hydration] Could not restore module ${moduleInfo.id}:`, error);\n            }\n        }\n    }\n    injectHydrationImportMap(importMap) {\n        const existingScript = document.querySelector('script[type=\"importmap\"]');\n        if (existingScript) {\n            // Merge with existing import map\n            const existing = JSON.parse(existingScript.textContent || '{}');\n            const merged = {\n                imports: {\n                    ...existing.imports,\n                    ...importMap.imports\n                }\n            };\n            existingScript.textContent = JSON.stringify(merged);\n        }\n        else {\n            // Create new import map\n            const script = document.createElement('script');\n            script.type = 'importmap';\n            script.textContent = JSON.stringify(importMap);\n            document.head.appendChild(script);\n        }\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: HydrationClient, deps: [{ token: i1.VersionManager }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: HydrationClient, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: HydrationClient, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: i1.VersionManager }] });\n/**\n * Angular-specific hydration utilities\n */\nexport class AngularHydrationUtils {\n    /**\n     * Initialize Native Federation with Angular Universal hydration\n     */\n    static async initializeForAngularSSR(client, manifestPath) {\n        await client.initializeWithHydration(manifestPath);\n        // Wait for Angular hydration to complete before loading remote modules\n        if (window.ng && window.ng.getInjector) {\n            await this.waitForAngularHydration();\n        }\n        return client;\n    }\n    /**\n     * Wait for Angular hydration to complete\n     */\n    static async waitForAngularHydration() {\n        return new Promise((resolve) => {\n            const checkHydration = () => {\n                const appRef = window.ng?.getInjector?.()?.get?.('ApplicationRef');\n                if (appRef && appRef.isStable) {\n                    appRef.isStable.subscribe((stable) => {\n                        if (stable) {\n                            resolve();\n                        }\n                    });\n                }\n                else {\n                    // Fallback: wait a bit and try again\n                    setTimeout(checkHydration, 100);\n                }\n            };\n            checkHydration();\n        });\n    }\n    /**\n     * Create Angular component wrapper that handles SSR/hydration\n     */\n    static createSSRComponent(loader, fallbackTemplate = '<div>Loading...</div>') {\n        return {\n            template: fallbackTemplate,\n            async ngOnInit() {\n                try {\n                    const { default: Component } = await loader();\n                    // Dynamic component loading logic would go here\n                    // This would integrate with Angular's ViewContainerRef\n                }\n                catch (error) {\n                    console.error('Failed to load federated component:', error);\n                }\n            }\n        };\n    }\n}\n/**\n * Universal federation runtime that works in both SSR and client\n */\nexport class UniversalFederationRuntime {\n    hydrationClient;\n    isSSR;\n    constructor(hydrationClient) {\n        this.hydrationClient = hydrationClient;\n        this.isSSR = typeof window === 'undefined';\n    }\n    async initialize(manifestPath) {\n        if (this.isSSR) {\n            // SSR initialization will be handled separately\n            return;\n        }\n        await this.hydrationClient.initializeWithHydration(manifestPath);\n    }\n    async loadRemoteModule(remoteName, modulePath) {\n        if (this.isSSR) {\n            throw new Error('SSR module loading should use SSRModuleLoader directly');\n        }\n        return this.hydrationClient.loadRemoteModule(remoteName, modulePath);\n    }\n    async loadSharedModule(packageName) {\n        return this.hydrationClient.loadSharedModule(packageName);\n    }\n    wasServerRendered(remoteName, modulePath) {\n        if (this.isSSR) {\n            return false;\n        }\n        return this.hydrationClient.wasServerRendered(remoteName, modulePath);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: UniversalFederationRuntime, deps: [{ token: HydrationClient }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: UniversalFederationRuntime, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: UniversalFederationRuntime, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: HydrationClient }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHlkcmF0aW9uLWNsaWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9saWIvcnVudGltZS9oeWRyYXRpb24tY2xpZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRS9DLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQzs7O0FBRW5EOzs7R0FHRztBQUlILE1BQU0sT0FBTyxlQUFnQixTQUFRLFlBQVk7SUFDdkMsYUFBYSxDQUFPO0lBQ3BCLGNBQWMsR0FBRyxJQUFJLEdBQUcsRUFBZSxDQUFDO0lBRWhELFlBQVksY0FBOEI7UUFDeEMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxLQUFLLENBQUMsdUJBQXVCLENBQUMsWUFBcUI7UUFDakQsa0NBQWtDO1FBQ2xDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBRTVCLGdDQUFnQztRQUNoQyxNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFcEMsMkJBQTJCO1FBQzNCLE1BQU0sSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVEOzs7T0FHRztJQUNILEtBQUssQ0FBQyxnQkFBZ0IsQ0FBVSxVQUFrQixFQUFFLFVBQWtCO1FBQ3BFLE1BQU0sUUFBUSxHQUFHLEdBQUcsVUFBVSxHQUFHLFVBQVUsRUFBRSxDQUFDO1FBRTlDLHdDQUF3QztRQUN4QyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDdEMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENB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QUVELE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDeEUsQ0FBQzt3R0FsQ1UsMEJBQTBCOzRHQUExQiwwQkFBMEIsY0FGekIsTUFBTTs7NEZBRVAsMEJBQTBCO2tCQUh0QyxVQUFVO21CQUFDO29CQUNWLFVBQVUsRUFBRSxNQUFNO2lCQUNuQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1vZHVsZUxvYWRlciB9IGZyb20gJy4vbW9kdWxlLWxvYWRlcic7XG5pbXBvcnQgeyBGZWRlcmF0aW9uTWFuaWZlc3QgfSBmcm9tICcuLi90eXBlcy9mZWRlcmF0aW9uJztcbmltcG9ydCB7IFZlcnNpb25NYW5hZ2VyIH0gZnJvbSAnLi92ZXJzaW9uLW1hbmFnZXInO1xuXG4vKipcbiAqIENsaWVudC1zaWRlIGh5ZHJhdGlvbiBzdXBwb3J0IGZvciBTU1JcbiAqIFJlc3VtZXMgZmVkZXJhdGlvbiBzdGF0ZSBmcm9tIHNlcnZlci1yZW5kZXJlZCBjb250ZW50XG4gKi9cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIEh5ZHJhdGlvbkNsaWVudCBleHRlbmRzIE1vZHVsZUxvYWRlciB7XG4gIHByaXZhdGUgaHlkcmF0aW9uRGF0YT86IGFueTtcbiAgcHJpdmF0ZSBzc3JNb2R1bGVDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG5cbiAgY29uc3RydWN0b3IodmVyc2lvbk1hbmFnZXI6IFZlcnNpb25NYW5hZ2VyKSB7XG4gICAgc3VwZXIodmVyc2lvbk1hbmFnZXIpO1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZVdpdGhIeWRyYXRpb24obWFuaWZlc3RQYXRoPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gRXh0cmFjdCBoeWRyYXRpb24gZGF0YSBmcm9tIFNTUlxuICAgIHRoaXMuZXh0cmFjdEh5ZHJhdGlvbkRhdGEoKTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGJhc2UgbW9kdWxlIGxvYWRlclxuICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZShtYW5pZmVzdFBhdGgpO1xuICAgIFxuICAgIC8vIFJlc3RvcmUgU1NSIG1vZHVsZSBjYWNoZVxuICAgIGF3YWl0IHRoaXMucmVzdG9yZVNTUk1vZHVsZXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHJlbW90ZSBtb2R1bGUgd2l0aCBoeWRyYXRpb24gc3VwcG9ydFxuICAgKiBDaGVja3MgU1NSIGNhY2hlIGZpcnN0LCB0aGVuIGZhbGxzIGJhY2sgdG8gbm9ybWFsIGxvYWRpbmdcbiAgICovXG4gIGFzeW5jIGxvYWRSZW1vdGVNb2R1bGU8VCA9IGFueT4ocmVtb3RlTmFtZTogc3RyaW5nLCBtb2R1bGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPFQ+IHtcbiAgICBjb25zdCBtb2R1bGVJZCA9IGAke3JlbW90ZU5hbWV9JHttb2R1bGVQYXRofWA7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgbW9kdWxlIHdhcyBsb2FkZWQgZHVyaW5nIFNTUlxuICAgIGlmICh0aGlzLnNzck1vZHVsZUNhY2hlLmhhcyhtb2R1bGVJZCkpIHtcbiAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuc3NyTW9kdWxlQ2FjaGUuZ2V0KG1vZHVsZUlkKTtcbiAgICAgIFxuICAgICAgLy8gSWYgaXQncyBhIGZhbGxiYWNrLCB0cnkgdG8gbG9hZCB0aGUgcmVhbCBtb2R1bGVcbiAgICAgIGlmIChjYWNoZWQuX19mYWxsYmFjaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBhd2FpdCBzdXBlci5sb2FkUmVtb3RlTW9kdWxlKHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgW0h5ZHJhdGlvbl0gRmFpbGVkIHRvIGxvYWQgcmVhbCBtb2R1bGUsIHVzaW5nIGZhbGxiYWNrOmAsIGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIFxuICAgIC8vIEZhbGwgYmFjayB0byBub3JtYWwgbG9hZGluZ1xuICAgIHJldHVybiBzdXBlci5sb2FkUmVtb3RlTW9kdWxlKHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIG1vZHVsZSB3YXMgc2VydmVyLXJlbmRlcmVkXG4gICAqL1xuICB3YXNTZXJ2ZXJSZW5kZXJlZChyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG1vZHVsZUlkID0gYCR7cmVtb3RlTmFtZX0ke21vZHVsZVBhdGh9YDtcbiAgICByZXR1cm4gdGhpcy5zc3JNb2R1bGVDYWNoZS5oYXMobW9kdWxlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBoeWRyYXRpb24gZGF0YSBmb3IgYSBzcGVjaWZpYyBtb2R1bGVcbiAgICovXG4gIGdldE1vZHVsZUh5ZHJhdGlvbkRhdGEocmVtb3RlTmFtZTogc3RyaW5nLCBtb2R1bGVQYXRoOiBzdHJpbmcpOiBhbnkge1xuICAgIGNvbnN0IG1vZHVsZUlkID0gYCR7cmVtb3RlTmFtZX0ke21vZHVsZVBhdGh9YDtcbiAgICBjb25zdCBjYWNoZWQgPSB0aGlzLnNzck1vZHVsZUNhY2hlLmdldChtb2R1bGVJZCk7XG4gICAgcmV0dXJuIGNhY2hlZD8uaHlkcmF0aW9uRGF0YTtcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdEh5ZHJhdGlvbkRhdGEoKTogdm9pZCB7XG4gICAgLy8gRXh0cmFjdCBoeWRyYXRpb24gZGF0YSBpbmplY3RlZCBieSBTU1JcbiAgICBjb25zdCBoeWRyYXRpb25EYXRhID0gKHdpbmRvdyBhcyBhbnkpLl9fTkZfSFlEUkFUSU9OX187XG4gICAgY29uc3QgbG9hZGVkTW9kdWxlcyA9ICh3aW5kb3cgYXMgYW55KS5fX05GX0xPQURFRF9NT0RVTEVTX187XG4gICAgXG4gICAgaWYgKGh5ZHJhdGlvbkRhdGEpIHtcbiAgICAgIHRoaXMuaHlkcmF0aW9uRGF0YSA9IGh5ZHJhdGlvbkRhdGE7XG4gICAgICBcbiAgICAgIC8vIFJlc3RvcmUgaW1wb3J0IG1hcCBpZiBhdmFpbGFibGVcbiAgICAgIGlmIChoeWRyYXRpb25EYXRhLmltcG9ydE1hcCkge1xuICAgICAgICB0aGlzLmluamVjdEh5ZHJhdGlvbkltcG9ydE1hcCh7IGltcG9ydHM6IGh5ZHJhdGlvbkRhdGEuaW1wb3J0TWFwIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAobG9hZGVkTW9kdWxlcykge1xuICAgICAgbG9hZGVkTW9kdWxlcy5mb3JFYWNoKChtb2R1bGVJbmZvOiBhbnksIG1vZHVsZUlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgdGhpcy5zc3JNb2R1bGVDYWNoZS5zZXQobW9kdWxlSWQsIHtcbiAgICAgICAgICAuLi5tb2R1bGVJbmZvLFxuICAgICAgICAgIF9fZnJvbVNTUjogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzdG9yZVNTUk1vZHVsZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmh5ZHJhdGlvbkRhdGE/LmxvYWRlZE1vZHVsZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIGVhY2ggbW9kdWxlIHRoYXQgd2FzIGxvYWRlZCBkdXJpbmcgU1NSXG4gICAgZm9yIChjb25zdCBtb2R1bGVJbmZvIG9mIHRoaXMuaHlkcmF0aW9uRGF0YS5sb2FkZWRNb2R1bGVzKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBGb3Igbm9uLWZhbGxiYWNrIG1vZHVsZXMsIHRyeSB0byBlc3RhYmxpc2ggY2xpZW50LXNpZGUgcmVmZXJlbmNlXG4gICAgICAgIGlmICghbW9kdWxlSW5mby5oeWRyYXRpb25EYXRhPy5mYWxsYmFjaykge1xuICAgICAgICAgIGNvbnN0IG1vZHVsZSA9IGF3YWl0IGltcG9ydChtb2R1bGVJbmZvLnVybCk7XG4gICAgICAgICAgdGhpcy5zc3JNb2R1bGVDYWNoZS5zZXQobW9kdWxlSW5mby5pZCwgbW9kdWxlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBbSHlkcmF0aW9uXSBDb3VsZCBub3QgcmVzdG9yZSBtb2R1bGUgJHttb2R1bGVJbmZvLmlkfTpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpbmplY3RIeWRyYXRpb25JbXBvcnRNYXAoaW1wb3J0TWFwOiBhbnkpOiB2b2lkIHtcbiAgICBjb25zdCBleGlzdGluZ1NjcmlwdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFt0eXBlPVwiaW1wb3J0bWFwXCJdJyk7XG4gICAgaWYgKGV4aXN0aW5nU2NyaXB0KSB7XG4gICAgICAvLyBNZXJnZSB3aXRoIGV4aXN0aW5nIGltcG9ydCBtYXBcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gSlNPTi5wYXJzZShleGlzdGluZ1NjcmlwdC50ZXh0Q29udGVudCB8fCAne30nKTtcbiAgICAgIGNvbnN0IG1lcmdlZCA9IHtcbiAgICAgICAgaW1wb3J0czoge1xuICAgICAgICAgIC4uLmV4aXN0aW5nLmltcG9ydHMsXG4gICAgICAgICAgLi4uaW1wb3J0TWFwLmltcG9ydHNcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGV4aXN0aW5nU2NyaXB0LnRleHRDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkobWVyZ2VkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JlYXRlIG5ldyBpbXBvcnQgbWFwXG4gICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgIHNjcmlwdC50eXBlID0gJ2ltcG9ydG1hcCc7XG4gICAgICBzY3JpcHQudGV4dENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShpbXBvcnRNYXApO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFuZ3VsYXItc3BlY2lmaWMgaHlkcmF0aW9uIHV0aWxpdGllc1xuICovXG5leHBvcnQgY2xhc3MgQW5ndWxhckh5ZHJhdGlvblV0aWxzIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgTmF0aXZlIEZlZGVyYXRpb24gd2l0aCBBbmd1bGFyIFVuaXZlcnNhbCBoeWRyYXRpb25cbiAgICovXG4gIHN0YXRpYyBhc3luYyBpbml0aWFsaXplRm9yQW5ndWxhclNTUihcbiAgICBjbGllbnQ6IEh5ZHJhdGlvbkNsaWVudCxcbiAgICBtYW5pZmVzdFBhdGg/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxIeWRyYXRpb25DbGllbnQ+IHtcbiAgICBhd2FpdCBjbGllbnQuaW5pdGlhbGl6ZVdpdGhIeWRyYXRpb24obWFuaWZlc3RQYXRoKTtcbiAgICBcbiAgICAvLyBXYWl0IGZvciBBbmd1bGFyIGh5ZHJhdGlvbiB0byBjb21wbGV0ZSBiZWZvcmUgbG9hZGluZyByZW1vdGUgbW9kdWxlc1xuICAgIGlmICgod2luZG93IGFzIGFueSkubmcgJiYgKHdpbmRvdyBhcyBhbnkpLm5nLmdldEluamVjdG9yKSB7XG4gICAgICBhd2FpdCB0aGlzLndhaXRGb3JBbmd1bGFySHlkcmF0aW9uKCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBjbGllbnQ7XG4gIH1cblxuICAvKipcbiAgICogV2FpdCBmb3IgQW5ndWxhciBoeWRyYXRpb24gdG8gY29tcGxldGVcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGFzeW5jIHdhaXRGb3JBbmd1bGFySHlkcmF0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3QgY2hlY2tIeWRyYXRpb24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFwcFJlZiA9ICh3aW5kb3cgYXMgYW55KS5uZz8uZ2V0SW5qZWN0b3I/LigpPy5nZXQ/LignQXBwbGljYXRpb25SZWYnKTtcbiAgICAgICAgaWYgKGFwcFJlZiAmJiBhcHBSZWYuaXNTdGFibGUpIHtcbiAgICAgICAgICBhcHBSZWYuaXNTdGFibGUuc3Vic2NyaWJlKChzdGFibGU6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgIGlmIChzdGFibGUpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZhbGxiYWNrOiB3YWl0IGEgYml0IGFuZCB0cnkgYWdhaW5cbiAgICAgICAgICBzZXRUaW1lb3V0KGNoZWNrSHlkcmF0aW9uLCAxMDApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjaGVja0h5ZHJhdGlvbigpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBBbmd1bGFyIGNvbXBvbmVudCB3cmFwcGVyIHRoYXQgaGFuZGxlcyBTU1IvaHlkcmF0aW9uXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlU1NSQ29tcG9uZW50PFQ+KFxuICAgIGxvYWRlcjogKCkgPT4gUHJvbWlzZTx7IGRlZmF1bHQ6IFQgfT4sXG4gICAgZmFsbGJhY2tUZW1wbGF0ZTogc3RyaW5nID0gJzxkaXY+TG9hZGluZy4uLjwvZGl2PidcbiAgKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRlbXBsYXRlOiBmYWxsYmFja1RlbXBsYXRlLFxuICAgICAgYXN5bmMgbmdPbkluaXQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgeyBkZWZhdWx0OiBDb21wb25lbnQgfSA9IGF3YWl0IGxvYWRlcigpO1xuICAgICAgICAgIC8vIER5bmFtaWMgY29tcG9uZW50IGxvYWRpbmcgbG9naWMgd291bGQgZ28gaGVyZVxuICAgICAgICAgIC8vIFRoaXMgd291bGQgaW50ZWdyYXRlIHdpdGggQW5ndWxhcidzIFZpZXdDb250YWluZXJSZWZcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBmZWRlcmF0ZWQgY29tcG9uZW50OicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBVbml2ZXJzYWwgZmVkZXJhdGlvbiBydW50aW1lIHRoYXQgd29ya3MgaW4gYm90aCBTU1IgYW5kIGNsaWVudFxuICovXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBVbml2ZXJzYWxGZWRlcmF0aW9uUnVudGltZSB7XG4gIHByaXZhdGUgaXNTU1I6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBoeWRyYXRpb25DbGllbnQ6IEh5ZHJhdGlvbkNsaWVudCkge1xuICAgIHRoaXMuaXNTU1IgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJztcbiAgfVxuXG4gIGFzeW5jIGluaXRpYWxpemUobWFuaWZlc3RQYXRoPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuaXNTU1IpIHtcbiAgICAgIC8vIFNTUiBpbml0aWFsaXphdGlvbiB3aWxsIGJlIGhhbmRsZWQgc2VwYXJhdGVseVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBhd2FpdCB0aGlzLmh5ZHJhdGlvbkNsaWVudC5pbml0aWFsaXplV2l0aEh5ZHJhdGlvbihtYW5pZmVzdFBhdGgpO1xuICB9XG5cbiAgYXN5bmMgbG9hZFJlbW90ZU1vZHVsZTxUID0gYW55PihyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8VD4ge1xuICAgIGlmICh0aGlzLmlzU1NSKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NTUiBtb2R1bGUgbG9hZGluZyBzaG91bGQgdXNlIFNTUk1vZHVsZUxvYWRlciBkaXJlY3RseScpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdGhpcy5oeWRyYXRpb25DbGllbnQubG9hZFJlbW90ZU1vZHVsZShyZW1vdGVOYW1lLCBtb2R1bGVQYXRoKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWRTaGFyZWRNb2R1bGU8VCA9IGFueT4ocGFja2FnZU5hbWU6IHN0cmluZyk6IFByb21pc2U8VD4ge1xuICAgIHJldHVybiB0aGlzLmh5ZHJhdGlvbkNsaWVudC5sb2FkU2hhcmVkTW9kdWxlKHBhY2thZ2VOYW1lKTtcbiAgfVxuXG4gIHdhc1NlcnZlclJlbmRlcmVkKHJlbW90ZU5hbWU6IHN0cmluZywgbW9kdWxlUGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaXNTU1IpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRoaXMuaHlkcmF0aW9uQ2xpZW50Lndhc1NlcnZlclJlbmRlcmVkKHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpO1xuICB9XG59Il19","customTransformCache":false,"dependencies":["@angular/core","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/module-loader.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/version-manager.mjs"],"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/hydration-client.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Injectable } from '@angular/core';\nimport { ModuleLoader } from './module-loader';\nimport { VersionManager } from './version-manager';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./version-manager\";\n/**\n * Client-side hydration support for SSR\n * Resumes federation state from server-rendered content\n */\nexport class HydrationClient extends ModuleLoader {\n    hydrationData;\n    ssrModuleCache = new Map();\n    constructor(versionManager) {\n        super(versionManager);\n    }\n    async initializeWithHydration(manifestPath) {\n        // Extract hydration data from SSR\n        this.extractHydrationData();\n        // Initialize base module loader\n        await this.initialize(manifestPath);\n        // Restore SSR module cache\n        await this.restoreSSRModules();\n    }\n    /**\n     * Load remote module with hydration support\n     * Checks SSR cache first, then falls back to normal loading\n     */\n    async loadRemoteModule(remoteName, modulePath) {\n        const moduleId = `${remoteName}${modulePath}`;\n        // Check if module was loaded during SSR\n        if (this.ssrModuleCache.has(moduleId)) {\n            const cached = this.ssrModuleCache.get(moduleId);\n            // If it's a fallback, try to load the real module\n            if (cached.__fallback) {\n                try {\n                    return await super.loadRemoteModule(remoteName, modulePath);\n                }\n                catch (error) {\n                    console.warn(`[Hydration] Failed to load real module, using fallback:`, error);\n                    return cached;\n                }\n            }\n            return cached;\n        }\n        // Fall back to normal loading\n        return super.loadRemoteModule(remoteName, modulePath);\n    }\n    /**\n     * Check if module was server-rendered\n     */\n    wasServerRendered(remoteName, modulePath) {\n        const moduleId = `${remoteName}${modulePath}`;\n        return this.ssrModuleCache.has(moduleId);\n    }\n    /**\n     * Get hydration data for a specific module\n     */\n    getModuleHydrationData(remoteName, modulePath) {\n        const moduleId = `${remoteName}${modulePath}`;\n        const cached = this.ssrModuleCache.get(moduleId);\n        return cached?.hydrationData;\n    }\n    extractHydrationData() {\n        // Extract hydration data injected by SSR\n        const hydrationData = window.__NF_HYDRATION__;\n        const loadedModules = window.__NF_LOADED_MODULES__;\n        if (hydrationData) {\n            this.hydrationData = hydrationData;\n            // Restore import map if available\n            if (hydrationData.importMap) {\n                this.injectHydrationImportMap({ imports: hydrationData.importMap });\n            }\n        }\n        if (loadedModules) {\n            loadedModules.forEach((moduleInfo, moduleId) => {\n                this.ssrModuleCache.set(moduleId, {\n                    ...moduleInfo,\n                    __fromSSR: true\n                });\n            });\n        }\n    }\n    async restoreSSRModules() {\n        if (!this.hydrationData?.loadedModules) {\n            return;\n        }\n        // Process each module that was loaded during SSR\n        for (const moduleInfo of this.hydrationData.loadedModules) {\n            try {\n                // For non-fallback modules, try to establish client-side reference\n                if (!moduleInfo.hydrationData?.fallback) {\n                    const module = await import(moduleInfo.url);\n                    this.ssrModuleCache.set(moduleInfo.id, module);\n                }\n            }\n            catch (error) {\n                console.warn(`[Hydration] Could not restore module ${moduleInfo.id}:`, error);\n            }\n        }\n    }\n    injectHydrationImportMap(importMap) {\n        const existingScript = document.querySelector('script[type=\"importmap\"]');\n        if (existingScript) {\n            // Merge with existing import map\n            const existing = JSON.parse(existingScript.textContent || '{}');\n            const merged = {\n                imports: {\n                    ...existing.imports,\n                    ...importMap.imports\n                }\n            };\n            existingScript.textContent = JSON.stringify(merged);\n        }\n        else {\n            // Create new import map\n            const script = document.createElement('script');\n            script.type = 'importmap';\n            script.textContent = JSON.stringify(importMap);\n            document.head.appendChild(script);\n        }\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: HydrationClient, deps: [{ token: i1.VersionManager }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: HydrationClient, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: HydrationClient, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: i1.VersionManager }] });\n/**\n * Angular-specific hydration utilities\n */\nexport class AngularHydrationUtils {\n    /**\n     * Initialize Native Federation with Angular Universal hydration\n     */\n    static async initializeForAngularSSR(client, manifestPath) {\n        await client.initializeWithHydration(manifestPath);\n        // Wait for Angular hydration to complete before loading remote modules\n        if (window.ng && window.ng.getInjector) {\n            await this.waitForAngularHydration();\n        }\n        return client;\n    }\n    /**\n     * Wait for Angular hydration to complete\n     */\n    static async waitForAngularHydration() {\n        return new Promise((resolve) => {\n            const checkHydration = () => {\n                const appRef = window.ng?.getInjector?.()?.get?.('ApplicationRef');\n                if (appRef && appRef.isStable) {\n                    appRef.isStable.subscribe((stable) => {\n                        if (stable) {\n                            resolve();\n                        }\n                    });\n                }\n                else {\n                    // Fallback: wait a bit and try again\n                    setTimeout(checkHydration, 100);\n                }\n            };\n            checkHydration();\n        });\n    }\n    /**\n     * Create Angular component wrapper that handles SSR/hydration\n     */\n    static createSSRComponent(loader, fallbackTemplate = '<div>Loading...</div>') {\n        return {\n            template: fallbackTemplate,\n            async ngOnInit() {\n                try {\n                    const { default: Component } = await loader();\n                    // Dynamic component loading logic would go here\n                    // This would integrate with Angular's ViewContainerRef\n                }\n                catch (error) {\n                    console.error('Failed to load federated component:', error);\n                }\n            }\n        };\n    }\n}\n/**\n * Universal federation runtime that works in both SSR and client\n */\nexport class UniversalFederationRuntime {\n    hydrationClient;\n    isSSR;\n    constructor(hydrationClient) {\n        this.hydrationClient = hydrationClient;\n        this.isSSR = typeof window === 'undefined';\n    }\n    async initialize(manifestPath) {\n        if (this.isSSR) {\n            // SSR initialization will be handled separately\n            return;\n        }\n        await this.hydrationClient.initializeWithHydration(manifestPath);\n    }\n    async loadRemoteModule(remoteName, modulePath) {\n        if (this.isSSR) {\n            throw new Error('SSR module loading should use SSRModuleLoader directly');\n        }\n        return this.hydrationClient.loadRemoteModule(remoteName, modulePath);\n    }\n    async loadSharedModule(packageName) {\n        return this.hydrationClient.loadSharedModule(packageName);\n    }\n    wasServerRendered(remoteName, modulePath) {\n        if (this.isSSR) {\n            return false;\n        }\n        return this.hydrationClient.wasServerRendered(remoteName, modulePath);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: UniversalFederationRuntime, deps: [{ token: HydrationClient }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: UniversalFederationRuntime, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: UniversalFederationRuntime, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: HydrationClient }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHlkcmF0aW9uLWNsaWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9saWIvcnVudGltZS9oeWRyYXRpb24tY2xpZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRS9DLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQzs7O0FBRW5EOzs7R0FHRztBQUlILE1BQU0sT0FBTyxlQUFnQixTQUFRLFlBQVk7SUFDdkMsYUFBYSxDQUFPO0lBQ3BCLGNBQWMsR0FBRyxJQUFJLEdBQUcsRUFBZSxDQUFDO0lBRWhELFlBQVksY0FBOEI7UUFDeEMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxLQUFLLENBQUMsdUJBQXVCLENBQUMsWUFBcUI7UUFDakQsa0NBQWtDO1FBQ2xDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBRTVCLGdDQUFnQztRQUNoQyxNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFcEMsMkJBQTJCO1FBQzNCLE1BQU0sSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVEOzs7T0FHRztJQUNILEtBQUssQ0FBQyxnQkFBZ0IsQ0FBVSxVQUFrQixFQUFFLFVBQWtCO1FBQ3BFLE1BQU0sUUFBUSxHQUFHLEdBQUcsVUFBVSxHQUFHLFVBQVUsRUFBRSxDQUFDO1FBRTlDLHdDQUF3QztRQUN4QyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDdEMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENB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QUVELE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDeEUsQ0FBQzt3R0FsQ1UsMEJBQTBCOzRHQUExQiwwQkFBMEIsY0FGekIsTUFBTTs7NEZBRVAsMEJBQTBCO2tCQUh0QyxVQUFVO21CQUFDO29CQUNWLFVBQVUsRUFBRSxNQUFNO2lCQUNuQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1vZHVsZUxvYWRlciB9IGZyb20gJy4vbW9kdWxlLWxvYWRlcic7XG5pbXBvcnQgeyBGZWRlcmF0aW9uTWFuaWZlc3QgfSBmcm9tICcuLi90eXBlcy9mZWRlcmF0aW9uJztcbmltcG9ydCB7IFZlcnNpb25NYW5hZ2VyIH0gZnJvbSAnLi92ZXJzaW9uLW1hbmFnZXInO1xuXG4vKipcbiAqIENsaWVudC1zaWRlIGh5ZHJhdGlvbiBzdXBwb3J0IGZvciBTU1JcbiAqIFJlc3VtZXMgZmVkZXJhdGlvbiBzdGF0ZSBmcm9tIHNlcnZlci1yZW5kZXJlZCBjb250ZW50XG4gKi9cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIEh5ZHJhdGlvbkNsaWVudCBleHRlbmRzIE1vZHVsZUxvYWRlciB7XG4gIHByaXZhdGUgaHlkcmF0aW9uRGF0YT86IGFueTtcbiAgcHJpdmF0ZSBzc3JNb2R1bGVDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG5cbiAgY29uc3RydWN0b3IodmVyc2lvbk1hbmFnZXI6IFZlcnNpb25NYW5hZ2VyKSB7XG4gICAgc3VwZXIodmVyc2lvbk1hbmFnZXIpO1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZVdpdGhIeWRyYXRpb24obWFuaWZlc3RQYXRoPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gRXh0cmFjdCBoeWRyYXRpb24gZGF0YSBmcm9tIFNTUlxuICAgIHRoaXMuZXh0cmFjdEh5ZHJhdGlvbkRhdGEoKTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGJhc2UgbW9kdWxlIGxvYWRlclxuICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZShtYW5pZmVzdFBhdGgpO1xuICAgIFxuICAgIC8vIFJlc3RvcmUgU1NSIG1vZHVsZSBjYWNoZVxuICAgIGF3YWl0IHRoaXMucmVzdG9yZVNTUk1vZHVsZXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHJlbW90ZSBtb2R1bGUgd2l0aCBoeWRyYXRpb24gc3VwcG9ydFxuICAgKiBDaGVja3MgU1NSIGNhY2hlIGZpcnN0LCB0aGVuIGZhbGxzIGJhY2sgdG8gbm9ybWFsIGxvYWRpbmdcbiAgICovXG4gIGFzeW5jIGxvYWRSZW1vdGVNb2R1bGU8VCA9IGFueT4ocmVtb3RlTmFtZTogc3RyaW5nLCBtb2R1bGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPFQ+IHtcbiAgICBjb25zdCBtb2R1bGVJZCA9IGAke3JlbW90ZU5hbWV9JHttb2R1bGVQYXRofWA7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgbW9kdWxlIHdhcyBsb2FkZWQgZHVyaW5nIFNTUlxuICAgIGlmICh0aGlzLnNzck1vZHVsZUNhY2hlLmhhcyhtb2R1bGVJZCkpIHtcbiAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuc3NyTW9kdWxlQ2FjaGUuZ2V0KG1vZHVsZUlkKTtcbiAgICAgIFxuICAgICAgLy8gSWYgaXQncyBhIGZhbGxiYWNrLCB0cnkgdG8gbG9hZCB0aGUgcmVhbCBtb2R1bGVcbiAgICAgIGlmIChjYWNoZWQuX19mYWxsYmFjaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBhd2FpdCBzdXBlci5sb2FkUmVtb3RlTW9kdWxlKHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgW0h5ZHJhdGlvbl0gRmFpbGVkIHRvIGxvYWQgcmVhbCBtb2R1bGUsIHVzaW5nIGZhbGxiYWNrOmAsIGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIFxuICAgIC8vIEZhbGwgYmFjayB0byBub3JtYWwgbG9hZGluZ1xuICAgIHJldHVybiBzdXBlci5sb2FkUmVtb3RlTW9kdWxlKHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIG1vZHVsZSB3YXMgc2VydmVyLXJlbmRlcmVkXG4gICAqL1xuICB3YXNTZXJ2ZXJSZW5kZXJlZChyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG1vZHVsZUlkID0gYCR7cmVtb3RlTmFtZX0ke21vZHVsZVBhdGh9YDtcbiAgICByZXR1cm4gdGhpcy5zc3JNb2R1bGVDYWNoZS5oYXMobW9kdWxlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBoeWRyYXRpb24gZGF0YSBmb3IgYSBzcGVjaWZpYyBtb2R1bGVcbiAgICovXG4gIGdldE1vZHVsZUh5ZHJhdGlvbkRhdGEocmVtb3RlTmFtZTogc3RyaW5nLCBtb2R1bGVQYXRoOiBzdHJpbmcpOiBhbnkge1xuICAgIGNvbnN0IG1vZHVsZUlkID0gYCR7cmVtb3RlTmFtZX0ke21vZHVsZVBhdGh9YDtcbiAgICBjb25zdCBjYWNoZWQgPSB0aGlzLnNzck1vZHVsZUNhY2hlLmdldChtb2R1bGVJZCk7XG4gICAgcmV0dXJuIGNhY2hlZD8uaHlkcmF0aW9uRGF0YTtcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdEh5ZHJhdGlvbkRhdGEoKTogdm9pZCB7XG4gICAgLy8gRXh0cmFjdCBoeWRyYXRpb24gZGF0YSBpbmplY3RlZCBieSBTU1JcbiAgICBjb25zdCBoeWRyYXRpb25EYXRhID0gKHdpbmRvdyBhcyBhbnkpLl9fTkZfSFlEUkFUSU9OX187XG4gICAgY29uc3QgbG9hZGVkTW9kdWxlcyA9ICh3aW5kb3cgYXMgYW55KS5fX05GX0xPQURFRF9NT0RVTEVTX187XG4gICAgXG4gICAgaWYgKGh5ZHJhdGlvbkRhdGEpIHtcbiAgICAgIHRoaXMuaHlkcmF0aW9uRGF0YSA9IGh5ZHJhdGlvbkRhdGE7XG4gICAgICBcbiAgICAgIC8vIFJlc3RvcmUgaW1wb3J0IG1hcCBpZiBhdmFpbGFibGVcbiAgICAgIGlmIChoeWRyYXRpb25EYXRhLmltcG9ydE1hcCkge1xuICAgICAgICB0aGlzLmluamVjdEh5ZHJhdGlvbkltcG9ydE1hcCh7IGltcG9ydHM6IGh5ZHJhdGlvbkRhdGEuaW1wb3J0TWFwIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAobG9hZGVkTW9kdWxlcykge1xuICAgICAgbG9hZGVkTW9kdWxlcy5mb3JFYWNoKChtb2R1bGVJbmZvOiBhbnksIG1vZHVsZUlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgdGhpcy5zc3JNb2R1bGVDYWNoZS5zZXQobW9kdWxlSWQsIHtcbiAgICAgICAgICAuLi5tb2R1bGVJbmZvLFxuICAgICAgICAgIF9fZnJvbVNTUjogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzdG9yZVNTUk1vZHVsZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmh5ZHJhdGlvbkRhdGE/LmxvYWRlZE1vZHVsZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIGVhY2ggbW9kdWxlIHRoYXQgd2FzIGxvYWRlZCBkdXJpbmcgU1NSXG4gICAgZm9yIChjb25zdCBtb2R1bGVJbmZvIG9mIHRoaXMuaHlkcmF0aW9uRGF0YS5sb2FkZWRNb2R1bGVzKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBGb3Igbm9uLWZhbGxiYWNrIG1vZHVsZXMsIHRyeSB0byBlc3RhYmxpc2ggY2xpZW50LXNpZGUgcmVmZXJlbmNlXG4gICAgICAgIGlmICghbW9kdWxlSW5mby5oeWRyYXRpb25EYXRhPy5mYWxsYmFjaykge1xuICAgICAgICAgIGNvbnN0IG1vZHVsZSA9IGF3YWl0IGltcG9ydChtb2R1bGVJbmZvLnVybCk7XG4gICAgICAgICAgdGhpcy5zc3JNb2R1bGVDYWNoZS5zZXQobW9kdWxlSW5mby5pZCwgbW9kdWxlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBbSHlkcmF0aW9uXSBDb3VsZCBub3QgcmVzdG9yZSBtb2R1bGUgJHttb2R1bGVJbmZvLmlkfTpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpbmplY3RIeWRyYXRpb25JbXBvcnRNYXAoaW1wb3J0TWFwOiBhbnkpOiB2b2lkIHtcbiAgICBjb25zdCBleGlzdGluZ1NjcmlwdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFt0eXBlPVwiaW1wb3J0bWFwXCJdJyk7XG4gICAgaWYgKGV4aXN0aW5nU2NyaXB0KSB7XG4gICAgICAvLyBNZXJnZSB3aXRoIGV4aXN0aW5nIGltcG9ydCBtYXBcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gSlNPTi5wYXJzZShleGlzdGluZ1NjcmlwdC50ZXh0Q29udGVudCB8fCAne30nKTtcbiAgICAgIGNvbnN0IG1lcmdlZCA9IHtcbiAgICAgICAgaW1wb3J0czoge1xuICAgICAgICAgIC4uLmV4aXN0aW5nLmltcG9ydHMsXG4gICAgICAgICAgLi4uaW1wb3J0TWFwLmltcG9ydHNcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGV4aXN0aW5nU2NyaXB0LnRleHRDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkobWVyZ2VkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JlYXRlIG5ldyBpbXBvcnQgbWFwXG4gICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgIHNjcmlwdC50eXBlID0gJ2ltcG9ydG1hcCc7XG4gICAgICBzY3JpcHQudGV4dENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShpbXBvcnRNYXApO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFuZ3VsYXItc3BlY2lmaWMgaHlkcmF0aW9uIHV0aWxpdGllc1xuICovXG5leHBvcnQgY2xhc3MgQW5ndWxhckh5ZHJhdGlvblV0aWxzIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgTmF0aXZlIEZlZGVyYXRpb24gd2l0aCBBbmd1bGFyIFVuaXZlcnNhbCBoeWRyYXRpb25cbiAgICovXG4gIHN0YXRpYyBhc3luYyBpbml0aWFsaXplRm9yQW5ndWxhclNTUihcbiAgICBjbGllbnQ6IEh5ZHJhdGlvbkNsaWVudCxcbiAgICBtYW5pZmVzdFBhdGg/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxIeWRyYXRpb25DbGllbnQ+IHtcbiAgICBhd2FpdCBjbGllbnQuaW5pdGlhbGl6ZVdpdGhIeWRyYXRpb24obWFuaWZlc3RQYXRoKTtcbiAgICBcbiAgICAvLyBXYWl0IGZvciBBbmd1bGFyIGh5ZHJhdGlvbiB0byBjb21wbGV0ZSBiZWZvcmUgbG9hZGluZyByZW1vdGUgbW9kdWxlc1xuICAgIGlmICgod2luZG93IGFzIGFueSkubmcgJiYgKHdpbmRvdyBhcyBhbnkpLm5nLmdldEluamVjdG9yKSB7XG4gICAgICBhd2FpdCB0aGlzLndhaXRGb3JBbmd1bGFySHlkcmF0aW9uKCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBjbGllbnQ7XG4gIH1cblxuICAvKipcbiAgICogV2FpdCBmb3IgQW5ndWxhciBoeWRyYXRpb24gdG8gY29tcGxldGVcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGFzeW5jIHdhaXRGb3JBbmd1bGFySHlkcmF0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3QgY2hlY2tIeWRyYXRpb24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFwcFJlZiA9ICh3aW5kb3cgYXMgYW55KS5uZz8uZ2V0SW5qZWN0b3I/LigpPy5nZXQ/LignQXBwbGljYXRpb25SZWYnKTtcbiAgICAgICAgaWYgKGFwcFJlZiAmJiBhcHBSZWYuaXNTdGFibGUpIHtcbiAgICAgICAgICBhcHBSZWYuaXNTdGFibGUuc3Vic2NyaWJlKChzdGFibGU6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgIGlmIChzdGFibGUpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZhbGxiYWNrOiB3YWl0IGEgYml0IGFuZCB0cnkgYWdhaW5cbiAgICAgICAgICBzZXRUaW1lb3V0KGNoZWNrSHlkcmF0aW9uLCAxMDApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjaGVja0h5ZHJhdGlvbigpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBBbmd1bGFyIGNvbXBvbmVudCB3cmFwcGVyIHRoYXQgaGFuZGxlcyBTU1IvaHlkcmF0aW9uXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlU1NSQ29tcG9uZW50PFQ+KFxuICAgIGxvYWRlcjogKCkgPT4gUHJvbWlzZTx7IGRlZmF1bHQ6IFQgfT4sXG4gICAgZmFsbGJhY2tUZW1wbGF0ZTogc3RyaW5nID0gJzxkaXY+TG9hZGluZy4uLjwvZGl2PidcbiAgKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRlbXBsYXRlOiBmYWxsYmFja1RlbXBsYXRlLFxuICAgICAgYXN5bmMgbmdPbkluaXQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgeyBkZWZhdWx0OiBDb21wb25lbnQgfSA9IGF3YWl0IGxvYWRlcigpO1xuICAgICAgICAgIC8vIER5bmFtaWMgY29tcG9uZW50IGxvYWRpbmcgbG9naWMgd291bGQgZ28gaGVyZVxuICAgICAgICAgIC8vIFRoaXMgd291bGQgaW50ZWdyYXRlIHdpdGggQW5ndWxhcidzIFZpZXdDb250YWluZXJSZWZcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBmZWRlcmF0ZWQgY29tcG9uZW50OicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBVbml2ZXJzYWwgZmVkZXJhdGlvbiBydW50aW1lIHRoYXQgd29ya3MgaW4gYm90aCBTU1IgYW5kIGNsaWVudFxuICovXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBVbml2ZXJzYWxGZWRlcmF0aW9uUnVudGltZSB7XG4gIHByaXZhdGUgaXNTU1I6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBoeWRyYXRpb25DbGllbnQ6IEh5ZHJhdGlvbkNsaWVudCkge1xuICAgIHRoaXMuaXNTU1IgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJztcbiAgfVxuXG4gIGFzeW5jIGluaXRpYWxpemUobWFuaWZlc3RQYXRoPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuaXNTU1IpIHtcbiAgICAgIC8vIFNTUiBpbml0aWFsaXphdGlvbiB3aWxsIGJlIGhhbmRsZWQgc2VwYXJhdGVseVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBhd2FpdCB0aGlzLmh5ZHJhdGlvbkNsaWVudC5pbml0aWFsaXplV2l0aEh5ZHJhdGlvbihtYW5pZmVzdFBhdGgpO1xuICB9XG5cbiAgYXN5bmMgbG9hZFJlbW90ZU1vZHVsZTxUID0gYW55PihyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8VD4ge1xuICAgIGlmICh0aGlzLmlzU1NSKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NTUiBtb2R1bGUgbG9hZGluZyBzaG91bGQgdXNlIFNTUk1vZHVsZUxvYWRlciBkaXJlY3RseScpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdGhpcy5oeWRyYXRpb25DbGllbnQubG9hZFJlbW90ZU1vZHVsZShyZW1vdGVOYW1lLCBtb2R1bGVQYXRoKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWRTaGFyZWRNb2R1bGU8VCA9IGFueT4ocGFja2FnZU5hbWU6IHN0cmluZyk6IFByb21pc2U8VD4ge1xuICAgIHJldHVybiB0aGlzLmh5ZHJhdGlvbkNsaWVudC5sb2FkU2hhcmVkTW9kdWxlKHBhY2thZ2VOYW1lKTtcbiAgfVxuXG4gIHdhc1NlcnZlclJlbmRlcmVkKHJlbW90ZU5hbWU6IHN0cmluZywgbW9kdWxlUGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaXNTU1IpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRoaXMuaHlkcmF0aW9uQ2xpZW50Lndhc1NlcnZlclJlbmRlcmVkKHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpO1xuICB9XG59Il19","originalSourcemap":{"version":3,"file":"hydration-client.js","sourceRoot":"","sources":["../../../../../projects/native-federation/src/lib/runtime/hydration-client.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[19,0,0,19],[21,0,0,21],[27,0,0,27],[42,0,0,42],[43,0,0,43]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[21,0,1,21],[23,0,1,23],[29,0,1,29],[46,0,1,46],[47,0,1,47]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[23,0,3,23],[25,0,3,25],[31,0,3,31],[50,0,3,50],[51,0,3,51]],[],[],[[0,0,5,0]],[],[],[[3,0,8,3]],[[0,0,12,0],[6,0,12,6],[13,0,12,13],[28,0,12,29],[37,0,12,37],[49,0,12,49]],[[4,0,13,10],[17,0,13,23],[18,0,13,30]],[[4,0,14,10],[18,0,14,24],[21,0,14,27],[25,0,14,31],[28,0,14,34],[30,0,14,49],[31,0,14,50]],[[4,0,16,2],[16,0,16,14],[30,0,16,44]],[[8,0,17,4],[13,0,17,9],[14,0,17,10],[28,0,17,24],[29,0,17,25],[30,0,17,26]],[[4,0,18,2],[5,0,18,3]],[[4,0,20,2],[9,0,20,7],[10,0,20,8],[33,0,20,31],[34,0,20,32],[46,0,20,53]],[[8,0,21,4],[42,0,21,38]],[[8,0,22,4],[12,0,22,8],[13,0,22,9],[33,0,22,29],[35,0,22,31],[36,0,22,32]],[[8,0,24,4],[40,0,24,36]],[[8,0,25,4],[14,0,25,10],[18,0,25,14],[19,0,25,15],[29,0,25,25],[30,0,25,26],[42,0,25,38],[43,0,25,39],[44,0,25,40]],[[8,0,27,4],[35,0,27,31]],[[8,0,28,4],[14,0,28,10],[18,0,28,14],[19,0,28,15],[36,0,28,32],[38,0,28,34],[39,0,28,35]],[[4,0,29,2],[5,0,29,3]],[[4,0,31,2]],[],[],[[7,0,34,5]],[[4,0,35,2],[9,0,35,7],[10,0,35,8],[26,0,35,24],[27,0,35,34],[37,0,35,52],[39,0,35,54],[49,0,35,72]],[[8,0,36,4],[14,0,36,10],[22,0,36,18],[25,0,36,21],[28,0,36,24],[38,0,36,34],[41,0,36,37],[51,0,36,47],[53,0,36,49],[54,0,36,50]],[[8,0,38,4],[48,0,38,44]],[[8,0,39,4],[12,0,39,8],[16,0,39,12],[17,0,39,13],[31,0,39,27],[32,0,39,28],[35,0,39,31],[36,0,39,32],[44,0,39,40],[45,0,39,41],[47,0,39,43],[48,0,39,44]],[[12,0,40,6],[18,0,40,12],[24,0,40,18],[27,0,40,21],[31,0,40,25],[32,0,40,26],[46,0,40,40],[47,0,40,41],[50,0,40,44],[51,0,40,45],[59,0,40,53],[60,0,40,54],[61,0,40,55]],[[12,0,42,6],[62,0,42,56]],[[12,0,43,6],[16,0,43,10],[22,0,43,16],[23,0,43,17],[33,0,43,27],[35,0,43,29],[36,0,43,30]],[[16,0,44,8],[20,0,44,12],[21,0,44,13]],[[20,0,45,10],[27,0,45,17],[33,0,45,23],[38,0,45,28],[39,0,45,29],[55,0,45,45],[56,0,45,46],[66,0,45,56],[68,0,45,58],[78,0,45,68],[79,0,45,69],[80,0,45,70]],[[16,0,46,8],[17,0,46,9]],[[16,0,46,10],[23,0,46,17],[28,0,46,22],[30,0,46,24],[31,0,46,25]],[[20,0,47,10],[27,0,47,17],[28,0,47,18],[32,0,47,22],[33,0,47,23],[90,0,47,80],[92,0,47,82],[97,0,47,87],[98,0,47,88],[99,0,47,89]],[[20,0,48,10],[27,0,48,17],[33,0,48,23],[34,0,48,24]],[[16,0,49,8],[17,0,49,9]],[[12,0,50,6],[13,0,50,7]],[[12,0,52,6],[19,0,52,13],[25,0,52,19],[26,0,52,20]],[[8,0,53,4],[9,0,53,5]],[[8,0,55,4],[38,0,55,34]],[[8,0,56,4],[15,0,56,11],[20,0,56,16],[21,0,56,17],[37,0,56,33],[38,0,56,34],[48,0,56,44],[50,0,56,46],[60,0,56,56],[61,0,56,57],[62,0,56,58]],[[4,0,57,2],[5,0,57,3]],[[4,0,59,2]],[],[[7,0,61,5]],[[4,0,62,2],[21,0,62,19],[22,0,62,20],[32,0,62,38],[34,0,62,40],[44,0,62,58]],[[8,0,63,4],[14,0,63,10],[22,0,63,18],[25,0,63,21],[28,0,63,24],[38,0,63,34],[41,0,63,37],[51,0,63,47],[53,0,63,49],[54,0,63,50]],[[8,0,64,4],[15,0,64,11],[19,0,64,15],[20,0,64,16],[34,0,64,30],[35,0,64,31],[38,0,64,34],[39,0,64,35],[47,0,64,43],[48,0,64,44],[49,0,64,45]],[[4,0,65,2],[5,0,65,3]],[[4,0,67,2]],[],[[7,0,69,5]],[[4,0,70,2],[26,0,70,24],[27,0,70,25],[37,0,70,43],[39,0,70,45],[49,0,70,63]],[[8,0,71,4],[14,0,71,10],[22,0,71,18],[25,0,71,21],[28,0,71,24],[38,0,71,34],[41,0,71,37],[51,0,71,47],[53,0,71,49],[54,0,71,50]],[[8,0,72,4],[14,0,72,10],[20,0,72,16],[23,0,72,19],[27,0,72,23],[28,0,72,24],[42,0,72,38],[43,0,72,39],[46,0,72,42],[47,0,72,43],[55,0,72,51],[56,0,72,52],[57,0,72,53]],[[8,0,73,4],[15,0,73,11],[21,0,73,17],[23,0,73,19],[36,0,73,32],[37,0,73,33]],[[4,0,74,2],[5,0,74,3]],[[4,0,76,10],[24,0,76,30]],[[8,0,77,4],[49,0,77,45]],[[8,0,78,4],[14,0,78,10],[27,0,78,23],[30,0,78,27],[36,0,78,41],[37,0,78,42],[53,0,78,58],[54,0,78,59]],[[8,0,79,4],[14,0,79,10],[27,0,79,23],[30,0,79,27],[36,0,79,41],[37,0,79,42],[58,0,79,63],[59,0,79,64]],[[8,0,81,4],[12,0,81,8],[25,0,81,21],[27,0,81,23],[28,0,81,24]],[[12,0,82,6],[16,0,82,10],[17,0,82,11],[30,0,82,24],[33,0,82,27],[46,0,82,40],[47,0,82,41]],[[12,0,84,6],[46,0,84,40]],[[12,0,85,6],[16,0,85,10],[29,0,85,23],[30,0,85,24],[39,0,85,33],[41,0,85,35],[42,0,85,36]],[[16,0,86,8],[20,0,86,12],[21,0,86,13],[45,0,86,37],[46,0,86,38],[48,0,86,40],[55,0,86,47],[57,0,86,49],[70,0,86,62],[71,0,86,63],[80,0,86,72],[82,0,86,74],[83,0,86,75],[84,0,86,76]],[[12,0,87,6],[13,0,87,7]],[[8,0,88,4],[9,0,88,5]],[[8,0,90,4],[12,0,90,8],[25,0,90,21],[27,0,90,23],[28,0,90,24]],[[12,0,91,6],[25,0,91,19],[26,0,91,20],[33,0,91,27],[34,0,91,28],[35,0,91,29],[45,0,91,44],[47,0,91,46],[55,0,91,62],[57,0,91,64],[59,0,91,66]],[[16,0,92,8],[20,0,92,12],[21,0,92,13],[35,0,92,27],[36,0,92,28],[39,0,92,31],[40,0,92,32],[48,0,92,40],[50,0,92,42]],[[20,0,93,10],[23,0,93,13],[33,0,93,23]],[[20,0,94,10],[29,0,94,19],[31,0,94,21],[35,0,94,25]],[[17,0,95,9],[18,0,95,10],[19,0,95,11]],[[12,0,96,6],[13,0,96,7],[14,0,96,8],[15,0,96,9]],[[8,0,97,4],[9,0,97,5]],[[4,0,98,2],[5,0,98,3]],[[4,0,100,10],[9,0,100,15],[10,0,100,16],[27,0,100,33]],[[8,0,101,4],[12,0,101,8],[13,0,101,9],[17,0,101,13],[18,0,101,14],[31,0,101,27],[33,0,101,29],[46,0,101,42],[48,0,101,44],[49,0,101,45]],[[12,0,102,6],[19,0,102,13]],[[8,0,103,4],[9,0,103,5]],[[8,0,105,4],[57,0,105,53]],[[8,0,106,4],[13,0,106,9],[19,0,106,15],[29,0,106,25],[33,0,106,29],[37,0,106,33],[38,0,106,34],[51,0,106,47],[52,0,106,48],[65,0,106,61],[67,0,106,63],[68,0,106,64]],[[12,0,107,6],[16,0,107,10],[17,0,107,11]],[[16,0,108,8],[83,0,108,75]],[[16,0,109,8],[20,0,109,12],[21,0,109,13],[31,0,109,23],[32,0,109,24],[45,0,109,37],[47,0,109,39],[55,0,109,47],[57,0,109,49],[58,0,109,50]],[[20,0,110,10],[26,0,110,16],[32,0,110,22],[35,0,110,25],[41,0,110,31],[47,0,110,37],[48,0,110,38],[58,0,110,48],[59,0,110,49],[62,0,110,52],[63,0,110,53],[64,0,110,54]],[[20,0,111,10],[24,0,111,14],[25,0,111,15],[39,0,111,29],[40,0,111,30],[43,0,111,33],[44,0,111,34],[54,0,111,44],[55,0,111,45],[57,0,111,47],[59,0,111,49],[65,0,111,55],[66,0,111,56],[67,0,111,57]],[[16,0,112,8],[17,0,112,9]],[[12,0,113,6],[13,0,113,7]],[[12,0,113,8],[19,0,113,15],[24,0,113,20],[26,0,113,22],[27,0,113,23]],[[16,0,114,8],[23,0,114,15],[24,0,114,16],[28,0,114,20],[29,0,114,21],[69,0,114,61],[79,0,114,71],[80,0,114,72],[82,0,114,74],[85,0,114,77],[87,0,114,79],[92,0,114,84],[93,0,114,85],[94,0,114,86]],[[12,0,115,6],[13,0,115,7]],[[8,0,116,4],[9,0,116,5]],[[4,0,117,2],[5,0,117,3]],[[4,0,119,10],[28,0,119,34],[29,0,119,35],[38,0,119,49]],[[8,0,120,4],[14,0,120,10],[28,0,120,24],[31,0,120,27],[39,0,120,35],[40,0,120,36],[53,0,120,49],[54,0,120,50],[80,0,120,76],[81,0,120,77],[82,0,120,78]],[[8,0,121,4],[12,0,121,8],[26,0,121,22],[28,0,121,24],[29,0,121,25]],[[12,0,122,6],[45,0,122,39]],[[12,0,123,6],[18,0,123,12],[26,0,123,20],[29,0,123,23],[33,0,123,27],[34,0,123,28],[39,0,123,33],[40,0,123,34],[54,0,123,48],[55,0,123,49],[66,0,123,60],[70,0,123,64],[74,0,123,68],[75,0,123,69],[76,0,123,70]],[[12,0,124,6],[18,0,124,12],[24,0,124,18],[27,0,124,21]],[[16,0,125,8],[23,0,125,15],[25,0,125,17]],[[20,0,126,10],[23,0,126,13],[31,0,126,21],[32,0,126,22],[39,0,126,29]],[[20,0,127,10],[23,0,127,13],[32,0,127,22],[33,0,127,23],[40,0,127,30]],[[17,0,128,9]],[[13,0,129,7],[14,0,129,8]],[[12,0,130,6],[26,0,130,20],[27,0,130,21],[38,0,130,32],[41,0,130,35],[45,0,130,39],[46,0,130,40],[55,0,130,49],[56,0,130,50],[62,0,130,56],[63,0,130,57],[64,0,130,58]],[[8,0,131,4],[9,0,131,5]],[[13,0,131,11],[14,0,131,12]],[[12,0,132,6],[36,0,132,30]],[[12,0,133,6],[18,0,133,12],[24,0,133,18],[27,0,133,21],[35,0,133,29],[36,0,133,30],[49,0,133,43],[50,0,133,44],[58,0,133,52],[59,0,133,53],[60,0,133,54]],[[12,0,134,6],[18,0,134,12],[19,0,134,13],[23,0,134,17],[26,0,134,20],[37,0,134,31],[38,0,134,32]],[[12,0,135,6],[18,0,135,12],[19,0,135,13],[30,0,135,24],[33,0,135,27],[37,0,135,31],[38,0,135,32],[47,0,135,41],[48,0,135,42],[57,0,135,51],[58,0,135,52],[59,0,135,53]],[[12,0,136,6],[20,0,136,14],[21,0,136,15],[25,0,136,19],[26,0,136,20],[37,0,136,31],[38,0,136,32],[44,0,136,38],[45,0,136,39],[46,0,136,40]],[[8,0,137,4],[9,0,137,5]],[[4,0,138,2],[5,0,138,3]],[[104,0,12,13],[119,0,12,28]],[[108,0,12,13],[123,0,12,28],[137,0,10,14],[143,0,10,20]],[],[[92,0,12,13],[107,0,12,28]],[[18,0,9,1],[28,0,9,11]],[[19,0,9,12]],[[20,0,10,2],[30,0,10,12],[32,0,10,14],[38,0,10,20]],[[17,0,11,1]],[],[[0,0,141,0]],[],[[3,0,143,3]],[[0,0,144,0],[6,0,144,6],[13,0,144,13],[34,0,144,34]],[[4,0,145,2]],[],[[7,0,147,5]],[[4,0,148,2],[10,0,148,8],[11,0,148,9],[16,0,148,14],[17,0,148,15],[40,0,148,38],[41,0,149,4],[47,0,149,27],[49,0,150,4],[61,0,150,25]],[[8,0,152,4],[14,0,152,10],[20,0,152,16],[21,0,152,17],[44,0,152,40],[45,0,152,41],[57,0,152,53],[58,0,152,54],[59,0,152,55]],[[8,0,154,4],[79,0,154,75]],[[8,0,155,4],[12,0,155,9],[18,0,155,23],[19,0,155,24],[21,0,155,26],[25,0,155,31],[31,0,155,45],[32,0,155,46],[34,0,155,48],[35,0,155,49],[46,0,155,60],[48,0,155,62],[49,0,155,63]],[[12,0,156,6],[18,0,156,12],[22,0,156,16],[23,0,156,17],[46,0,156,40],[48,0,156,42],[49,0,156,43]],[[8,0,157,4],[9,0,157,5]],[[8,0,159,4],[15,0,159,11],[21,0,159,17],[22,0,159,18]],[[4,0,160,2],[5,0,160,3]],[[4,0,162,2]],[],[[7,0,164,5]],[[4,0,165,10],[10,0,165,16],[11,0,165,17],[16,0,165,22],[17,0,165,23],[40,0,165,46]],[[8,0,166,4],[15,0,166,11],[19,0,166,15],[26,0,166,22],[27,0,166,23],[28,0,166,24],[35,0,166,31],[37,0,166,33],[39,0,166,35]],[[12,0,167,6],[18,0,167,12],[32,0,167,26],[35,0,167,29],[38,0,167,32],[40,0,167,34]],[[16,0,168,8],[22,0,168,14],[28,0,168,20],[31,0,168,24],[37,0,168,38],[38,0,168,39],[40,0,168,41],[42,0,168,43],[53,0,168,54],[55,0,168,56],[57,0,168,58],[59,0,168,60],[62,0,168,63],[64,0,168,65],[65,0,168,66],[81,0,168,82],[82,0,168,83],[83,0,168,84]],[[16,0,169,8],[20,0,169,12],[26,0,169,18],[30,0,169,22],[36,0,169,28],[37,0,169,29],[45,0,169,37],[47,0,169,39],[48,0,169,40]],[[20,0,170,10],[26,0,170,16],[27,0,170,17],[35,0,170,25],[36,0,170,26],[45,0,170,35],[46,0,170,36],[47,0,170,37],[53,0,170,52],[55,0,170,54],[57,0,170,56]],[[24,0,171,12],[28,0,171,16],[34,0,171,22],[36,0,171,24],[37,0,171,25]],[[28,0,172,14],[35,0,172,21],[37,0,172,23],[38,0,172,24]],[[24,0,173,12],[25,0,173,13]],[[20,0,174,10],[21,0,174,11],[22,0,174,12],[23,0,174,13]],[[16,0,175,8],[17,0,175,9]],[[21,0,175,15],[22,0,175,16]],[[20,0,176,10],[57,0,176,47]],[[20,0,177,10],[30,0,177,20],[31,0,177,21],[45,0,177,35],[47,0,177,37],[50,0,177,40],[51,0,177,41],[52,0,177,42]],[[16,0,178,8],[17,0,178,9]],[[12,0,179,6],[13,0,179,7],[14,0,179,8]],[[12,0,181,6],[26,0,181,20],[28,0,181,22],[29,0,181,23]],[[8,0,182,4],[9,0,182,5],[10,0,182,6],[11,0,182,7]],[[4,0,183,2],[5,0,183,3]],[[4,0,185,2]],[],[[7,0,187,5]],[[4,0,188,2],[10,0,188,8],[11,0,188,9],[29,0,188,27],[30,0,189,4],[36,0,189,41],[38,0,190,4],[57,0,190,31],[80,0,190,54]],[[8,0,192,4],[15,0,192,11]],[[12,0,193,6],[20,0,193,14],[22,0,193,16],[38,0,193,32]],[[12,0,194,6],[17,0,194,11],[18,0,194,12],[26,0,194,20]],[[16,0,195,8],[20,0,195,12],[21,0,195,13]],[[20,0,196,10],[26,0,196,16],[28,0,196,18],[35,0,196,25],[37,0,196,27],[46,0,196,36],[48,0,196,38],[51,0,196,41],[57,0,196,47],[63,0,196,53],[65,0,196,55],[66,0,196,56]],[[20,0,197,10],[68,0,197,58]],[[20,0,198,10],[75,0,198,65]],[[16,0,199,8],[17,0,199,9]],[[16,0,199,10],[23,0,199,17],[28,0,199,22],[30,0,199,24],[31,0,199,25]],[[20,0,200,10],[27,0,200,17],[28,0,200,18],[33,0,200,23],[34,0,200,24],[71,0,200,61],[73,0,200,63],[78,0,200,68],[79,0,200,69],[80,0,200,70]],[[16,0,201,8],[17,0,201,9]],[[12,0,202,6],[13,0,202,7]],[[9,0,203,5],[10,0,203,6]],[[4,0,204,2],[5,0,204,3]],[[1,0,205,1]],[[0,0,207,0]],[],[[3,0,209,3]],[[0,0,213,0],[6,0,213,6],[13,0,213,13],[39,0,213,39]],[[4,0,216,22]],[[4,0,214,10],[9,0,214,15],[10,0,214,25]],[[4,0,216,2],[16,0,216,22],[31,0,216,54]],[[8,0,216,22],[28,0,216,37],[31,0,216,22],[46,0,216,37],[47,0,216,54]],[[8,0,217,4],[12,0,217,8],[13,0,217,9],[18,0,217,14],[21,0,217,17],[28,0,217,24],[34,0,217,30],[39,0,217,35],[50,0,217,46],[51,0,217,47]],[[4,0,218,2],[5,0,218,3]],[[4,0,220,2],[9,0,220,7],[10,0,220,8],[20,0,220,18],[21,0,220,19],[33,0,220,40]],[[8,0,221,4],[12,0,221,8],[16,0,221,12],[17,0,221,13],[22,0,221,18],[24,0,221,20],[25,0,221,21]],[[12,0,222,6],[60,0,222,54]],[[12,0,223,6],[19,0,223,13]],[[8,0,224,4],[9,0,224,5]],[[8,0,226,4],[14,0,226,10],[18,0,226,14],[19,0,226,15],[34,0,226,30],[35,0,226,31],[58,0,226,54],[59,0,226,55],[71,0,226,67],[72,0,226,68],[73,0,226,69]],[[4,0,227,2],[5,0,227,3]],[[4,0,229,2],[9,0,229,7],[10,0,229,8],[26,0,229,24],[27,0,229,34],[37,0,229,52],[39,0,229,54],[49,0,229,72]],[[8,0,230,4],[12,0,230,8],[16,0,230,12],[17,0,230,13],[22,0,230,18],[24,0,230,20],[25,0,230,21]],[[12,0,231,6],[18,0,231,12],[22,0,231,16],[27,0,231,21],[28,0,231,22],[84,0,231,78],[85,0,231,79],[86,0,231,80]],[[8,0,232,4],[9,0,232,5]],[[8,0,234,4],[15,0,234,11],[19,0,234,15],[20,0,234,16],[35,0,234,31],[36,0,234,32],[52,0,234,48],[53,0,234,49],[63,0,234,59],[65,0,234,61],[75,0,234,71],[76,0,234,72],[77,0,234,73]],[[4,0,235,2],[5,0,235,3]],[[4,0,237,2],[9,0,237,7],[10,0,237,8],[26,0,237,24],[27,0,237,34],[38,0,237,53]],[[8,0,238,4],[15,0,238,11],[19,0,238,15],[20,0,238,16],[35,0,238,31],[36,0,238,32],[52,0,238,48],[53,0,238,49],[64,0,238,60],[65,0,238,61],[66,0,238,62]],[[4,0,239,2],[5,0,239,3]],[[4,0,241,2],[21,0,241,19],[22,0,241,20],[32,0,241,38],[34,0,241,40],[44,0,241,58]],[[8,0,242,4],[12,0,242,8],[16,0,242,12],[17,0,242,13],[22,0,242,18],[24,0,242,20],[25,0,242,21]],[[12,0,243,6],[19,0,243,13],[24,0,243,18],[25,0,243,19]],[[8,0,244,4],[9,0,244,5]],[[8,0,246,4],[15,0,246,11],[19,0,246,15],[20,0,246,16],[35,0,246,31],[36,0,246,32],[53,0,246,49],[54,0,246,50],[64,0,246,60],[66,0,246,62],[76,0,246,72],[77,0,246,73],[78,0,246,74]],[[4,0,247,2],[5,0,247,3]],[[104,0,213,13],[130,0,213,39]],[[108,0,213,13],[134,0,213,39],[148,0,211,14],[154,0,211,20]],[],[[92,0,213,13],[118,0,213,39]],[[18,0,210,1],[28,0,210,11]],[[19,0,210,12]],[[20,0,211,2],[30,0,211,12],[32,0,211,14],[38,0,211,20]],[[17,0,212,1]]],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { ModuleLoader } from './module-loader';\nimport { FederationManifest } from '../types/federation';\nimport { VersionManager } from './version-manager';\n\n/**\n * Client-side hydration support for SSR\n * Resumes federation state from server-rendered content\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class HydrationClient extends ModuleLoader {\n  private hydrationData?: any;\n  private ssrModuleCache = new Map<string, any>();\n\n  constructor(versionManager: VersionManager) {\n    super(versionManager);\n  }\n\n  async initializeWithHydration(manifestPath?: string): Promise<void> {\n    // Extract hydration data from SSR\n    this.extractHydrationData();\n    \n    // Initialize base module loader\n    await this.initialize(manifestPath);\n    \n    // Restore SSR module cache\n    await this.restoreSSRModules();\n  }\n\n  /**\n   * Load remote module with hydration support\n   * Checks SSR cache first, then falls back to normal loading\n   */\n  async loadRemoteModule<T = any>(remoteName: string, modulePath: string): Promise<T> {\n    const moduleId = `${remoteName}${modulePath}`;\n    \n    // Check if module was loaded during SSR\n    if (this.ssrModuleCache.has(moduleId)) {\n      const cached = this.ssrModuleCache.get(moduleId);\n      \n      // If it's a fallback, try to load the real module\n      if (cached.__fallback) {\n        try {\n          return await super.loadRemoteModule(remoteName, modulePath);\n        } catch (error) {\n          console.warn(`[Hydration] Failed to load real module, using fallback:`, error);\n          return cached;\n        }\n      }\n      \n      return cached;\n    }\n    \n    // Fall back to normal loading\n    return super.loadRemoteModule(remoteName, modulePath);\n  }\n\n  /**\n   * Check if module was server-rendered\n   */\n  wasServerRendered(remoteName: string, modulePath: string): boolean {\n    const moduleId = `${remoteName}${modulePath}`;\n    return this.ssrModuleCache.has(moduleId);\n  }\n\n  /**\n   * Get hydration data for a specific module\n   */\n  getModuleHydrationData(remoteName: string, modulePath: string): any {\n    const moduleId = `${remoteName}${modulePath}`;\n    const cached = this.ssrModuleCache.get(moduleId);\n    return cached?.hydrationData;\n  }\n\n  private extractHydrationData(): void {\n    // Extract hydration data injected by SSR\n    const hydrationData = (window as any).__NF_HYDRATION__;\n    const loadedModules = (window as any).__NF_LOADED_MODULES__;\n    \n    if (hydrationData) {\n      this.hydrationData = hydrationData;\n      \n      // Restore import map if available\n      if (hydrationData.importMap) {\n        this.injectHydrationImportMap({ imports: hydrationData.importMap });\n      }\n    }\n    \n    if (loadedModules) {\n      loadedModules.forEach((moduleInfo: any, moduleId: string) => {\n        this.ssrModuleCache.set(moduleId, {\n          ...moduleInfo,\n          __fromSSR: true\n        });\n      });\n    }\n  }\n\n  private async restoreSSRModules(): Promise<void> {\n    if (!this.hydrationData?.loadedModules) {\n      return;\n    }\n\n    // Process each module that was loaded during SSR\n    for (const moduleInfo of this.hydrationData.loadedModules) {\n      try {\n        // For non-fallback modules, try to establish client-side reference\n        if (!moduleInfo.hydrationData?.fallback) {\n          const module = await import(moduleInfo.url);\n          this.ssrModuleCache.set(moduleInfo.id, module);\n        }\n      } catch (error) {\n        console.warn(`[Hydration] Could not restore module ${moduleInfo.id}:`, error);\n      }\n    }\n  }\n\n  private injectHydrationImportMap(importMap: any): void {\n    const existingScript = document.querySelector('script[type=\"importmap\"]');\n    if (existingScript) {\n      // Merge with existing import map\n      const existing = JSON.parse(existingScript.textContent || '{}');\n      const merged = {\n        imports: {\n          ...existing.imports,\n          ...importMap.imports\n        }\n      };\n      existingScript.textContent = JSON.stringify(merged);\n    } else {\n      // Create new import map\n      const script = document.createElement('script');\n      script.type = 'importmap';\n      script.textContent = JSON.stringify(importMap);\n      document.head.appendChild(script);\n    }\n  }\n}\n\n/**\n * Angular-specific hydration utilities\n */\nexport class AngularHydrationUtils {\n  /**\n   * Initialize Native Federation with Angular Universal hydration\n   */\n  static async initializeForAngularSSR(\n    client: HydrationClient,\n    manifestPath?: string\n  ): Promise<HydrationClient> {\n    await client.initializeWithHydration(manifestPath);\n    \n    // Wait for Angular hydration to complete before loading remote modules\n    if ((window as any).ng && (window as any).ng.getInjector) {\n      await this.waitForAngularHydration();\n    }\n    \n    return client;\n  }\n\n  /**\n   * Wait for Angular hydration to complete\n   */\n  private static async waitForAngularHydration(): Promise<void> {\n    return new Promise((resolve) => {\n      const checkHydration = () => {\n        const appRef = (window as any).ng?.getInjector?.()?.get?.('ApplicationRef');\n        if (appRef && appRef.isStable) {\n          appRef.isStable.subscribe((stable: boolean) => {\n            if (stable) {\n              resolve();\n            }\n          });\n        } else {\n          // Fallback: wait a bit and try again\n          setTimeout(checkHydration, 100);\n        }\n      };\n      \n      checkHydration();\n    });\n  }\n\n  /**\n   * Create Angular component wrapper that handles SSR/hydration\n   */\n  static createSSRComponent<T>(\n    loader: () => Promise<{ default: T }>,\n    fallbackTemplate: string = '<div>Loading...</div>'\n  ) {\n    return {\n      template: fallbackTemplate,\n      async ngOnInit() {\n        try {\n          const { default: Component } = await loader();\n          // Dynamic component loading logic would go here\n          // This would integrate with Angular's ViewContainerRef\n        } catch (error) {\n          console.error('Failed to load federated component:', error);\n        }\n      }\n    };\n  }\n}\n\n/**\n * Universal federation runtime that works in both SSR and client\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class UniversalFederationRuntime {\n  private isSSR: boolean;\n\n  constructor(private hydrationClient: HydrationClient) {\n    this.isSSR = typeof window === 'undefined';\n  }\n\n  async initialize(manifestPath?: string): Promise<void> {\n    if (this.isSSR) {\n      // SSR initialization will be handled separately\n      return;\n    }\n    \n    await this.hydrationClient.initializeWithHydration(manifestPath);\n  }\n\n  async loadRemoteModule<T = any>(remoteName: string, modulePath: string): Promise<T> {\n    if (this.isSSR) {\n      throw new Error('SSR module loading should use SSRModuleLoader directly');\n    }\n    \n    return this.hydrationClient.loadRemoteModule(remoteName, modulePath);\n  }\n\n  async loadSharedModule<T = any>(packageName: string): Promise<T> {\n    return this.hydrationClient.loadSharedModule(packageName);\n  }\n\n  wasServerRendered(remoteName: string, modulePath: string): boolean {\n    if (this.isSSR) {\n      return false;\n    }\n    \n    return this.hydrationClient.wasServerRendered(remoteName, modulePath);\n  }\n}"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"./module-loader":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/module-loader.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./version-manager":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/version-manager.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":5941,"body":[{"type":"ImportDeclaration","start":0,"end":43,"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Injectable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Injectable"}}],"source":{"type":"Literal","start":27,"end":42,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":44,"end":110,"specifiers":[{"type":"ImportSpecifier","start":53,"end":70,"imported":{"type":"Identifier","start":53,"end":70,"name":"FederationRuntime"},"local":{"type":"Identifier","start":53,"end":70,"name":"FederationRuntime"}}],"source":{"type":"Literal","start":78,"end":109,"value":"../runtime/federation-runtime","raw":"'../runtime/federation-runtime'"},"attributes":[]},{"type":"ImportDeclaration","start":111,"end":167,"specifiers":[{"type":"ImportSpecifier","start":120,"end":132,"imported":{"type":"Identifier","start":120,"end":132,"name":"ModuleLoader"},"local":{"type":"Identifier","start":120,"end":132,"name":"ModuleLoader"}}],"source":{"type":"Literal","start":140,"end":166,"value":"../runtime/module-loader","raw":"'../runtime/module-loader'"},"attributes":[]},{"type":"ImportDeclaration","start":168,"end":204,"specifiers":[{"type":"ImportNamespaceSpecifier","start":175,"end":182,"local":{"type":"Identifier","start":180,"end":182,"name":"i0"}}],"source":{"type":"Literal","start":188,"end":203,"value":"@angular/core","raw":"\"@angular/core\""},"attributes":[]},{"type":"ImportDeclaration","start":205,"end":257,"specifiers":[{"type":"ImportNamespaceSpecifier","start":212,"end":219,"local":{"type":"Identifier","start":217,"end":219,"name":"i1"}}],"source":{"type":"Literal","start":225,"end":256,"value":"../runtime/federation-runtime","raw":"\"../runtime/federation-runtime\""},"attributes":[]},{"type":"ImportDeclaration","start":258,"end":305,"specifiers":[{"type":"ImportNamespaceSpecifier","start":265,"end":272,"local":{"type":"Identifier","start":270,"end":272,"name":"i2"}}],"source":{"type":"Literal","start":278,"end":304,"value":"../runtime/module-loader","raw":"\"../runtime/module-loader\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":306,"end":1907,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":313,"end":1907,"decorators":[],"id":{"type":"Identifier","start":319,"end":342,"name":"NativeFederationService"},"superClass":null,"body":{"type":"ClassBody","start":343,"end":1907,"body":[{"type":"PropertyDefinition","start":349,"end":357,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":349,"end":356,"name":"runtime"},"value":null},{"type":"PropertyDefinition","start":362,"end":375,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":362,"end":374,"name":"moduleLoader"},"value":null},{"type":"MethodDefinition","start":380,"end":496,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":380,"end":391,"name":"constructor"},"value":{"type":"FunctionExpression","start":391,"end":496,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":392,"end":399,"name":"runtime"},{"type":"Identifier","start":401,"end":413,"name":"moduleLoader"}],"body":{"type":"BlockStatement","start":415,"end":496,"body":[{"type":"ExpressionStatement","start":425,"end":448,"expression":{"type":"AssignmentExpression","start":425,"end":447,"operator":"=","left":{"type":"MemberExpression","start":425,"end":437,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":425,"end":429},"property":{"type":"Identifier","start":430,"end":437,"name":"runtime"}},"right":{"type":"Identifier","start":440,"end":447,"name":"runtime"}}},{"type":"ExpressionStatement","start":457,"end":490,"expression":{"type":"AssignmentExpression","start":457,"end":489,"operator":"=","left":{"type":"MemberExpression","start":457,"end":474,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":457,"end":461},"property":{"type":"Identifier","start":462,"end":474,"name":"moduleLoader"}},"right":{"type":"Identifier","start":477,"end":489,"name":"moduleLoader"}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":574,"end":663,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":580,"end":590,"name":"initialize"},"value":{"type":"FunctionExpression","start":590,"end":663,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":591,"end":602,"name":"manifestUrl"}],"body":{"type":"BlockStatement","start":604,"end":663,"body":[{"type":"ExpressionStatement","start":614,"end":657,"expression":{"type":"AwaitExpression","start":614,"end":656,"argument":{"type":"CallExpression","start":620,"end":656,"optional":false,"callee":{"type":"MemberExpression","start":620,"end":643,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":620,"end":632,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":620,"end":624},"property":{"type":"Identifier","start":625,"end":632,"name":"runtime"}},"property":{"type":"Identifier","start":633,"end":643,"name":"initialize"}},"arguments":[{"type":"Identifier","start":644,"end":655,"name":"manifestUrl"}]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":724,"end":853,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":730,"end":746,"name":"loadRemoteModule"},"value":{"type":"FunctionExpression","start":746,"end":853,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":747,"end":757,"name":"remoteName"},{"type":"Identifier","start":759,"end":769,"name":"modulePath"}],"body":{"type":"BlockStatement","start":771,"end":853,"body":[{"type":"ReturnStatement","start":781,"end":847,"argument":{"type":"CallExpression","start":788,"end":846,"optional":false,"callee":{"type":"MemberExpression","start":788,"end":822,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":788,"end":805,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":788,"end":792},"property":{"type":"Identifier","start":793,"end":805,"name":"moduleLoader"}},"property":{"type":"Identifier","start":806,"end":822,"name":"loadRemoteModule"}},"arguments":[{"type":"Identifier","start":823,"end":833,"name":"remoteName"},{"type":"Identifier","start":835,"end":845,"name":"modulePath"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":909,"end":1077,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":909,"end":923,"name":"isModuleLoaded"},"value":{"type":"FunctionExpression","start":923,"end":1077,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":924,"end":934,"name":"remoteName"},{"type":"Identifier","start":936,"end":946,"name":"modulePath"}],"body":{"type":"BlockStatement","start":948,"end":1077,"body":[{"type":"VariableDeclaration","start":958,"end":1004,"kind":"const","declarations":[{"type":"VariableDeclarator","start":964,"end":1003,"id":{"type":"Identifier","start":964,"end":972,"name":"moduleId"},"init":{"type":"TemplateLiteral","start":975,"end":1003,"quasis":[{"type":"TemplateElement","start":976,"end":976,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":989,"end":989,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":1002,"end":1002,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":978,"end":988,"name":"remoteName"},{"type":"Identifier","start":991,"end":1001,"name":"modulePath"}]}}]},{"type":"ReturnStatement","start":1013,"end":1071,"argument":{"type":"CallExpression","start":1020,"end":1070,"optional":false,"callee":{"type":"MemberExpression","start":1020,"end":1060,"computed":false,"optional":false,"object":{"type":"CallExpression","start":1020,"end":1056,"optional":false,"callee":{"type":"MemberExpression","start":1020,"end":1054,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1020,"end":1037,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1020,"end":1024},"property":{"type":"Identifier","start":1025,"end":1037,"name":"moduleLoader"}},"property":{"type":"Identifier","start":1038,"end":1054,"name":"getLoadedModules"}},"arguments":[]},"property":{"type":"Identifier","start":1057,"end":1060,"name":"has"}},"arguments":[{"type":"Identifier","start":1061,"end":1069,"name":"moduleId"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1129,"end":1251,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1135,"end":1148,"name":"preloadModule"},"value":{"type":"FunctionExpression","start":1148,"end":1251,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":1149,"end":1159,"name":"remoteName"},{"type":"Identifier","start":1161,"end":1171,"name":"modulePath"}],"body":{"type":"BlockStatement","start":1173,"end":1251,"body":[{"type":"ExpressionStatement","start":1183,"end":1245,"expression":{"type":"AwaitExpression","start":1183,"end":1244,"argument":{"type":"CallExpression","start":1189,"end":1244,"optional":false,"callee":{"type":"MemberExpression","start":1189,"end":1220,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1189,"end":1206,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1189,"end":1193},"property":{"type":"Identifier","start":1194,"end":1206,"name":"moduleLoader"}},"property":{"type":"Identifier","start":1207,"end":1220,"name":"preloadModule"}},"arguments":[{"type":"Identifier","start":1221,"end":1231,"name":"remoteName"},{"type":"Identifier","start":1233,"end":1243,"name":"modulePath"}]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1323,"end":1372,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1323,"end":1333,"name":"getRuntime"},"value":{"type":"FunctionExpression","start":1333,"end":1372,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1336,"end":1372,"body":[{"type":"ReturnStatement","start":1346,"end":1366,"argument":{"type":"MemberExpression","start":1353,"end":1365,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1353,"end":1357},"property":{"type":"Identifier","start":1358,"end":1365,"name":"runtime"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1450,"end":1509,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1450,"end":1465,"name":"getModuleLoader"},"value":{"type":"FunctionExpression","start":1465,"end":1509,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1468,"end":1509,"body":[{"type":"ReturnStatement","start":1478,"end":1503,"argument":{"type":"MemberExpression","start":1485,"end":1502,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1485,"end":1489},"property":{"type":"Identifier","start":1490,"end":1502,"name":"moduleLoader"}}}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":1514,"end":1749,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1521,"end":1525,"name":"ɵfac"},"value":{"type":"CallExpression","start":1528,"end":1748,"optional":false,"callee":{"type":"MemberExpression","start":1528,"end":1549,"computed":false,"optional":false,"object":{"type":"Identifier","start":1528,"end":1530,"name":"i0"},"property":{"type":"Identifier","start":1531,"end":1549,"name":"ɵɵngDeclareFactory"}},"arguments":[{"type":"ObjectExpression","start":1550,"end":1747,"properties":[{"type":"Property","start":1552,"end":1572,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1552,"end":1562,"name":"minVersion"},"value":{"type":"Literal","start":1564,"end":1572,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":1574,"end":1592,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1574,"end":1581,"name":"version"},"value":{"type":"Literal","start":1583,"end":1592,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":1594,"end":1606,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1594,"end":1602,"name":"ngImport"},"value":{"type":"Identifier","start":1604,"end":1606,"name":"i0"},"kind":"init"},{"type":"Property","start":1608,"end":1637,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1608,"end":1612,"name":"type"},"value":{"type":"Identifier","start":1614,"end":1637,"name":"NativeFederationService"},"kind":"init"},{"type":"Property","start":1639,"end":1706,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1639,"end":1643,"name":"deps"},"value":{"type":"ArrayExpression","start":1645,"end":1706,"elements":[{"type":"ObjectExpression","start":1646,"end":1677,"properties":[{"type":"Property","start":1648,"end":1675,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1648,"end":1653,"name":"token"},"value":{"type":"MemberExpression","start":1655,"end":1675,"computed":false,"optional":false,"object":{"type":"Identifier","start":1655,"end":1657,"name":"i1"},"property":{"type":"Identifier","start":1658,"end":1675,"name":"FederationRuntime"}},"kind":"init"}]},{"type":"ObjectExpression","start":1679,"end":1705,"properties":[{"type":"Property","start":1681,"end":1703,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1681,"end":1686,"name":"token"},"value":{"type":"MemberExpression","start":1688,"end":1703,"computed":false,"optional":false,"object":{"type":"Identifier","start":1688,"end":1690,"name":"i2"},"property":{"type":"Identifier","start":1691,"end":1703,"name":"ModuleLoader"}},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":1708,"end":1745,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1708,"end":1714,"name":"target"},"value":{"type":"MemberExpression","start":1716,"end":1745,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1716,"end":1734,"computed":false,"optional":false,"object":{"type":"Identifier","start":1716,"end":1718,"name":"i0"},"property":{"type":"Identifier","start":1719,"end":1734,"name":"ɵɵFactoryTarget"}},"property":{"type":"Identifier","start":1735,"end":1745,"name":"Injectable"}},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":1754,"end":1905,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1761,"end":1766,"name":"ɵprov"},"value":{"type":"CallExpression","start":1769,"end":1904,"optional":false,"callee":{"type":"MemberExpression","start":1769,"end":1793,"computed":false,"optional":false,"object":{"type":"Identifier","start":1769,"end":1771,"name":"i0"},"property":{"type":"Identifier","start":1772,"end":1793,"name":"ɵɵngDeclareInjectable"}},"arguments":[{"type":"ObjectExpression","start":1794,"end":1903,"properties":[{"type":"Property","start":1796,"end":1816,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1796,"end":1806,"name":"minVersion"},"value":{"type":"Literal","start":1808,"end":1816,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":1818,"end":1836,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1818,"end":1825,"name":"version"},"value":{"type":"Literal","start":1827,"end":1836,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":1838,"end":1850,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1838,"end":1846,"name":"ngImport"},"value":{"type":"Identifier","start":1848,"end":1850,"name":"i0"},"kind":"init"},{"type":"Property","start":1852,"end":1881,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1852,"end":1856,"name":"type"},"value":{"type":"Identifier","start":1858,"end":1881,"name":"NativeFederationService"},"kind":"init"},{"type":"Property","start":1883,"end":1901,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1883,"end":1893,"name":"providedIn"},"value":{"type":"Literal","start":1895,"end":1901,"value":"root","raw":"'root'"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":1908,"end":2246,"expression":{"type":"CallExpression","start":1908,"end":2245,"optional":false,"callee":{"type":"MemberExpression","start":1908,"end":1935,"computed":false,"optional":false,"object":{"type":"Identifier","start":1908,"end":1910,"name":"i0"},"property":{"type":"Identifier","start":1911,"end":1935,"name":"ɵɵngDeclareClassMetadata"}},"arguments":[{"type":"ObjectExpression","start":1936,"end":2244,"properties":[{"type":"Property","start":1938,"end":1958,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1938,"end":1948,"name":"minVersion"},"value":{"type":"Literal","start":1950,"end":1958,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":1960,"end":1978,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1960,"end":1967,"name":"version"},"value":{"type":"Literal","start":1969,"end":1978,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":1980,"end":1992,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1980,"end":1988,"name":"ngImport"},"value":{"type":"Identifier","start":1990,"end":1992,"name":"i0"},"kind":"init"},{"type":"Property","start":1994,"end":2023,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1994,"end":1998,"name":"type"},"value":{"type":"Identifier","start":2000,"end":2023,"name":"NativeFederationService"},"kind":"init"},{"type":"Property","start":2025,"end":2159,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2025,"end":2035,"name":"decorators"},"value":{"type":"ArrayExpression","start":2037,"end":2159,"elements":[{"type":"ObjectExpression","start":2038,"end":2158,"properties":[{"type":"Property","start":2052,"end":2068,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2052,"end":2056,"name":"type"},"value":{"type":"Identifier","start":2058,"end":2068,"name":"Injectable"},"kind":"init"},{"type":"Property","start":2082,"end":2148,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2082,"end":2086,"name":"args"},"value":{"type":"ArrayExpression","start":2088,"end":2148,"elements":[{"type":"ObjectExpression","start":2089,"end":2147,"properties":[{"type":"Property","start":2111,"end":2129,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2111,"end":2121,"name":"providedIn"},"value":{"type":"Literal","start":2123,"end":2129,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":2161,"end":2242,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2161,"end":2175,"name":"ctorParameters"},"value":{"type":"ArrowFunctionExpression","start":2177,"end":2242,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ArrayExpression","start":2183,"end":2242,"elements":[{"type":"ObjectExpression","start":2184,"end":2214,"properties":[{"type":"Property","start":2186,"end":2212,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2186,"end":2190,"name":"type"},"value":{"type":"MemberExpression","start":2192,"end":2212,"computed":false,"optional":false,"object":{"type":"Identifier","start":2192,"end":2194,"name":"i1"},"property":{"type":"Identifier","start":2195,"end":2212,"name":"FederationRuntime"}},"kind":"init"}]},{"type":"ObjectExpression","start":2216,"end":2241,"properties":[{"type":"Property","start":2218,"end":2239,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2218,"end":2222,"name":"type"},"value":{"type":"MemberExpression","start":2224,"end":2239,"computed":false,"optional":false,"object":{"type":"Identifier","start":2224,"end":2226,"name":"i2"},"property":{"type":"Identifier","start":2227,"end":2239,"name":"ModuleLoader"}},"kind":"init"}]}]},"id":null},"kind":"init"}]}]}}],"_rollupRemoved":[{"end":5941,"start":2247,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { Injectable } from '@angular/core';\nimport { FederationRuntime } from '../runtime/federation-runtime';\nimport { ModuleLoader } from '../runtime/module-loader';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../runtime/federation-runtime\";\nimport * as i2 from \"../runtime/module-loader\";\nexport class NativeFederationService {\n    runtime;\n    moduleLoader;\n    constructor(runtime, moduleLoader) {\n        this.runtime = runtime;\n        this.moduleLoader = moduleLoader;\n    }\n    /**\n     * Initialize the federation runtime with a manifest\n     */\n    async initialize(manifestUrl) {\n        await this.runtime.initialize(manifestUrl);\n    }\n    /**\n     * Load a remote module dynamically\n     */\n    async loadRemoteModule(remoteName, modulePath) {\n        return this.moduleLoader.loadRemoteModule(remoteName, modulePath);\n    }\n    /**\n     * Check if a module is loaded\n     */\n    isModuleLoaded(remoteName, modulePath) {\n        const moduleId = `${remoteName}${modulePath}`;\n        return this.moduleLoader.getLoadedModules().has(moduleId);\n    }\n    /**\n     * Preload a remote module\n     */\n    async preloadModule(remoteName, modulePath) {\n        await this.moduleLoader.preloadModule(remoteName, modulePath);\n    }\n    /**\n     * Get the runtime instance for advanced usage\n     */\n    getRuntime() {\n        return this.runtime;\n    }\n    /**\n     * Get the module loader instance for advanced usage\n     */\n    getModuleLoader() {\n        return this.moduleLoader;\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationService, deps: [{ token: i1.FederationRuntime }, { token: i2.ModuleLoader }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: i1.FederationRuntime }, { type: i2.ModuleLoader }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF0aXZlLWZlZGVyYXRpb24uc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9saWIvYW5ndWxhci9uYXRpdmUtZmVkZXJhdGlvbi5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDbEUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDBCQUEwQixDQUFDOzs7O0FBS3hELE1BQU0sT0FBTyx1QkFBdUI7SUFFeEI7SUFDQTtJQUZWLFlBQ1UsT0FBMEIsRUFDMUIsWUFBMEI7UUFEMUIsWUFBTyxHQUFQLE9BQU8sQ0FBbUI7UUFDMUIsaUJBQVksR0FBWixZQUFZLENBQWM7SUFDakMsQ0FBQztJQUVKOztPQUVHO0lBQ0gsS0FBSyxDQUFDLFVBQVUsQ0FBQyxXQUFtQjtRQUNsQyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRDs7T0FFRztJQUNILEtBQUssQ0FBQyxnQkFBZ0IsQ0FBVSxVQUFrQixFQUFFLFVBQWtCO1FBQ3BFLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBSSxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUVEOztPQUVHO0lBQ0gsY0FBYyxDQUFDLFVBQWtCLEVBQUUsVUFBa0I7UUFDbkQsTUFBTSxRQUFRLEdBQUcsR0FBRyxVQUFVLEdBQUcsVUFBVSxFQUFFLENBQUM7UUFDOUMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFFRDs7T0FFRztJQUNILEtBQUssQ0FBQyxhQUFhLENBQUMsVUFBa0IsRUFBRSxVQUFrQjtRQUN4RCxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBRUQ7O09BRUc7SUFDSCxVQUFVO1FBQ1IsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3RCLENBQUM7SUFFRDs7T0FFRztJQUNILGVBQWU7UUFDYixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDM0IsQ0FBQzt3R0EvQ1UsdUJBQXVCOzRHQUF2Qix1QkFBdUIsY0FGdEIsTUFBTTs7NEZBRVAsdUJBQXVCO2tCQUhuQyxVQUFVO21CQUFDO29CQUNWLFVBQVUsRUFBRSxNQUFNO2lCQUNuQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZlZGVyYXRpb25SdW50aW1lIH0gZnJvbSAnLi4vcnVudGltZS9mZWRlcmF0aW9uLXJ1bnRpbWUnO1xuaW1wb3J0IHsgTW9kdWxlTG9hZGVyIH0gZnJvbSAnLi4vcnVudGltZS9tb2R1bGUtbG9hZGVyJztcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgTmF0aXZlRmVkZXJhdGlvblNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJ1bnRpbWU6IEZlZGVyYXRpb25SdW50aW1lLFxuICAgIHByaXZhdGUgbW9kdWxlTG9hZGVyOiBNb2R1bGVMb2FkZXJcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBmZWRlcmF0aW9uIHJ1bnRpbWUgd2l0aCBhIG1hbmlmZXN0XG4gICAqL1xuICBhc3luYyBpbml0aWFsaXplKG1hbmlmZXN0VXJsOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnJ1bnRpbWUuaW5pdGlhbGl6ZShtYW5pZmVzdFVybCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhIHJlbW90ZSBtb2R1bGUgZHluYW1pY2FsbHlcbiAgICovXG4gIGFzeW5jIGxvYWRSZW1vdGVNb2R1bGU8VCA9IGFueT4ocmVtb3RlTmFtZTogc3RyaW5nLCBtb2R1bGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPFQ+IHtcbiAgICByZXR1cm4gdGhpcy5tb2R1bGVMb2FkZXIubG9hZFJlbW90ZU1vZHVsZTxUPihyZW1vdGVOYW1lLCBtb2R1bGVQYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIG1vZHVsZSBpcyBsb2FkZWRcbiAgICovXG4gIGlzTW9kdWxlTG9hZGVkKHJlbW90ZU5hbWU6IHN0cmluZywgbW9kdWxlUGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbW9kdWxlSWQgPSBgJHtyZW1vdGVOYW1lfSR7bW9kdWxlUGF0aH1gO1xuICAgIHJldHVybiB0aGlzLm1vZHVsZUxvYWRlci5nZXRMb2FkZWRNb2R1bGVzKCkuaGFzKG1vZHVsZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVsb2FkIGEgcmVtb3RlIG1vZHVsZVxuICAgKi9cbiAgYXN5bmMgcHJlbG9hZE1vZHVsZShyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMubW9kdWxlTG9hZGVyLnByZWxvYWRNb2R1bGUocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBydW50aW1lIGluc3RhbmNlIGZvciBhZHZhbmNlZCB1c2FnZVxuICAgKi9cbiAgZ2V0UnVudGltZSgpOiBGZWRlcmF0aW9uUnVudGltZSB7XG4gICAgcmV0dXJuIHRoaXMucnVudGltZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1vZHVsZSBsb2FkZXIgaW5zdGFuY2UgZm9yIGFkdmFuY2VkIHVzYWdlXG4gICAqL1xuICBnZXRNb2R1bGVMb2FkZXIoKTogTW9kdWxlTG9hZGVyIHtcbiAgICByZXR1cm4gdGhpcy5tb2R1bGVMb2FkZXI7XG4gIH1cbn0iXX0=","customTransformCache":false,"dependencies":["@angular/core","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/federation-runtime.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/module-loader.mjs"],"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/native-federation.service.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Injectable } from '@angular/core';\nimport { FederationRuntime } from '../runtime/federation-runtime';\nimport { ModuleLoader } from '../runtime/module-loader';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../runtime/federation-runtime\";\nimport * as i2 from \"../runtime/module-loader\";\nexport class NativeFederationService {\n    runtime;\n    moduleLoader;\n    constructor(runtime, moduleLoader) {\n        this.runtime = runtime;\n        this.moduleLoader = moduleLoader;\n    }\n    /**\n     * Initialize the federation runtime with a manifest\n     */\n    async initialize(manifestUrl) {\n        await this.runtime.initialize(manifestUrl);\n    }\n    /**\n     * Load a remote module dynamically\n     */\n    async loadRemoteModule(remoteName, modulePath) {\n        return this.moduleLoader.loadRemoteModule(remoteName, modulePath);\n    }\n    /**\n     * Check if a module is loaded\n     */\n    isModuleLoaded(remoteName, modulePath) {\n        const moduleId = `${remoteName}${modulePath}`;\n        return this.moduleLoader.getLoadedModules().has(moduleId);\n    }\n    /**\n     * Preload a remote module\n     */\n    async preloadModule(remoteName, modulePath) {\n        await this.moduleLoader.preloadModule(remoteName, modulePath);\n    }\n    /**\n     * Get the runtime instance for advanced usage\n     */\n    getRuntime() {\n        return this.runtime;\n    }\n    /**\n     * Get the module loader instance for advanced usage\n     */\n    getModuleLoader() {\n        return this.moduleLoader;\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationService, deps: [{ token: i1.FederationRuntime }, { token: i2.ModuleLoader }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: i1.FederationRuntime }, { type: i2.ModuleLoader }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF0aXZlLWZlZGVyYXRpb24uc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9saWIvYW5ndWxhci9uYXRpdmUtZmVkZXJhdGlvbi5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDbEUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDBCQUEwQixDQUFDOzs7O0FBS3hELE1BQU0sT0FBTyx1QkFBdUI7SUFFeEI7SUFDQTtJQUZWLFlBQ1UsT0FBMEIsRUFDMUIsWUFBMEI7UUFEMUIsWUFBTyxHQUFQLE9BQU8sQ0FBbUI7UUFDMUIsaUJBQVksR0FBWixZQUFZLENBQWM7SUFDakMsQ0FBQztJQUVKOztPQUVHO0lBQ0gsS0FBSyxDQUFDLFVBQVUsQ0FBQyxXQUFtQjtRQUNsQyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRDs7T0FFRztJQUNILEtBQUssQ0FBQyxnQkFBZ0IsQ0FBVSxVQUFrQixFQUFFLFVBQWtCO1FBQ3BFLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBSSxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUVEOztPQUVHO0lBQ0gsY0FBYyxDQUFDLFVBQWtCLEVBQUUsVUFBa0I7UUFDbkQsTUFBTSxRQUFRLEdBQUcsR0FBRyxVQUFVLEdBQUcsVUFBVSxFQUFFLENBQUM7UUFDOUMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFFRDs7T0FFRztJQUNILEtBQUssQ0FBQyxhQUFhLENBQUMsVUFBa0IsRUFBRSxVQUFrQjtRQUN4RCxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBRUQ7O09BRUc7SUFDSCxVQUFVO1FBQ1IsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3RCLENBQUM7SUFFRDs7T0FFRztJQUNILGVBQWU7UUFDYixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDM0IsQ0FBQzt3R0EvQ1UsdUJBQXVCOzRHQUF2Qix1QkFBdUIsY0FGdEIsTUFBTTs7NEZBRVAsdUJBQXVCO2tCQUhuQyxVQUFVO21CQUFDO29CQUNWLFVBQVUsRUFBRSxNQUFNO2lCQUNuQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZlZGVyYXRpb25SdW50aW1lIH0gZnJvbSAnLi4vcnVudGltZS9mZWRlcmF0aW9uLXJ1bnRpbWUnO1xuaW1wb3J0IHsgTW9kdWxlTG9hZGVyIH0gZnJvbSAnLi4vcnVudGltZS9tb2R1bGUtbG9hZGVyJztcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgTmF0aXZlRmVkZXJhdGlvblNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJ1bnRpbWU6IEZlZGVyYXRpb25SdW50aW1lLFxuICAgIHByaXZhdGUgbW9kdWxlTG9hZGVyOiBNb2R1bGVMb2FkZXJcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBmZWRlcmF0aW9uIHJ1bnRpbWUgd2l0aCBhIG1hbmlmZXN0XG4gICAqL1xuICBhc3luYyBpbml0aWFsaXplKG1hbmlmZXN0VXJsOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnJ1bnRpbWUuaW5pdGlhbGl6ZShtYW5pZmVzdFVybCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhIHJlbW90ZSBtb2R1bGUgZHluYW1pY2FsbHlcbiAgICovXG4gIGFzeW5jIGxvYWRSZW1vdGVNb2R1bGU8VCA9IGFueT4ocmVtb3RlTmFtZTogc3RyaW5nLCBtb2R1bGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPFQ+IHtcbiAgICByZXR1cm4gdGhpcy5tb2R1bGVMb2FkZXIubG9hZFJlbW90ZU1vZHVsZTxUPihyZW1vdGVOYW1lLCBtb2R1bGVQYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIG1vZHVsZSBpcyBsb2FkZWRcbiAgICovXG4gIGlzTW9kdWxlTG9hZGVkKHJlbW90ZU5hbWU6IHN0cmluZywgbW9kdWxlUGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbW9kdWxlSWQgPSBgJHtyZW1vdGVOYW1lfSR7bW9kdWxlUGF0aH1gO1xuICAgIHJldHVybiB0aGlzLm1vZHVsZUxvYWRlci5nZXRMb2FkZWRNb2R1bGVzKCkuaGFzKG1vZHVsZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVsb2FkIGEgcmVtb3RlIG1vZHVsZVxuICAgKi9cbiAgYXN5bmMgcHJlbG9hZE1vZHVsZShyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMubW9kdWxlTG9hZGVyLnByZWxvYWRNb2R1bGUocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBydW50aW1lIGluc3RhbmNlIGZvciBhZHZhbmNlZCB1c2FnZVxuICAgKi9cbiAgZ2V0UnVudGltZSgpOiBGZWRlcmF0aW9uUnVudGltZSB7XG4gICAgcmV0dXJuIHRoaXMucnVudGltZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1vZHVsZSBsb2FkZXIgaW5zdGFuY2UgZm9yIGFkdmFuY2VkIHVzYWdlXG4gICAqL1xuICBnZXRNb2R1bGVMb2FkZXIoKTogTW9kdWxlTG9hZGVyIHtcbiAgICByZXR1cm4gdGhpcy5tb2R1bGVMb2FkZXI7XG4gIH1cbn0iXX0=","originalSourcemap":{"version":3,"file":"native-federation.service.js","sourceRoot":"","sources":["../../../../../projects/native-federation/src/lib/angular/native-federation.service.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[19,0,0,19],[21,0,0,21],[27,0,0,27],[42,0,0,42],[43,0,0,43]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[26,0,1,26],[28,0,1,28],[34,0,1,34],[65,0,1,65],[66,0,1,66]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[21,0,2,21],[23,0,2,23],[29,0,2,29],[55,0,2,55],[56,0,2,56]],[],[],[],[[0,0,7,0],[6,0,7,6],[13,0,7,13],[36,0,7,36]],[[4,0,9,12]],[[4,0,10,12]],[[4,0,8,2],[16,0,9,12],[23,0,9,38],[25,0,10,12],[37,0,10,38]],[[8,0,9,12],[20,0,9,19],[23,0,9,12],[30,0,9,19],[31,0,9,38]],[[8,0,10,12],[25,0,10,24],[28,0,10,12],[40,0,10,24],[41,0,10,38]],[[4,0,11,5],[5,0,11,6]],[[4,0,13,2]],[],[[7,0,15,5]],[[4,0,16,2],[9,0,16,7],[10,0,16,8],[20,0,16,18],[21,0,16,19],[32,0,16,38]],[[8,0,17,4],[14,0,17,10],[18,0,17,14],[19,0,17,15],[26,0,17,22],[27,0,17,23],[37,0,17,33],[38,0,17,34],[49,0,17,45],[50,0,17,46],[51,0,17,47]],[[4,0,18,2],[5,0,18,3]],[[4,0,20,2]],[],[[7,0,22,5]],[[4,0,23,2],[9,0,23,7],[10,0,23,8],[26,0,23,24],[27,0,23,34],[37,0,23,52],[39,0,23,54],[49,0,23,72]],[[8,0,24,4],[15,0,24,11],[19,0,24,15],[20,0,24,16],[32,0,24,28],[33,0,24,29],[49,0,24,45],[50,0,24,49],[60,0,24,59],[62,0,24,61],[72,0,24,71],[73,0,24,72],[74,0,24,73]],[[4,0,25,2],[5,0,25,3]],[[4,0,27,2]],[],[[7,0,29,5]],[[4,0,30,2],[18,0,30,16],[19,0,30,17],[29,0,30,35],[31,0,30,37],[41,0,30,55]],[[8,0,31,4],[14,0,31,10],[22,0,31,18],[25,0,31,21],[28,0,31,24],[38,0,31,34],[41,0,31,37],[51,0,31,47],[53,0,31,49],[54,0,31,50]],[[8,0,32,4],[15,0,32,11],[19,0,32,15],[20,0,32,16],[32,0,32,28],[33,0,32,29],[49,0,32,45],[51,0,32,47],[52,0,32,48],[55,0,32,51],[56,0,32,52],[64,0,32,60],[65,0,32,61],[66,0,32,62]],[[4,0,33,2],[5,0,33,3]],[[4,0,35,2]],[],[[7,0,37,5]],[[4,0,38,2],[9,0,38,7],[10,0,38,8],[23,0,38,21],[24,0,38,22],[34,0,38,40],[36,0,38,42],[46,0,38,60]],[[8,0,39,4],[14,0,39,10],[18,0,39,14],[19,0,39,15],[31,0,39,27],[32,0,39,28],[45,0,39,41],[46,0,39,42],[56,0,39,52],[58,0,39,54],[68,0,39,64],[69,0,39,65],[70,0,39,66]],[[4,0,40,2],[5,0,40,3]],[[4,0,42,2]],[],[[7,0,44,5]],[[4,0,45,2],[14,0,45,12]],[[8,0,46,4],[15,0,46,11],[19,0,46,15],[20,0,46,16],[27,0,46,23],[28,0,46,24]],[[4,0,47,2],[5,0,47,3]],[[4,0,49,2]],[],[[7,0,51,5]],[[4,0,52,2],[19,0,52,17]],[[8,0,53,4],[15,0,53,11],[19,0,53,15],[20,0,53,16],[32,0,53,28],[33,0,53,29]],[[4,0,54,2],[5,0,54,3]],[[104,0,7,13],[127,0,7,36]],[[108,0,7,13],[131,0,7,36],[145,0,5,14],[151,0,5,20]],[],[[92,0,7,13],[115,0,7,36]],[[18,0,4,1],[28,0,4,11]],[[19,0,4,12]],[[20,0,5,2],[30,0,5,12],[32,0,5,14],[38,0,5,20]],[[17,0,6,1]]],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { FederationRuntime } from '../runtime/federation-runtime';\nimport { ModuleLoader } from '../runtime/module-loader';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NativeFederationService {\n  constructor(\n    private runtime: FederationRuntime,\n    private moduleLoader: ModuleLoader\n  ) {}\n\n  /**\n   * Initialize the federation runtime with a manifest\n   */\n  async initialize(manifestUrl: string): Promise<void> {\n    await this.runtime.initialize(manifestUrl);\n  }\n\n  /**\n   * Load a remote module dynamically\n   */\n  async loadRemoteModule<T = any>(remoteName: string, modulePath: string): Promise<T> {\n    return this.moduleLoader.loadRemoteModule<T>(remoteName, modulePath);\n  }\n\n  /**\n   * Check if a module is loaded\n   */\n  isModuleLoaded(remoteName: string, modulePath: string): boolean {\n    const moduleId = `${remoteName}${modulePath}`;\n    return this.moduleLoader.getLoadedModules().has(moduleId);\n  }\n\n  /**\n   * Preload a remote module\n   */\n  async preloadModule(remoteName: string, modulePath: string): Promise<void> {\n    await this.moduleLoader.preloadModule(remoteName, modulePath);\n  }\n\n  /**\n   * Get the runtime instance for advanced usage\n   */\n  getRuntime(): FederationRuntime {\n    return this.runtime;\n  }\n\n  /**\n   * Get the module loader instance for advanced usage\n   */\n  getModuleLoader(): ModuleLoader {\n    return this.moduleLoader;\n  }\n}"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"../runtime/federation-runtime":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/federation-runtime.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"../runtime/module-loader":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/module-loader.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":22919,"body":[{"type":"ImportDeclaration","start":0,"end":109,"specifiers":[{"type":"ImportSpecifier","start":9,"end":18,"imported":{"type":"Identifier","start":9,"end":18,"name":"Directive"},"local":{"type":"Identifier","start":9,"end":18,"name":"Directive"}},{"type":"ImportSpecifier","start":20,"end":25,"imported":{"type":"Identifier","start":20,"end":25,"name":"Input"},"local":{"type":"Identifier","start":20,"end":25,"name":"Input"}},{"type":"ImportSpecifier","start":27,"end":43,"imported":{"type":"Identifier","start":27,"end":43,"name":"ViewContainerRef"},"local":{"type":"Identifier","start":27,"end":43,"name":"ViewContainerRef"}},{"type":"ImportSpecifier","start":45,"end":62,"imported":{"type":"Identifier","start":45,"end":62,"name":"ChangeDetectorRef"},"local":{"type":"Identifier","start":45,"end":62,"name":"ChangeDetectorRef"}},{"type":"ImportSpecifier","start":64,"end":75,"imported":{"type":"Identifier","start":64,"end":75,"name":"TemplateRef"},"local":{"type":"Identifier","start":64,"end":75,"name":"TemplateRef"}},{"type":"ImportSpecifier","start":77,"end":85,"imported":{"type":"Identifier","start":77,"end":85,"name":"Injector"},"local":{"type":"Identifier","start":77,"end":85,"name":"Injector"}}],"source":{"type":"Literal","start":93,"end":108,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":110,"end":181,"specifiers":[{"type":"ImportSpecifier","start":119,"end":142,"imported":{"type":"Identifier","start":119,"end":142,"name":"NativeFederationService"},"local":{"type":"Identifier","start":119,"end":142,"name":"NativeFederationService"}}],"source":{"type":"Literal","start":150,"end":180,"value":"../native-federation.service","raw":"'../native-federation.service'"},"attributes":[]},{"type":"ImportDeclaration","start":182,"end":218,"specifiers":[{"type":"ImportNamespaceSpecifier","start":189,"end":196,"local":{"type":"Identifier","start":194,"end":196,"name":"i0"}}],"source":{"type":"Literal","start":202,"end":217,"value":"@angular/core","raw":"\"@angular/core\""},"attributes":[]},{"type":"ImportDeclaration","start":219,"end":270,"specifiers":[{"type":"ImportNamespaceSpecifier","start":226,"end":233,"local":{"type":"Identifier","start":231,"end":233,"name":"i1"}}],"source":{"type":"Literal","start":239,"end":269,"value":"../native-federation.service","raw":"\"../native-federation.service\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":271,"end":6701,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":278,"end":6701,"decorators":[],"id":{"type":"Identifier","start":284,"end":315,"name":"LoadFederatedComponentDirective"},"superClass":null,"body":{"type":"ClassBody","start":316,"end":6701,"body":[{"type":"PropertyDefinition","start":322,"end":336,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":322,"end":335,"name":"viewContainer"},"value":null},{"type":"PropertyDefinition","start":341,"end":359,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":341,"end":358,"name":"federationService"},"value":null},{"type":"PropertyDefinition","start":364,"end":368,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":364,"end":367,"name":"cdr"},"value":null},{"type":"PropertyDefinition","start":373,"end":382,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":373,"end":381,"name":"injector"},"value":null},{"type":"PropertyDefinition","start":387,"end":401,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":387,"end":400,"name":"componentInfo"},"value":null},{"type":"PropertyDefinition","start":406,"end":423,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":406,"end":422,"name":"fallbackTemplate"},"value":null},{"type":"PropertyDefinition","start":428,"end":444,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":428,"end":443,"name":"loadingTemplate"},"value":null},{"type":"PropertyDefinition","start":449,"end":463,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":449,"end":462,"name":"errorTemplate"},"value":null},{"type":"PropertyDefinition","start":468,"end":475,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":468,"end":474,"name":"inputs"},"value":null},{"type":"PropertyDefinition","start":480,"end":493,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":480,"end":492,"name":"componentRef"},"value":null},{"type":"PropertyDefinition","start":498,"end":510,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":498,"end":509,"name":"currentView"},"value":null},{"type":"PropertyDefinition","start":515,"end":533,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":515,"end":524,"name":"isLoading"},"value":{"type":"Literal","start":527,"end":532,"value":false,"raw":"false"}},{"type":"MethodDefinition","start":538,"end":760,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":538,"end":549,"name":"constructor"},"value":{"type":"FunctionExpression","start":549,"end":760,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":550,"end":563,"name":"viewContainer"},{"type":"Identifier","start":565,"end":582,"name":"federationService"},{"type":"Identifier","start":584,"end":587,"name":"cdr"},{"type":"Identifier","start":589,"end":597,"name":"injector"}],"body":{"type":"BlockStatement","start":599,"end":760,"body":[{"type":"ExpressionStatement","start":609,"end":644,"expression":{"type":"AssignmentExpression","start":609,"end":643,"operator":"=","left":{"type":"MemberExpression","start":609,"end":627,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":609,"end":613},"property":{"type":"Identifier","start":614,"end":627,"name":"viewContainer"}},"right":{"type":"Identifier","start":630,"end":643,"name":"viewContainer"}}},{"type":"ExpressionStatement","start":653,"end":696,"expression":{"type":"AssignmentExpression","start":653,"end":695,"operator":"=","left":{"type":"MemberExpression","start":653,"end":675,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":653,"end":657},"property":{"type":"Identifier","start":658,"end":675,"name":"federationService"}},"right":{"type":"Identifier","start":678,"end":695,"name":"federationService"}}},{"type":"ExpressionStatement","start":705,"end":720,"expression":{"type":"AssignmentExpression","start":705,"end":719,"operator":"=","left":{"type":"MemberExpression","start":705,"end":713,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":705,"end":709},"property":{"type":"Identifier","start":710,"end":713,"name":"cdr"}},"right":{"type":"Identifier","start":716,"end":719,"name":"cdr"}}},{"type":"ExpressionStatement","start":729,"end":754,"expression":{"type":"AssignmentExpression","start":729,"end":753,"operator":"=","left":{"type":"MemberExpression","start":729,"end":742,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":729,"end":733},"property":{"type":"Identifier","start":734,"end":742,"name":"injector"}},"right":{"type":"Identifier","start":745,"end":753,"name":"injector"}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":765,"end":825,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":771,"end":779,"name":"ngOnInit"},"value":{"type":"FunctionExpression","start":779,"end":825,"async":true,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":782,"end":825,"body":[{"type":"ExpressionStatement","start":792,"end":819,"expression":{"type":"AwaitExpression","start":792,"end":818,"argument":{"type":"CallExpression","start":798,"end":818,"optional":false,"callee":{"type":"MemberExpression","start":798,"end":816,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":798,"end":802},"property":{"type":"Identifier","start":803,"end":816,"name":"loadComponent"}},"arguments":[]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":830,"end":875,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":830,"end":841,"name":"ngOnDestroy"},"value":{"type":"FunctionExpression","start":841,"end":875,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":844,"end":875,"body":[{"type":"ExpressionStatement","start":854,"end":869,"expression":{"type":"CallExpression","start":854,"end":868,"optional":false,"callee":{"type":"MemberExpression","start":854,"end":866,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":854,"end":858},"property":{"type":"Identifier","start":859,"end":866,"name":"cleanup"}},"arguments":[]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":880,"end":2347,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":886,"end":899,"name":"loadComponent"},"value":{"type":"FunctionExpression","start":899,"end":2347,"async":true,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":902,"end":2347,"body":[{"type":"IfStatement","start":912,"end":1058,"test":{"type":"UnaryExpression","start":916,"end":935,"operator":"!","argument":{"type":"MemberExpression","start":917,"end":935,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":917,"end":921},"property":{"type":"Identifier","start":922,"end":935,"name":"componentInfo"}},"prefix":true},"consequent":{"type":"BlockStatement","start":937,"end":1058,"body":[{"type":"ExpressionStatement","start":951,"end":1028,"expression":{"type":"CallExpression","start":951,"end":1027,"optional":false,"callee":{"type":"MemberExpression","start":951,"end":963,"computed":false,"optional":false,"object":{"type":"Identifier","start":951,"end":958,"name":"console"},"property":{"type":"Identifier","start":959,"end":963,"name":"warn"}},"arguments":[{"type":"Literal","start":964,"end":1026,"value":"[LoadFederatedComponentDirective] No component info provided","raw":"'[LoadFederatedComponentDirective] No component info provided'"}]}},{"type":"ReturnStatement","start":1041,"end":1048,"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":1133,"end":1196,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1139,"end":1195,"id":{"type":"ArrayPattern","start":1139,"end":1163,"elements":[{"type":"Identifier","start":1140,"end":1150,"name":"remoteName"},{"type":"Identifier","start":1152,"end":1162,"name":"modulePath"}]},"init":{"type":"CallExpression","start":1166,"end":1195,"optional":false,"callee":{"type":"MemberExpression","start":1166,"end":1190,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1166,"end":1184,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1166,"end":1170},"property":{"type":"Identifier","start":1171,"end":1184,"name":"componentInfo"}},"property":{"type":"Identifier","start":1185,"end":1190,"name":"split"}},"arguments":[{"type":"Literal","start":1191,"end":1194,"value":"/","raw":"'/'"}]}}]},{"type":"IfStatement","start":1205,"end":1451,"test":{"type":"LogicalExpression","start":1209,"end":1235,"operator":"||","left":{"type":"UnaryExpression","start":1209,"end":1220,"operator":"!","argument":{"type":"Identifier","start":1210,"end":1220,"name":"remoteName"},"prefix":true},"right":{"type":"UnaryExpression","start":1224,"end":1235,"operator":"!","argument":{"type":"Identifier","start":1225,"end":1235,"name":"modulePath"},"prefix":true}},"consequent":{"type":"BlockStatement","start":1237,"end":1451,"body":[{"type":"ExpressionStatement","start":1251,"end":1361,"expression":{"type":"CallExpression","start":1251,"end":1360,"optional":false,"callee":{"type":"MemberExpression","start":1251,"end":1264,"computed":false,"optional":false,"object":{"type":"Identifier","start":1251,"end":1258,"name":"console"},"property":{"type":"Identifier","start":1259,"end":1264,"name":"error"}},"arguments":[{"type":"Literal","start":1265,"end":1359,"value":"[LoadFederatedComponentDirective] Invalid component info format. Use \"remoteName/modulePath\"","raw":"'[LoadFederatedComponentDirective] Invalid component info format. Use \"remoteName/modulePath\"'"}]}},{"type":"ExpressionStatement","start":1374,"end":1421,"expression":{"type":"CallExpression","start":1374,"end":1420,"optional":false,"callee":{"type":"MemberExpression","start":1374,"end":1392,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1374,"end":1378},"property":{"type":"Identifier","start":1379,"end":1392,"name":"showErrorView"}},"arguments":[{"type":"Literal","start":1393,"end":1419,"value":"Invalid component format","raw":"'Invalid component format'"}]}},{"type":"ReturnStatement","start":1434,"end":1441,"argument":null}]},"alternate":null},{"type":"TryStatement","start":1460,"end":2341,"block":{"type":"BlockStatement","start":1464,"end":2056,"body":[{"type":"ExpressionStatement","start":1478,"end":1500,"expression":{"type":"AssignmentExpression","start":1478,"end":1499,"operator":"=","left":{"type":"MemberExpression","start":1478,"end":1492,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1478,"end":1482},"property":{"type":"Identifier","start":1483,"end":1492,"name":"isLoading"}},"right":{"type":"Literal","start":1495,"end":1499,"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":1513,"end":1536,"expression":{"type":"CallExpression","start":1513,"end":1535,"optional":false,"callee":{"type":"MemberExpression","start":1513,"end":1533,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1513,"end":1517},"property":{"type":"Identifier","start":1518,"end":1533,"name":"showLoadingView"}},"arguments":[]}},{"type":"VariableDeclaration","start":1587,"end":1679,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1593,"end":1678,"id":{"type":"Identifier","start":1593,"end":1599,"name":"module"},"init":{"type":"AwaitExpression","start":1602,"end":1678,"argument":{"type":"CallExpression","start":1608,"end":1678,"optional":false,"callee":{"type":"MemberExpression","start":1608,"end":1647,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1608,"end":1630,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1608,"end":1612},"property":{"type":"Identifier","start":1613,"end":1630,"name":"federationService"}},"property":{"type":"Identifier","start":1631,"end":1647,"name":"loadRemoteModule"}},"arguments":[{"type":"Identifier","start":1648,"end":1658,"name":"remoteName"},{"type":"TemplateLiteral","start":1660,"end":1677,"quasis":[{"type":"TemplateElement","start":1661,"end":1663,"tail":false,"value":{"cooked":"./","raw":"./"}},{"type":"TemplateElement","start":1676,"end":1676,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":1665,"end":1675,"name":"modulePath"}]}]}}}]},{"type":"VariableDeclaration","start":1741,"end":1800,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1747,"end":1799,"id":{"type":"Identifier","start":1747,"end":1761,"name":"ComponentClass"},"init":{"type":"CallExpression","start":1764,"end":1799,"optional":false,"callee":{"type":"MemberExpression","start":1764,"end":1791,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1764,"end":1768},"property":{"type":"Identifier","start":1769,"end":1791,"name":"getComponentFromModule"}},"arguments":[{"type":"Identifier","start":1792,"end":1798,"name":"module"}]}}]},{"type":"IfStatement","start":1813,"end":1943,"test":{"type":"UnaryExpression","start":1817,"end":1832,"operator":"!","argument":{"type":"Identifier","start":1818,"end":1832,"name":"ComponentClass"},"prefix":true},"consequent":{"type":"BlockStatement","start":1834,"end":1943,"body":[{"type":"ThrowStatement","start":1852,"end":1929,"argument":{"type":"NewExpression","start":1858,"end":1928,"callee":{"type":"Identifier","start":1862,"end":1867,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":1868,"end":1927,"quasis":[{"type":"TemplateElement","start":1869,"end":1899,"tail":false,"value":{"cooked":"Component not found in module ","raw":"Component not found in module "}},{"type":"TemplateElement","start":1912,"end":1913,"tail":false,"value":{"cooked":"/","raw":"/"}},{"type":"TemplateElement","start":1926,"end":1926,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":1901,"end":1911,"name":"remoteName"},{"type":"Identifier","start":1915,"end":1925,"name":"modulePath"}]}]}}]},"alternate":null},{"type":"ExpressionStatement","start":2003,"end":2046,"expression":{"type":"AwaitExpression","start":2003,"end":2045,"argument":{"type":"CallExpression","start":2009,"end":2045,"optional":false,"callee":{"type":"MemberExpression","start":2009,"end":2029,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2009,"end":2013},"property":{"type":"Identifier","start":2014,"end":2029,"name":"createComponent"}},"arguments":[{"type":"Identifier","start":2030,"end":2044,"name":"ComponentClass"}]}}}]},"handler":{"type":"CatchClause","start":2065,"end":2277,"param":{"type":"Identifier","start":2072,"end":2077,"name":"error"},"body":{"type":"BlockStatement","start":2079,"end":2277,"body":[{"type":"ExpressionStatement","start":2093,"end":2177,"expression":{"type":"CallExpression","start":2093,"end":2176,"optional":false,"callee":{"type":"MemberExpression","start":2093,"end":2106,"computed":false,"optional":false,"object":{"type":"Identifier","start":2093,"end":2100,"name":"console"},"property":{"type":"Identifier","start":2101,"end":2106,"name":"error"}},"arguments":[{"type":"Literal","start":2107,"end":2168,"value":"[LoadFederatedComponentDirective] Failed to load component:","raw":"'[LoadFederatedComponentDirective] Failed to load component:'"},{"type":"Identifier","start":2170,"end":2175,"name":"error"}]}},{"type":"ExpressionStatement","start":2190,"end":2267,"expression":{"type":"CallExpression","start":2190,"end":2266,"optional":false,"callee":{"type":"MemberExpression","start":2190,"end":2208,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2190,"end":2194},"property":{"type":"Identifier","start":2195,"end":2208,"name":"showErrorView"}},"arguments":[{"type":"ConditionalExpression","start":2209,"end":2265,"test":{"type":"BinaryExpression","start":2209,"end":2231,"operator":"instanceof","left":{"type":"Identifier","start":2209,"end":2214,"name":"error"},"right":{"type":"Identifier","start":2226,"end":2231,"name":"Error"}},"consequent":{"type":"MemberExpression","start":2234,"end":2247,"computed":false,"optional":false,"object":{"type":"Identifier","start":2234,"end":2239,"name":"error"},"property":{"type":"Identifier","start":2240,"end":2247,"name":"message"}},"alternate":{"type":"Literal","start":2250,"end":2265,"value":"Unknown error","raw":"'Unknown error'"}}]}}]}},"finalizer":{"type":"BlockStatement","start":2294,"end":2341,"body":[{"type":"ExpressionStatement","start":2308,"end":2331,"expression":{"type":"AssignmentExpression","start":2308,"end":2330,"operator":"=","left":{"type":"MemberExpression","start":2308,"end":2322,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2308,"end":2312},"property":{"type":"Identifier","start":2313,"end":2322,"name":"isLoading"}},"right":{"type":"Literal","start":2325,"end":2330,"value":false,"raw":"false"}}}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2352,"end":2945,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2352,"end":2374,"name":"getComponentFromModule"},"value":{"type":"FunctionExpression","start":2374,"end":2945,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2375,"end":2381,"name":"module"}],"body":{"type":"BlockStatement","start":2383,"end":2945,"body":[{"type":"IfStatement","start":2441,"end":2547,"test":{"type":"LogicalExpression","start":2445,"end":2499,"operator":"&&","left":{"type":"MemberExpression","start":2445,"end":2459,"computed":false,"optional":false,"object":{"type":"Identifier","start":2445,"end":2451,"name":"module"},"property":{"type":"Identifier","start":2452,"end":2459,"name":"default"}},"right":{"type":"BinaryExpression","start":2463,"end":2499,"operator":"===","left":{"type":"UnaryExpression","start":2463,"end":2484,"operator":"typeof","argument":{"type":"MemberExpression","start":2470,"end":2484,"computed":false,"optional":false,"object":{"type":"Identifier","start":2470,"end":2476,"name":"module"},"property":{"type":"Identifier","start":2477,"end":2484,"name":"default"}},"prefix":true},"right":{"type":"Literal","start":2489,"end":2499,"value":"function","raw":"'function'"}}},"consequent":{"type":"BlockStatement","start":2501,"end":2547,"body":[{"type":"ReturnStatement","start":2515,"end":2537,"argument":{"type":"MemberExpression","start":2522,"end":2536,"computed":false,"optional":false,"object":{"type":"Identifier","start":2522,"end":2528,"name":"module"},"property":{"type":"Identifier","start":2529,"end":2536,"name":"default"}}}]},"alternate":null},{"type":"IfStatement","start":2556,"end":2668,"test":{"type":"LogicalExpression","start":2560,"end":2618,"operator":"&&","left":{"type":"MemberExpression","start":2560,"end":2576,"computed":false,"optional":false,"object":{"type":"Identifier","start":2560,"end":2566,"name":"module"},"property":{"type":"Identifier","start":2567,"end":2576,"name":"Component"}},"right":{"type":"BinaryExpression","start":2580,"end":2618,"operator":"===","left":{"type":"UnaryExpression","start":2580,"end":2603,"operator":"typeof","argument":{"type":"MemberExpression","start":2587,"end":2603,"computed":false,"optional":false,"object":{"type":"Identifier","start":2587,"end":2593,"name":"module"},"property":{"type":"Identifier","start":2594,"end":2603,"name":"Component"}},"prefix":true},"right":{"type":"Literal","start":2608,"end":2618,"value":"function","raw":"'function'"}}},"consequent":{"type":"BlockStatement","start":2620,"end":2668,"body":[{"type":"ReturnStatement","start":2634,"end":2658,"argument":{"type":"MemberExpression","start":2641,"end":2657,"computed":false,"optional":false,"object":{"type":"Identifier","start":2641,"end":2647,"name":"module"},"property":{"type":"Identifier","start":2648,"end":2657,"name":"Component"}}}]},"alternate":null},{"type":"ForOfStatement","start":2744,"end":2918,"await":false,"left":{"type":"VariableDeclaration","start":2749,"end":2758,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2755,"end":2758,"id":{"type":"Identifier","start":2755,"end":2758,"name":"key"},"init":null}]},"right":{"type":"CallExpression","start":2762,"end":2781,"optional":false,"callee":{"type":"MemberExpression","start":2762,"end":2773,"computed":false,"optional":false,"object":{"type":"Identifier","start":2762,"end":2768,"name":"Object"},"property":{"type":"Identifier","start":2769,"end":2773,"name":"keys"}},"arguments":[{"type":"Identifier","start":2774,"end":2780,"name":"module"}]},"body":{"type":"BlockStatement","start":2783,"end":2918,"body":[{"type":"IfStatement","start":2797,"end":2908,"test":{"type":"LogicalExpression","start":2801,"end":2855,"operator":"&&","left":{"type":"BinaryExpression","start":2801,"end":2834,"operator":"===","left":{"type":"UnaryExpression","start":2801,"end":2819,"operator":"typeof","argument":{"type":"MemberExpression","start":2808,"end":2819,"computed":true,"optional":false,"object":{"type":"Identifier","start":2808,"end":2814,"name":"module"},"property":{"type":"Identifier","start":2815,"end":2818,"name":"key"}},"prefix":true},"right":{"type":"Literal","start":2824,"end":2834,"value":"function","raw":"'function'"}},"right":{"type":"BinaryExpression","start":2838,"end":2855,"operator":"!==","left":{"type":"Identifier","start":2838,"end":2841,"name":"key"},"right":{"type":"Literal","start":2846,"end":2855,"value":"default","raw":"'default'"}}},"consequent":{"type":"BlockStatement","start":2857,"end":2908,"body":[{"type":"ReturnStatement","start":2875,"end":2894,"argument":{"type":"MemberExpression","start":2882,"end":2893,"computed":true,"optional":false,"object":{"type":"Identifier","start":2882,"end":2888,"name":"module"},"property":{"type":"Identifier","start":2889,"end":2892,"name":"key"}}}]},"alternate":null}]}},{"type":"ReturnStatement","start":2927,"end":2939,"argument":{"type":"Literal","start":2934,"end":2938,"raw":"null","value":null}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2950,"end":3854,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2956,"end":2971,"name":"createComponent"},"value":{"type":"FunctionExpression","start":2971,"end":3854,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":2972,"end":2986,"name":"ComponentClass"}],"body":{"type":"BlockStatement","start":2988,"end":3854,"body":[{"type":"ExpressionStatement","start":2998,"end":3013,"expression":{"type":"CallExpression","start":2998,"end":3012,"optional":false,"callee":{"type":"MemberExpression","start":2998,"end":3010,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2998,"end":3002},"property":{"type":"Identifier","start":3003,"end":3010,"name":"cleanup"}},"arguments":[]}},{"type":"TryStatement","start":3022,"end":3848,"block":{"type":"BlockStatement","start":3026,"end":3690,"body":[{"type":"ExpressionStatement","start":3076,"end":3204,"expression":{"type":"AssignmentExpression","start":3076,"end":3203,"operator":"=","left":{"type":"MemberExpression","start":3076,"end":3093,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3076,"end":3080},"property":{"type":"Identifier","start":3081,"end":3093,"name":"componentRef"}},"right":{"type":"CallExpression","start":3096,"end":3203,"optional":false,"callee":{"type":"MemberExpression","start":3096,"end":3130,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3096,"end":3114,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3096,"end":3100},"property":{"type":"Identifier","start":3101,"end":3114,"name":"viewContainer"}},"property":{"type":"Identifier","start":3115,"end":3130,"name":"createComponent"}},"arguments":[{"type":"Identifier","start":3131,"end":3145,"name":"ComponentClass"},{"type":"ObjectExpression","start":3147,"end":3202,"properties":[{"type":"Property","start":3165,"end":3188,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3165,"end":3173,"name":"injector"},"value":{"type":"MemberExpression","start":3175,"end":3188,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3175,"end":3179},"property":{"type":"Identifier","start":3180,"end":3188,"name":"injector"}},"kind":"init"}]}]}}},{"type":"IfStatement","start":3255,"end":3537,"test":{"type":"MemberExpression","start":3259,"end":3270,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3259,"end":3263},"property":{"type":"Identifier","start":3264,"end":3270,"name":"inputs"}},"consequent":{"type":"BlockStatement","start":3272,"end":3537,"body":[{"type":"ExpressionStatement","start":3290,"end":3523,"expression":{"type":"CallExpression","start":3290,"end":3522,"optional":false,"callee":{"type":"MemberExpression","start":3290,"end":3322,"computed":false,"optional":false,"object":{"type":"CallExpression","start":3290,"end":3314,"optional":false,"callee":{"type":"MemberExpression","start":3290,"end":3301,"computed":false,"optional":false,"object":{"type":"Identifier","start":3290,"end":3296,"name":"Object"},"property":{"type":"Identifier","start":3297,"end":3301,"name":"keys"}},"arguments":[{"type":"MemberExpression","start":3302,"end":3313,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3302,"end":3306},"property":{"type":"Identifier","start":3307,"end":3313,"name":"inputs"}}]},"property":{"type":"Identifier","start":3315,"end":3322,"name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","start":3323,"end":3521,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":3323,"end":3326,"name":"key"}],"body":{"type":"BlockStatement","start":3330,"end":3521,"body":[{"type":"IfStatement","start":3352,"end":3503,"test":{"type":"BinaryExpression","start":3356,"end":3402,"operator":"!==","left":{"type":"ChainExpression","start":3356,"end":3388,"expression":{"type":"MemberExpression","start":3356,"end":3388,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":3356,"end":3383,"computed":false,"optional":true,"object":{"type":"MemberExpression","start":3356,"end":3373,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3356,"end":3360},"property":{"type":"Identifier","start":3361,"end":3373,"name":"componentRef"}},"property":{"type":"Identifier","start":3375,"end":3383,"name":"instance"}},"property":{"type":"Identifier","start":3384,"end":3387,"name":"key"}}},"right":{"type":"Identifier","start":3393,"end":3402,"name":"undefined"}},"consequent":{"type":"BlockStatement","start":3404,"end":3503,"body":[{"type":"ExpressionStatement","start":3430,"end":3481,"expression":{"type":"AssignmentExpression","start":3430,"end":3480,"operator":"=","left":{"type":"MemberExpression","start":3430,"end":3461,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":3430,"end":3456,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3430,"end":3447,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3430,"end":3434},"property":{"type":"Identifier","start":3435,"end":3447,"name":"componentRef"}},"property":{"type":"Identifier","start":3448,"end":3456,"name":"instance"}},"property":{"type":"Identifier","start":3457,"end":3460,"name":"key"}},"right":{"type":"MemberExpression","start":3464,"end":3480,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":3464,"end":3475,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3464,"end":3468},"property":{"type":"Identifier","start":3469,"end":3475,"name":"inputs"}},"property":{"type":"Identifier","start":3476,"end":3479,"name":"key"}}}}]},"alternate":null}]},"id":null}]}}]},"alternate":null},{"type":"ExpressionStatement","start":3590,"end":3642,"expression":{"type":"CallExpression","start":3590,"end":3641,"optional":false,"callee":{"type":"MemberExpression","start":3590,"end":3639,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3590,"end":3625,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3590,"end":3607,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3590,"end":3594},"property":{"type":"Identifier","start":3595,"end":3607,"name":"componentRef"}},"property":{"type":"Identifier","start":3608,"end":3625,"name":"changeDetectorRef"}},"property":{"type":"Identifier","start":3626,"end":3639,"name":"detectChanges"}},"arguments":[]}},{"type":"ExpressionStatement","start":3655,"end":3680,"expression":{"type":"CallExpression","start":3655,"end":3679,"optional":false,"callee":{"type":"MemberExpression","start":3655,"end":3677,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3655,"end":3663,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3655,"end":3659},"property":{"type":"Identifier","start":3660,"end":3663,"name":"cdr"}},"property":{"type":"Identifier","start":3664,"end":3677,"name":"detectChanges"}},"arguments":[]}}]},"handler":{"type":"CatchClause","start":3699,"end":3848,"param":{"type":"Identifier","start":3706,"end":3711,"name":"error"},"body":{"type":"BlockStatement","start":3713,"end":3848,"body":[{"type":"ExpressionStatement","start":3727,"end":3813,"expression":{"type":"CallExpression","start":3727,"end":3812,"optional":false,"callee":{"type":"MemberExpression","start":3727,"end":3740,"computed":false,"optional":false,"object":{"type":"Identifier","start":3727,"end":3734,"name":"console"},"property":{"type":"Identifier","start":3735,"end":3740,"name":"error"}},"arguments":[{"type":"Literal","start":3741,"end":3804,"value":"[LoadFederatedComponentDirective] Failed to create component:","raw":"'[LoadFederatedComponentDirective] Failed to create component:'"},{"type":"Identifier","start":3806,"end":3811,"name":"error"}]}},{"type":"ThrowStatement","start":3826,"end":3838,"argument":{"type":"Identifier","start":3832,"end":3837,"name":"error"}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3859,"end":4159,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3859,"end":3874,"name":"showLoadingView"},"value":{"type":"FunctionExpression","start":3874,"end":4159,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":3877,"end":4159,"body":[{"type":"ExpressionStatement","start":3887,"end":3902,"expression":{"type":"CallExpression","start":3887,"end":3901,"optional":false,"callee":{"type":"MemberExpression","start":3887,"end":3899,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3887,"end":3891},"property":{"type":"Identifier","start":3892,"end":3899,"name":"cleanup"}},"arguments":[]}},{"type":"IfStatement","start":3911,"end":4153,"test":{"type":"MemberExpression","start":3915,"end":3935,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3915,"end":3919},"property":{"type":"Identifier","start":3920,"end":3935,"name":"loadingTemplate"}},"consequent":{"type":"BlockStatement","start":3937,"end":4040,"body":[{"type":"ExpressionStatement","start":3951,"end":4030,"expression":{"type":"AssignmentExpression","start":3951,"end":4029,"operator":"=","left":{"type":"MemberExpression","start":3951,"end":3967,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3951,"end":3955},"property":{"type":"Identifier","start":3956,"end":3967,"name":"currentView"}},"right":{"type":"CallExpression","start":3970,"end":4029,"optional":false,"callee":{"type":"MemberExpression","start":3970,"end":4007,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3970,"end":3988,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3970,"end":3974},"property":{"type":"Identifier","start":3975,"end":3988,"name":"viewContainer"}},"property":{"type":"Identifier","start":3989,"end":4007,"name":"createEmbeddedView"}},"arguments":[{"type":"MemberExpression","start":4008,"end":4028,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4008,"end":4012},"property":{"type":"Identifier","start":4013,"end":4028,"name":"loadingTemplate"}}]}}}]},"alternate":{"type":"BlockStatement","start":4054,"end":4153,"body":[{"type":"ExpressionStatement","start":4111,"end":4143,"expression":{"type":"CallExpression","start":4111,"end":4142,"optional":false,"callee":{"type":"MemberExpression","start":4111,"end":4140,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4111,"end":4115},"property":{"type":"Identifier","start":4116,"end":4140,"name":"createDefaultLoadingView"}},"arguments":[]}}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4164,"end":4620,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4164,"end":4177,"name":"showErrorView"},"value":{"type":"FunctionExpression","start":4177,"end":4620,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":4178,"end":4183,"name":"error"}],"body":{"type":"BlockStatement","start":4185,"end":4620,"body":[{"type":"ExpressionStatement","start":4195,"end":4210,"expression":{"type":"CallExpression","start":4195,"end":4209,"optional":false,"callee":{"type":"MemberExpression","start":4195,"end":4207,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4195,"end":4199},"property":{"type":"Identifier","start":4200,"end":4207,"name":"cleanup"}},"arguments":[]}},{"type":"IfStatement","start":4219,"end":4614,"test":{"type":"MemberExpression","start":4223,"end":4241,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4223,"end":4227},"property":{"type":"Identifier","start":4228,"end":4241,"name":"errorTemplate"}},"consequent":{"type":"BlockStatement","start":4243,"end":4355,"body":[{"type":"ExpressionStatement","start":4257,"end":4345,"expression":{"type":"AssignmentExpression","start":4257,"end":4344,"operator":"=","left":{"type":"MemberExpression","start":4257,"end":4273,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4257,"end":4261},"property":{"type":"Identifier","start":4262,"end":4273,"name":"currentView"}},"right":{"type":"CallExpression","start":4276,"end":4344,"optional":false,"callee":{"type":"MemberExpression","start":4276,"end":4313,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4276,"end":4294,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4276,"end":4280},"property":{"type":"Identifier","start":4281,"end":4294,"name":"viewContainer"}},"property":{"type":"Identifier","start":4295,"end":4313,"name":"createEmbeddedView"}},"arguments":[{"type":"MemberExpression","start":4314,"end":4332,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4314,"end":4318},"property":{"type":"Identifier","start":4319,"end":4332,"name":"errorTemplate"}},{"type":"ObjectExpression","start":4334,"end":4343,"properties":[{"type":"Property","start":4336,"end":4341,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4336,"end":4341,"name":"error"},"value":{"type":"Identifier","start":4336,"end":4341,"name":"error"},"kind":"init"}]}]}}}]},"alternate":{"type":"IfStatement","start":4369,"end":4614,"test":{"type":"MemberExpression","start":4373,"end":4394,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4373,"end":4377},"property":{"type":"Identifier","start":4378,"end":4394,"name":"fallbackTemplate"}},"consequent":{"type":"BlockStatement","start":4396,"end":4500,"body":[{"type":"ExpressionStatement","start":4410,"end":4490,"expression":{"type":"AssignmentExpression","start":4410,"end":4489,"operator":"=","left":{"type":"MemberExpression","start":4410,"end":4426,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4410,"end":4414},"property":{"type":"Identifier","start":4415,"end":4426,"name":"currentView"}},"right":{"type":"CallExpression","start":4429,"end":4489,"optional":false,"callee":{"type":"MemberExpression","start":4429,"end":4466,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4429,"end":4447,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4429,"end":4433},"property":{"type":"Identifier","start":4434,"end":4447,"name":"viewContainer"}},"property":{"type":"Identifier","start":4448,"end":4466,"name":"createEmbeddedView"}},"arguments":[{"type":"MemberExpression","start":4467,"end":4488,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4467,"end":4471},"property":{"type":"Identifier","start":4472,"end":4488,"name":"fallbackTemplate"}}]}}}]},"alternate":{"type":"BlockStatement","start":4514,"end":4614,"body":[{"type":"ExpressionStatement","start":4569,"end":4604,"expression":{"type":"CallExpression","start":4569,"end":4603,"optional":false,"callee":{"type":"MemberExpression","start":4569,"end":4596,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4569,"end":4573},"property":{"type":"Identifier","start":4574,"end":4596,"name":"createDefaultErrorView"}},"arguments":[{"type":"Identifier","start":4597,"end":4602,"name":"error"}]}}]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4625,"end":5051,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4625,"end":4649,"name":"createDefaultLoadingView"},"value":{"type":"FunctionExpression","start":4649,"end":5051,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":4652,"end":5051,"body":[{"type":"VariableDeclaration","start":4662,"end":4704,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4668,"end":4703,"id":{"type":"Identifier","start":4668,"end":4671,"name":"div"},"init":{"type":"CallExpression","start":4674,"end":4703,"optional":false,"callee":{"type":"MemberExpression","start":4674,"end":4696,"computed":false,"optional":false,"object":{"type":"Identifier","start":4674,"end":4682,"name":"document"},"property":{"type":"Identifier","start":4683,"end":4696,"name":"createElement"}},"arguments":[{"type":"Literal","start":4697,"end":4702,"value":"div","raw":"'div'"}]}}]},{"type":"ExpressionStatement","start":4713,"end":4740,"expression":{"type":"AssignmentExpression","start":4713,"end":4739,"operator":"=","left":{"type":"MemberExpression","start":4713,"end":4730,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4713,"end":4722,"computed":false,"optional":false,"object":{"type":"Identifier","start":4713,"end":4716,"name":"div"},"property":{"type":"Identifier","start":4717,"end":4722,"name":"style"}},"property":{"type":"Identifier","start":4723,"end":4730,"name":"padding"}},"right":{"type":"Literal","start":4733,"end":4739,"value":"20px","raw":"'20px'"}}},{"type":"ExpressionStatement","start":4749,"end":4780,"expression":{"type":"AssignmentExpression","start":4749,"end":4779,"operator":"=","left":{"type":"MemberExpression","start":4749,"end":4768,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4749,"end":4758,"computed":false,"optional":false,"object":{"type":"Identifier","start":4749,"end":4752,"name":"div"},"property":{"type":"Identifier","start":4753,"end":4758,"name":"style"}},"property":{"type":"Identifier","start":4759,"end":4768,"name":"textAlign"}},"right":{"type":"Literal","start":4771,"end":4779,"value":"center","raw":"'center'"}}},{"type":"ExpressionStatement","start":4789,"end":4814,"expression":{"type":"AssignmentExpression","start":4789,"end":4813,"operator":"=","left":{"type":"MemberExpression","start":4789,"end":4804,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4789,"end":4798,"computed":false,"optional":false,"object":{"type":"Identifier","start":4789,"end":4792,"name":"div"},"property":{"type":"Identifier","start":4793,"end":4798,"name":"style"}},"property":{"type":"Identifier","start":4799,"end":4804,"name":"color"}},"right":{"type":"Literal","start":4807,"end":4813,"value":"#666","raw":"'#666'"}}},{"type":"ExpressionStatement","start":4823,"end":4874,"expression":{"type":"AssignmentExpression","start":4823,"end":4873,"operator":"=","left":{"type":"MemberExpression","start":4823,"end":4836,"computed":false,"optional":false,"object":{"type":"Identifier","start":4823,"end":4826,"name":"div"},"property":{"type":"Identifier","start":4827,"end":4836,"name":"innerHTML"}},"right":{"type":"Literal","start":4839,"end":4873,"value":"⏳ Loading federated component...","raw":"'⏳ Loading federated component...'"}}},{"type":"VariableDeclaration","start":4883,"end":4925,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4889,"end":4924,"id":{"type":"Identifier","start":4889,"end":4899,"name":"elementRef"},"init":{"type":"ObjectExpression","start":4902,"end":4924,"properties":[{"type":"Property","start":4904,"end":4922,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4904,"end":4917,"name":"nativeElement"},"value":{"type":"Identifier","start":4919,"end":4922,"name":"div"},"kind":"init"}]}}]},{"type":"ExpressionStatement","start":4934,"end":5045,"expression":{"type":"AssignmentExpression","start":4934,"end":5044,"operator":"=","left":{"type":"MemberExpression","start":4934,"end":4950,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4934,"end":4938},"property":{"type":"Identifier","start":4939,"end":4950,"name":"currentView"}},"right":{"type":"CallExpression","start":4953,"end":5044,"optional":false,"callee":{"type":"MemberExpression","start":4953,"end":4990,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4953,"end":4971,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4953,"end":4957},"property":{"type":"Identifier","start":4958,"end":4971,"name":"viewContainer"}},"property":{"type":"Identifier","start":4972,"end":4990,"name":"createEmbeddedView"}},"arguments":[{"type":"ObjectExpression","start":4991,"end":5043,"properties":[{"type":"Property","start":4993,"end":5041,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4993,"end":5011,"name":"createEmbeddedView"},"value":{"type":"ArrowFunctionExpression","start":5013,"end":5041,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ObjectExpression","start":5020,"end":5040,"properties":[{"type":"Property","start":5022,"end":5038,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5022,"end":5031,"name":"rootNodes"},"value":{"type":"ArrayExpression","start":5033,"end":5038,"elements":[{"type":"Identifier","start":5034,"end":5037,"name":"div"}]},"kind":"init"}]},"id":null},"kind":"init"}]}]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5056,"end":5640,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5056,"end":5078,"name":"createDefaultErrorView"},"value":{"type":"FunctionExpression","start":5078,"end":5640,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":5079,"end":5084,"name":"error"}],"body":{"type":"BlockStatement","start":5086,"end":5640,"body":[{"type":"VariableDeclaration","start":5096,"end":5138,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5102,"end":5137,"id":{"type":"Identifier","start":5102,"end":5105,"name":"div"},"init":{"type":"CallExpression","start":5108,"end":5137,"optional":false,"callee":{"type":"MemberExpression","start":5108,"end":5130,"computed":false,"optional":false,"object":{"type":"Identifier","start":5108,"end":5116,"name":"document"},"property":{"type":"Identifier","start":5117,"end":5130,"name":"createElement"}},"arguments":[{"type":"Literal","start":5131,"end":5136,"value":"div","raw":"'div'"}]}}]},{"type":"ExpressionStatement","start":5147,"end":5174,"expression":{"type":"AssignmentExpression","start":5147,"end":5173,"operator":"=","left":{"type":"MemberExpression","start":5147,"end":5164,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5147,"end":5156,"computed":false,"optional":false,"object":{"type":"Identifier","start":5147,"end":5150,"name":"div"},"property":{"type":"Identifier","start":5151,"end":5156,"name":"style"}},"property":{"type":"Identifier","start":5157,"end":5164,"name":"padding"}},"right":{"type":"Literal","start":5167,"end":5173,"value":"20px","raw":"'20px'"}}},{"type":"ExpressionStatement","start":5183,"end":5222,"expression":{"type":"AssignmentExpression","start":5183,"end":5221,"operator":"=","left":{"type":"MemberExpression","start":5183,"end":5199,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5183,"end":5192,"computed":false,"optional":false,"object":{"type":"Identifier","start":5183,"end":5186,"name":"div"},"property":{"type":"Identifier","start":5187,"end":5192,"name":"style"}},"property":{"type":"Identifier","start":5193,"end":5199,"name":"border"}},"right":{"type":"Literal","start":5202,"end":5221,"value":"1px solid #f5c6cb","raw":"'1px solid #f5c6cb'"}}},{"type":"ExpressionStatement","start":5231,"end":5269,"expression":{"type":"AssignmentExpression","start":5231,"end":5268,"operator":"=","left":{"type":"MemberExpression","start":5231,"end":5256,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5231,"end":5240,"computed":false,"optional":false,"object":{"type":"Identifier","start":5231,"end":5234,"name":"div"},"property":{"type":"Identifier","start":5235,"end":5240,"name":"style"}},"property":{"type":"Identifier","start":5241,"end":5256,"name":"backgroundColor"}},"right":{"type":"Literal","start":5259,"end":5268,"value":"#f8d7da","raw":"'#f8d7da'"}}},{"type":"ExpressionStatement","start":5278,"end":5306,"expression":{"type":"AssignmentExpression","start":5278,"end":5305,"operator":"=","left":{"type":"MemberExpression","start":5278,"end":5293,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5278,"end":5287,"computed":false,"optional":false,"object":{"type":"Identifier","start":5278,"end":5281,"name":"div"},"property":{"type":"Identifier","start":5282,"end":5287,"name":"style"}},"property":{"type":"Identifier","start":5288,"end":5293,"name":"color"}},"right":{"type":"Literal","start":5296,"end":5305,"value":"#721c24","raw":"'#721c24'"}}},{"type":"ExpressionStatement","start":5315,"end":5346,"expression":{"type":"AssignmentExpression","start":5315,"end":5345,"operator":"=","left":{"type":"MemberExpression","start":5315,"end":5337,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5315,"end":5324,"computed":false,"optional":false,"object":{"type":"Identifier","start":5315,"end":5318,"name":"div"},"property":{"type":"Identifier","start":5319,"end":5324,"name":"style"}},"property":{"type":"Identifier","start":5325,"end":5337,"name":"borderRadius"}},"right":{"type":"Literal","start":5340,"end":5345,"value":"4px","raw":"'4px'"}}},{"type":"ExpressionStatement","start":5355,"end":5514,"expression":{"type":"AssignmentExpression","start":5355,"end":5513,"operator":"=","left":{"type":"MemberExpression","start":5355,"end":5368,"computed":false,"optional":false,"object":{"type":"Identifier","start":5355,"end":5358,"name":"div"},"property":{"type":"Identifier","start":5359,"end":5368,"name":"innerHTML"}},"right":{"type":"TemplateLiteral","start":5371,"end":5513,"quasis":[{"type":"TemplateElement","start":5372,"end":5450,"tail":false,"value":{"cooked":"\n      <strong>❌ Failed to load federated component</strong><br>\n      <small>","raw":"\n      <strong>❌ Failed to load federated component</strong><br>\n      <small>"}},{"type":"TemplateElement","start":5471,"end":5494,"tail":false,"value":{"cooked":"</small><br>\n      <em>","raw":"</small><br>\n      <em>"}},{"type":"TemplateElement","start":5502,"end":5512,"tail":true,"value":{"cooked":"</em>\n    ","raw":"</em>\n    "}}],"expressions":[{"type":"MemberExpression","start":5452,"end":5470,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5452,"end":5456},"property":{"type":"Identifier","start":5457,"end":5470,"name":"componentInfo"}},{"type":"Identifier","start":5496,"end":5501,"name":"error"}]}}},{"type":"ExpressionStatement","start":5523,"end":5634,"expression":{"type":"AssignmentExpression","start":5523,"end":5633,"operator":"=","left":{"type":"MemberExpression","start":5523,"end":5539,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5523,"end":5527},"property":{"type":"Identifier","start":5528,"end":5539,"name":"currentView"}},"right":{"type":"CallExpression","start":5542,"end":5633,"optional":false,"callee":{"type":"MemberExpression","start":5542,"end":5579,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5542,"end":5560,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5542,"end":5546},"property":{"type":"Identifier","start":5547,"end":5560,"name":"viewContainer"}},"property":{"type":"Identifier","start":5561,"end":5579,"name":"createEmbeddedView"}},"arguments":[{"type":"ObjectExpression","start":5580,"end":5632,"properties":[{"type":"Property","start":5582,"end":5630,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5582,"end":5600,"name":"createEmbeddedView"},"value":{"type":"ArrowFunctionExpression","start":5602,"end":5630,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ObjectExpression","start":5609,"end":5629,"properties":[{"type":"Property","start":5611,"end":5627,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5611,"end":5620,"name":"rootNodes"},"value":{"type":"ArrayExpression","start":5622,"end":5627,"elements":[{"type":"Identifier","start":5623,"end":5626,"name":"div"}]},"kind":"init"}]},"id":null},"kind":"init"}]}]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5645,"end":5949,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5645,"end":5652,"name":"cleanup"},"value":{"type":"FunctionExpression","start":5652,"end":5949,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":5655,"end":5949,"body":[{"type":"IfStatement","start":5665,"end":5783,"test":{"type":"MemberExpression","start":5669,"end":5686,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5669,"end":5673},"property":{"type":"Identifier","start":5674,"end":5686,"name":"componentRef"}},"consequent":{"type":"BlockStatement","start":5688,"end":5783,"body":[{"type":"ExpressionStatement","start":5702,"end":5730,"expression":{"type":"CallExpression","start":5702,"end":5729,"optional":false,"callee":{"type":"MemberExpression","start":5702,"end":5727,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5702,"end":5719,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5702,"end":5706},"property":{"type":"Identifier","start":5707,"end":5719,"name":"componentRef"}},"property":{"type":"Identifier","start":5720,"end":5727,"name":"destroy"}},"arguments":[]}},{"type":"ExpressionStatement","start":5743,"end":5773,"expression":{"type":"AssignmentExpression","start":5743,"end":5772,"operator":"=","left":{"type":"MemberExpression","start":5743,"end":5760,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5743,"end":5747},"property":{"type":"Identifier","start":5748,"end":5760,"name":"componentRef"}},"right":{"type":"Identifier","start":5763,"end":5772,"name":"undefined"}}}]},"alternate":null},{"type":"IfStatement","start":5792,"end":5907,"test":{"type":"MemberExpression","start":5796,"end":5812,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5796,"end":5800},"property":{"type":"Identifier","start":5801,"end":5812,"name":"currentView"}},"consequent":{"type":"BlockStatement","start":5814,"end":5907,"body":[{"type":"ExpressionStatement","start":5828,"end":5855,"expression":{"type":"CallExpression","start":5828,"end":5854,"optional":false,"callee":{"type":"MemberExpression","start":5828,"end":5852,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5828,"end":5844,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5828,"end":5832},"property":{"type":"Identifier","start":5833,"end":5844,"name":"currentView"}},"property":{"type":"Identifier","start":5845,"end":5852,"name":"destroy"}},"arguments":[]}},{"type":"ExpressionStatement","start":5868,"end":5897,"expression":{"type":"AssignmentExpression","start":5868,"end":5896,"operator":"=","left":{"type":"MemberExpression","start":5868,"end":5884,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5868,"end":5872},"property":{"type":"Identifier","start":5873,"end":5884,"name":"currentView"}},"right":{"type":"Identifier","start":5887,"end":5896,"name":"undefined"}}}]},"alternate":null},{"type":"ExpressionStatement","start":5916,"end":5943,"expression":{"type":"CallExpression","start":5916,"end":5942,"optional":false,"callee":{"type":"MemberExpression","start":5916,"end":5940,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5916,"end":5934,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5916,"end":5920},"property":{"type":"Identifier","start":5921,"end":5934,"name":"viewContainer"}},"property":{"type":"Identifier","start":5935,"end":5940,"name":"clear"}},"arguments":[]}}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":5954,"end":6263,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5961,"end":5965,"name":"ɵfac"},"value":{"type":"CallExpression","start":5968,"end":6262,"optional":false,"callee":{"type":"MemberExpression","start":5968,"end":5989,"computed":false,"optional":false,"object":{"type":"Identifier","start":5968,"end":5970,"name":"i0"},"property":{"type":"Identifier","start":5971,"end":5989,"name":"ɵɵngDeclareFactory"}},"arguments":[{"type":"ObjectExpression","start":5990,"end":6261,"properties":[{"type":"Property","start":5992,"end":6012,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5992,"end":6002,"name":"minVersion"},"value":{"type":"Literal","start":6004,"end":6012,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":6014,"end":6032,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6014,"end":6021,"name":"version"},"value":{"type":"Literal","start":6023,"end":6032,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":6034,"end":6046,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6034,"end":6042,"name":"ngImport"},"value":{"type":"Identifier","start":6044,"end":6046,"name":"i0"},"kind":"init"},{"type":"Property","start":6048,"end":6085,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6048,"end":6052,"name":"type"},"value":{"type":"Identifier","start":6054,"end":6085,"name":"LoadFederatedComponentDirective"},"kind":"init"},{"type":"Property","start":6087,"end":6221,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6087,"end":6091,"name":"deps"},"value":{"type":"ArrayExpression","start":6093,"end":6221,"elements":[{"type":"ObjectExpression","start":6094,"end":6124,"properties":[{"type":"Property","start":6096,"end":6122,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6096,"end":6101,"name":"token"},"value":{"type":"MemberExpression","start":6103,"end":6122,"computed":false,"optional":false,"object":{"type":"Identifier","start":6103,"end":6105,"name":"i0"},"property":{"type":"Identifier","start":6106,"end":6122,"name":"ViewContainerRef"}},"kind":"init"}]},{"type":"ObjectExpression","start":6126,"end":6163,"properties":[{"type":"Property","start":6128,"end":6161,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6128,"end":6133,"name":"token"},"value":{"type":"MemberExpression","start":6135,"end":6161,"computed":false,"optional":false,"object":{"type":"Identifier","start":6135,"end":6137,"name":"i1"},"property":{"type":"Identifier","start":6138,"end":6161,"name":"NativeFederationService"}},"kind":"init"}]},{"type":"ObjectExpression","start":6165,"end":6196,"properties":[{"type":"Property","start":6167,"end":6194,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6167,"end":6172,"name":"token"},"value":{"type":"MemberExpression","start":6174,"end":6194,"computed":false,"optional":false,"object":{"type":"Identifier","start":6174,"end":6176,"name":"i0"},"property":{"type":"Identifier","start":6177,"end":6194,"name":"ChangeDetectorRef"}},"kind":"init"}]},{"type":"ObjectExpression","start":6198,"end":6220,"properties":[{"type":"Property","start":6200,"end":6218,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6200,"end":6205,"name":"token"},"value":{"type":"MemberExpression","start":6207,"end":6218,"computed":false,"optional":false,"object":{"type":"Identifier","start":6207,"end":6209,"name":"i0"},"property":{"type":"Identifier","start":6210,"end":6218,"name":"Injector"}},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":6223,"end":6259,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6223,"end":6229,"name":"target"},"value":{"type":"MemberExpression","start":6231,"end":6259,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6231,"end":6249,"computed":false,"optional":false,"object":{"type":"Identifier","start":6231,"end":6233,"name":"i0"},"property":{"type":"Identifier","start":6234,"end":6249,"name":"ɵɵFactoryTarget"}},"property":{"type":"Identifier","start":6250,"end":6259,"name":"Directive"}},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":6268,"end":6699,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":6275,"end":6279,"name":"ɵdir"},"value":{"type":"CallExpression","start":6282,"end":6698,"optional":false,"callee":{"type":"MemberExpression","start":6282,"end":6305,"computed":false,"optional":false,"object":{"type":"Identifier","start":6282,"end":6284,"name":"i0"},"property":{"type":"Identifier","start":6285,"end":6305,"name":"ɵɵngDeclareDirective"}},"arguments":[{"type":"ObjectExpression","start":6306,"end":6697,"properties":[{"type":"Property","start":6308,"end":6328,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6308,"end":6318,"name":"minVersion"},"value":{"type":"Literal","start":6320,"end":6328,"value":"14.0.0","raw":"\"14.0.0\""},"kind":"init"},{"type":"Property","start":6330,"end":6348,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6330,"end":6337,"name":"version"},"value":{"type":"Literal","start":6339,"end":6348,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":6350,"end":6387,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6350,"end":6354,"name":"type"},"value":{"type":"Identifier","start":6356,"end":6387,"name":"LoadFederatedComponentDirective"},"kind":"init"},{"type":"Property","start":6389,"end":6418,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6389,"end":6397,"name":"selector"},"value":{"type":"Literal","start":6399,"end":6418,"value":"[nfLoadComponent]","raw":"\"[nfLoadComponent]\""},"kind":"init"},{"type":"Property","start":6420,"end":6681,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6420,"end":6426,"name":"inputs"},"value":{"type":"ObjectExpression","start":6428,"end":6681,"properties":[{"type":"Property","start":6430,"end":6481,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6430,"end":6443,"name":"componentInfo"},"value":{"type":"ArrayExpression","start":6445,"end":6481,"elements":[{"type":"Literal","start":6446,"end":6463,"value":"nfLoadComponent","raw":"\"nfLoadComponent\""},{"type":"Literal","start":6465,"end":6480,"value":"componentInfo","raw":"\"componentInfo\""}]},"kind":"init"},{"type":"Property","start":6483,"end":6535,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6483,"end":6499,"name":"fallbackTemplate"},"value":{"type":"ArrayExpression","start":6501,"end":6535,"elements":[{"type":"Literal","start":6502,"end":6514,"value":"nfFallback","raw":"\"nfFallback\""},{"type":"Literal","start":6516,"end":6534,"value":"fallbackTemplate","raw":"\"fallbackTemplate\""}]},"kind":"init"},{"type":"Property","start":6537,"end":6594,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6537,"end":6552,"name":"loadingTemplate"},"value":{"type":"ArrayExpression","start":6554,"end":6594,"elements":[{"type":"Literal","start":6555,"end":6574,"value":"nfLoadingTemplate","raw":"\"nfLoadingTemplate\""},{"type":"Literal","start":6576,"end":6593,"value":"loadingTemplate","raw":"\"loadingTemplate\""}]},"kind":"init"},{"type":"Property","start":6596,"end":6647,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6596,"end":6609,"name":"errorTemplate"},"value":{"type":"ArrayExpression","start":6611,"end":6647,"elements":[{"type":"Literal","start":6612,"end":6629,"value":"nfErrorTemplate","raw":"\"nfErrorTemplate\""},{"type":"Literal","start":6631,"end":6646,"value":"errorTemplate","raw":"\"errorTemplate\""}]},"kind":"init"},{"type":"Property","start":6649,"end":6679,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6649,"end":6655,"name":"inputs"},"value":{"type":"ArrayExpression","start":6657,"end":6679,"elements":[{"type":"Literal","start":6658,"end":6668,"value":"nfInputs","raw":"\"nfInputs\""},{"type":"Literal","start":6670,"end":6678,"value":"inputs","raw":"\"inputs\""}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":6683,"end":6695,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6683,"end":6691,"name":"ngImport"},"value":{"type":"Identifier","start":6693,"end":6695,"name":"i0"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":6702,"end":7656,"expression":{"type":"CallExpression","start":6702,"end":7655,"optional":false,"callee":{"type":"MemberExpression","start":6702,"end":6729,"computed":false,"optional":false,"object":{"type":"Identifier","start":6702,"end":6704,"name":"i0"},"property":{"type":"Identifier","start":6705,"end":6729,"name":"ɵɵngDeclareClassMetadata"}},"arguments":[{"type":"ObjectExpression","start":6730,"end":7654,"properties":[{"type":"Property","start":6732,"end":6752,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6732,"end":6742,"name":"minVersion"},"value":{"type":"Literal","start":6744,"end":6752,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":6754,"end":6772,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6754,"end":6761,"name":"version"},"value":{"type":"Literal","start":6763,"end":6772,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":6774,"end":6786,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6774,"end":6782,"name":"ngImport"},"value":{"type":"Identifier","start":6784,"end":6786,"name":"i0"},"kind":"init"},{"type":"Property","start":6788,"end":6825,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6788,"end":6792,"name":"type"},"value":{"type":"Identifier","start":6794,"end":6825,"name":"LoadFederatedComponentDirective"},"kind":"init"},{"type":"Property","start":6827,"end":6971,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6827,"end":6837,"name":"decorators"},"value":{"type":"ArrayExpression","start":6839,"end":6971,"elements":[{"type":"ObjectExpression","start":6840,"end":6970,"properties":[{"type":"Property","start":6854,"end":6869,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6854,"end":6858,"name":"type"},"value":{"type":"Identifier","start":6860,"end":6869,"name":"Directive"},"kind":"init"},{"type":"Property","start":6883,"end":6960,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6883,"end":6887,"name":"args"},"value":{"type":"ArrayExpression","start":6889,"end":6960,"elements":[{"type":"ObjectExpression","start":6890,"end":6959,"properties":[{"type":"Property","start":6912,"end":6941,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6912,"end":6920,"name":"selector"},"value":{"type":"Literal","start":6922,"end":6941,"value":"[nfLoadComponent]","raw":"'[nfLoadComponent]'"},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":6973,"end":7119,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6973,"end":6987,"name":"ctorParameters"},"value":{"type":"ArrowFunctionExpression","start":6989,"end":7119,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ArrayExpression","start":6995,"end":7119,"elements":[{"type":"ObjectExpression","start":6996,"end":7025,"properties":[{"type":"Property","start":6998,"end":7023,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6998,"end":7002,"name":"type"},"value":{"type":"MemberExpression","start":7004,"end":7023,"computed":false,"optional":false,"object":{"type":"Identifier","start":7004,"end":7006,"name":"i0"},"property":{"type":"Identifier","start":7007,"end":7023,"name":"ViewContainerRef"}},"kind":"init"}]},{"type":"ObjectExpression","start":7027,"end":7063,"properties":[{"type":"Property","start":7029,"end":7061,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7029,"end":7033,"name":"type"},"value":{"type":"MemberExpression","start":7035,"end":7061,"computed":false,"optional":false,"object":{"type":"Identifier","start":7035,"end":7037,"name":"i1"},"property":{"type":"Identifier","start":7038,"end":7061,"name":"NativeFederationService"}},"kind":"init"}]},{"type":"ObjectExpression","start":7065,"end":7095,"properties":[{"type":"Property","start":7067,"end":7093,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7067,"end":7071,"name":"type"},"value":{"type":"MemberExpression","start":7073,"end":7093,"computed":false,"optional":false,"object":{"type":"Identifier","start":7073,"end":7075,"name":"i0"},"property":{"type":"Identifier","start":7076,"end":7093,"name":"ChangeDetectorRef"}},"kind":"init"}]},{"type":"ObjectExpression","start":7097,"end":7118,"properties":[{"type":"Property","start":7099,"end":7116,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7099,"end":7103,"name":"type"},"value":{"type":"MemberExpression","start":7105,"end":7116,"computed":false,"optional":false,"object":{"type":"Identifier","start":7105,"end":7107,"name":"i0"},"property":{"type":"Identifier","start":7108,"end":7116,"name":"Injector"}},"kind":"init"}]}]},"id":null},"kind":"init"},{"type":"Property","start":7121,"end":7652,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7121,"end":7135,"name":"propDecorators"},"value":{"type":"ObjectExpression","start":7137,"end":7652,"properties":[{"type":"Property","start":7139,"end":7242,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7139,"end":7152,"name":"componentInfo"},"value":{"type":"ArrayExpression","start":7154,"end":7242,"elements":[{"type":"ObjectExpression","start":7155,"end":7241,"properties":[{"type":"Property","start":7173,"end":7184,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7173,"end":7177,"name":"type"},"value":{"type":"Identifier","start":7179,"end":7184,"name":"Input"},"kind":"init"},{"type":"Property","start":7202,"end":7227,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7202,"end":7206,"name":"args"},"value":{"type":"ArrayExpression","start":7208,"end":7227,"elements":[{"type":"Literal","start":7209,"end":7226,"value":"nfLoadComponent","raw":"'nfLoadComponent'"}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":7244,"end":7345,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7244,"end":7260,"name":"fallbackTemplate"},"value":{"type":"ArrayExpression","start":7262,"end":7345,"elements":[{"type":"ObjectExpression","start":7263,"end":7344,"properties":[{"type":"Property","start":7281,"end":7292,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7281,"end":7285,"name":"type"},"value":{"type":"Identifier","start":7287,"end":7292,"name":"Input"},"kind":"init"},{"type":"Property","start":7310,"end":7330,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7310,"end":7314,"name":"args"},"value":{"type":"ArrayExpression","start":7316,"end":7330,"elements":[{"type":"Literal","start":7317,"end":7329,"value":"nfFallback","raw":"'nfFallback'"}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":7347,"end":7454,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7347,"end":7362,"name":"loadingTemplate"},"value":{"type":"ArrayExpression","start":7364,"end":7454,"elements":[{"type":"ObjectExpression","start":7365,"end":7453,"properties":[{"type":"Property","start":7383,"end":7394,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7383,"end":7387,"name":"type"},"value":{"type":"Identifier","start":7389,"end":7394,"name":"Input"},"kind":"init"},{"type":"Property","start":7412,"end":7439,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7412,"end":7416,"name":"args"},"value":{"type":"ArrayExpression","start":7418,"end":7439,"elements":[{"type":"Literal","start":7419,"end":7438,"value":"nfLoadingTemplate","raw":"'nfLoadingTemplate'"}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":7456,"end":7559,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7456,"end":7469,"name":"errorTemplate"},"value":{"type":"ArrayExpression","start":7471,"end":7559,"elements":[{"type":"ObjectExpression","start":7472,"end":7558,"properties":[{"type":"Property","start":7490,"end":7501,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7490,"end":7494,"name":"type"},"value":{"type":"Identifier","start":7496,"end":7501,"name":"Input"},"kind":"init"},{"type":"Property","start":7519,"end":7544,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7519,"end":7523,"name":"args"},"value":{"type":"ArrayExpression","start":7525,"end":7544,"elements":[{"type":"Literal","start":7526,"end":7543,"value":"nfErrorTemplate","raw":"'nfErrorTemplate'"}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":7561,"end":7650,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7561,"end":7567,"name":"inputs"},"value":{"type":"ArrayExpression","start":7569,"end":7650,"elements":[{"type":"ObjectExpression","start":7570,"end":7649,"properties":[{"type":"Property","start":7588,"end":7599,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7588,"end":7592,"name":"type"},"value":{"type":"Identifier","start":7594,"end":7599,"name":"Input"},"kind":"init"},{"type":"Property","start":7617,"end":7635,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7617,"end":7621,"name":"args"},"value":{"type":"ArrayExpression","start":7623,"end":7635,"elements":[{"type":"Literal","start":7624,"end":7634,"value":"nfInputs","raw":"'nfInputs'"}]},"kind":"init"}]}]},"kind":"init"}]},"kind":"init"}]}]}}],"_rollupRemoved":[{"end":22919,"start":7657,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { Directive, Input, ViewContainerRef, ChangeDetectorRef, TemplateRef, Injector } from '@angular/core';\nimport { NativeFederationService } from '../native-federation.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../native-federation.service\";\nexport class LoadFederatedComponentDirective {\n    viewContainer;\n    federationService;\n    cdr;\n    injector;\n    componentInfo;\n    fallbackTemplate;\n    loadingTemplate;\n    errorTemplate;\n    inputs;\n    componentRef;\n    currentView;\n    isLoading = false;\n    constructor(viewContainer, federationService, cdr, injector) {\n        this.viewContainer = viewContainer;\n        this.federationService = federationService;\n        this.cdr = cdr;\n        this.injector = injector;\n    }\n    async ngOnInit() {\n        await this.loadComponent();\n    }\n    ngOnDestroy() {\n        this.cleanup();\n    }\n    async loadComponent() {\n        if (!this.componentInfo) {\n            console.warn('[LoadFederatedComponentDirective] No component info provided');\n            return;\n        }\n        // Parse component info (format: \"remoteName/modulePath\")\n        const [remoteName, modulePath] = this.componentInfo.split('/');\n        if (!remoteName || !modulePath) {\n            console.error('[LoadFederatedComponentDirective] Invalid component info format. Use \"remoteName/modulePath\"');\n            this.showErrorView('Invalid component format');\n            return;\n        }\n        try {\n            this.isLoading = true;\n            this.showLoadingView();\n            // Load the remote module\n            const module = await this.federationService.loadRemoteModule(remoteName, `./${modulePath}`);\n            // Get the component from the module\n            const ComponentClass = this.getComponentFromModule(module);\n            if (!ComponentClass) {\n                throw new Error(`Component not found in module ${remoteName}/${modulePath}`);\n            }\n            // Create and insert the component\n            await this.createComponent(ComponentClass);\n        }\n        catch (error) {\n            console.error('[LoadFederatedComponentDirective] Failed to load component:', error);\n            this.showErrorView(error instanceof Error ? error.message : 'Unknown error');\n        }\n        finally {\n            this.isLoading = false;\n        }\n    }\n    getComponentFromModule(module) {\n        // Try different common export patterns\n        if (module.default && typeof module.default === 'function') {\n            return module.default;\n        }\n        if (module.Component && typeof module.Component === 'function') {\n            return module.Component;\n        }\n        // Look for the first function export (likely a component)\n        for (const key of Object.keys(module)) {\n            if (typeof module[key] === 'function' && key !== 'default') {\n                return module[key];\n            }\n        }\n        return null;\n    }\n    async createComponent(ComponentClass) {\n        this.cleanup();\n        try {\n            // Create the component\n            this.componentRef = this.viewContainer.createComponent(ComponentClass, {\n                injector: this.injector\n            });\n            // Set inputs if provided\n            if (this.inputs) {\n                Object.keys(this.inputs).forEach(key => {\n                    if (this.componentRef?.instance[key] !== undefined) {\n                        this.componentRef.instance[key] = this.inputs[key];\n                    }\n                });\n            }\n            // Trigger change detection\n            this.componentRef.changeDetectorRef.detectChanges();\n            this.cdr.detectChanges();\n        }\n        catch (error) {\n            console.error('[LoadFederatedComponentDirective] Failed to create component:', error);\n            throw error;\n        }\n    }\n    showLoadingView() {\n        this.cleanup();\n        if (this.loadingTemplate) {\n            this.currentView = this.viewContainer.createEmbeddedView(this.loadingTemplate);\n        }\n        else {\n            // Create default loading view\n            this.createDefaultLoadingView();\n        }\n    }\n    showErrorView(error) {\n        this.cleanup();\n        if (this.errorTemplate) {\n            this.currentView = this.viewContainer.createEmbeddedView(this.errorTemplate, { error });\n        }\n        else if (this.fallbackTemplate) {\n            this.currentView = this.viewContainer.createEmbeddedView(this.fallbackTemplate);\n        }\n        else {\n            // Create default error view\n            this.createDefaultErrorView(error);\n        }\n    }\n    createDefaultLoadingView() {\n        const div = document.createElement('div');\n        div.style.padding = '20px';\n        div.style.textAlign = 'center';\n        div.style.color = '#666';\n        div.innerHTML = '⏳ Loading federated component...';\n        const elementRef = { nativeElement: div };\n        this.currentView = this.viewContainer.createEmbeddedView({ createEmbeddedView: () => ({ rootNodes: [div] }) });\n    }\n    createDefaultErrorView(error) {\n        const div = document.createElement('div');\n        div.style.padding = '20px';\n        div.style.border = '1px solid #f5c6cb';\n        div.style.backgroundColor = '#f8d7da';\n        div.style.color = '#721c24';\n        div.style.borderRadius = '4px';\n        div.innerHTML = `\n      <strong>❌ Failed to load federated component</strong><br>\n      <small>${this.componentInfo}</small><br>\n      <em>${error}</em>\n    `;\n        this.currentView = this.viewContainer.createEmbeddedView({ createEmbeddedView: () => ({ rootNodes: [div] }) });\n    }\n    cleanup() {\n        if (this.componentRef) {\n            this.componentRef.destroy();\n            this.componentRef = undefined;\n        }\n        if (this.currentView) {\n            this.currentView.destroy();\n            this.currentView = undefined;\n        }\n        this.viewContainer.clear();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: LoadFederatedComponentDirective, deps: [{ token: i0.ViewContainerRef }, { token: i1.NativeFederationService }, { token: i0.ChangeDetectorRef }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"18.2.13\", type: LoadFederatedComponentDirective, selector: \"[nfLoadComponent]\", inputs: { componentInfo: [\"nfLoadComponent\", \"componentInfo\"], fallbackTemplate: [\"nfFallback\", \"fallbackTemplate\"], loadingTemplate: [\"nfLoadingTemplate\", \"loadingTemplate\"], errorTemplate: [\"nfErrorTemplate\", \"errorTemplate\"], inputs: [\"nfInputs\", \"inputs\"] }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: LoadFederatedComponentDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[nfLoadComponent]'\n                }]\n        }], ctorParameters: () => [{ type: i0.ViewContainerRef }, { type: i1.NativeFederationService }, { type: i0.ChangeDetectorRef }, { type: i0.Injector }], propDecorators: { componentInfo: [{\n                type: Input,\n                args: ['nfLoadComponent']\n            }], fallbackTemplate: [{\n                type: Input,\n                args: ['nfFallback']\n            }], loadingTemplate: [{\n                type: Input,\n                args: ['nfLoadingTemplate']\n            }], errorTemplate: [{\n                type: Input,\n                args: ['nfErrorTemplate']\n            }], inputs: [{\n                type: Input,\n                args: ['nfInputs']\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZC1mZWRlcmF0ZWQtY29tcG9uZW50LmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9saWIvYW5ndWxhci9kaXJlY3RpdmVzL2xvYWQtZmVkZXJhdGVkLWNvbXBvbmVudC5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFNBQVMsRUFDVCxLQUFLLEVBQ0wsZ0JBQWdCLEVBSWhCLGlCQUFpQixFQUNqQixXQUFXLEVBRVgsUUFBUSxFQUVULE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLDhCQUE4QixDQUFDOzs7QUFLdkUsTUFBTSxPQUFPLCtCQUErQjtJQVloQztJQUNBO0lBQ0E7SUFDQTtJQWRnQixhQUFhLENBQVU7SUFDNUIsZ0JBQWdCLENBQW9CO0lBQzdCLGVBQWUsQ0FBb0I7SUFDckMsYUFBYSxDQUFvQjtJQUN4QyxNQUFNLENBQTBCO0lBRTNDLFlBQVksQ0FBcUI7SUFDakMsV0FBVyxDQUF3QjtJQUNuQyxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBRTFCLFlBQ1UsYUFBK0IsRUFDL0IsaUJBQTBDLEVBQzFDLEdBQXNCLEVBQ3RCLFFBQWtCO1FBSGxCLGtCQUFhLEdBQWIsYUFBYSxDQUFrQjtRQUMvQixzQkFBaUIsR0FBakIsaUJBQWlCLENBQXlCO1FBQzFDLFFBQUcsR0FBSCxHQUFHLENBQW1CO1FBQ3RCLGFBQVEsR0FBUixRQUFRLENBQVU7SUFDekIsQ0FBQztJQUVKLEtBQUssQ0FBQyxRQUFRO1FBQ1osTUFBTSxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVPLEtBQUssQ0FBQyxhQUFhO1FBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsYUFB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c0JBQXhCLEtBQUs7dUJBQUMsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIERpcmVjdGl2ZSxcbiAgSW5wdXQsXG4gIFZpZXdDb250YWluZXJSZWYsXG4gIENvbXBvbmVudFJlZixcbiAgT25Jbml0LFxuICBPbkRlc3Ryb3ksXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBUZW1wbGF0ZVJlZixcbiAgRW1iZWRkZWRWaWV3UmVmLFxuICBJbmplY3RvcixcbiAgVHlwZVxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5hdGl2ZUZlZGVyYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vbmF0aXZlLWZlZGVyYXRpb24uc2VydmljZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tuZkxvYWRDb21wb25lbnRdJ1xufSlcbmV4cG9ydCBjbGFzcyBMb2FkRmVkZXJhdGVkQ29tcG9uZW50RGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBASW5wdXQoJ25mTG9hZENvbXBvbmVudCcpIGNvbXBvbmVudEluZm8hOiBzdHJpbmc7XG4gIEBJbnB1dCgnbmZGYWxsYmFjaycpIGZhbGxiYWNrVGVtcGxhdGU/OiBUZW1wbGF0ZVJlZjxhbnk+O1xuICBASW5wdXQoJ25mTG9hZGluZ1RlbXBsYXRlJykgbG9hZGluZ1RlbXBsYXRlPzogVGVtcGxhdGVSZWY8YW55PjtcbiAgQElucHV0KCduZkVycm9yVGVtcGxhdGUnKSBlcnJvclRlbXBsYXRlPzogVGVtcGxhdGVSZWY8YW55PjtcbiAgQElucHV0KCduZklucHV0cycpIGlucHV0cz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG5cbiAgcHJpdmF0ZSBjb21wb25lbnRSZWY/OiBDb21wb25lbnRSZWY8YW55PjtcbiAgcHJpdmF0ZSBjdXJyZW50Vmlldz86IEVtYmVkZGVkVmlld1JlZjxhbnk+O1xuICBwcml2YXRlIGlzTG9hZGluZyA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgdmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZixcbiAgICBwcml2YXRlIGZlZGVyYXRpb25TZXJ2aWNlOiBOYXRpdmVGZWRlcmF0aW9uU2VydmljZSxcbiAgICBwcml2YXRlIGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgcHJpdmF0ZSBpbmplY3RvcjogSW5qZWN0b3JcbiAgKSB7fVxuXG4gIGFzeW5jIG5nT25Jbml0KCkge1xuICAgIGF3YWl0IHRoaXMubG9hZENvbXBvbmVudCgpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5jbGVhbnVwKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRDb21wb25lbnQoKSB7XG4gICAgaWYgKCF0aGlzLmNvbXBvbmVudEluZm8pIHtcbiAgICAgIGNvbnNvbGUud2FybignW0xvYWRGZWRlcmF0ZWRDb21wb25lbnREaXJlY3RpdmVdIE5vIGNvbXBvbmVudCBpbmZvIHByb3ZpZGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgY29tcG9uZW50IGluZm8gKGZvcm1hdDogXCJyZW1vdGVOYW1lL21vZHVsZVBhdGhcIilcbiAgICBjb25zdCBbcmVtb3RlTmFtZSwgbW9kdWxlUGF0aF0gPSB0aGlzLmNvbXBvbmVudEluZm8uc3BsaXQoJy8nKTtcbiAgICBpZiAoIXJlbW90ZU5hbWUgfHwgIW1vZHVsZVBhdGgpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tMb2FkRmVkZXJhdGVkQ29tcG9uZW50RGlyZWN0aXZlXSBJbnZhbGlkIGNvbXBvbmVudCBpbmZvIGZvcm1hdC4gVXNlIFwicmVtb3RlTmFtZS9tb2R1bGVQYXRoXCInKTtcbiAgICAgIHRoaXMuc2hvd0Vycm9yVmlldygnSW52YWxpZCBjb21wb25lbnQgZm9ybWF0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2hvd0xvYWRpbmdWaWV3KCk7XG5cbiAgICAgIC8vIExvYWQgdGhlIHJlbW90ZSBtb2R1bGVcbiAgICAgIGNvbnN0IG1vZHVsZSA9IGF3YWl0IHRoaXMuZmVkZXJhdGlvblNlcnZpY2UubG9hZFJlbW90ZU1vZHVsZShyZW1vdGVOYW1lLCBgLi8ke21vZHVsZVBhdGh9YCk7XG4gICAgICBcbiAgICAgIC8vIEdldCB0aGUgY29tcG9uZW50IGZyb20gdGhlIG1vZHVsZVxuICAgICAgY29uc3QgQ29tcG9uZW50Q2xhc3MgPSB0aGlzLmdldENvbXBvbmVudEZyb21Nb2R1bGUobW9kdWxlKTtcbiAgICAgIGlmICghQ29tcG9uZW50Q2xhc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb21wb25lbnQgbm90IGZvdW5kIGluIG1vZHVsZSAke3JlbW90ZU5hbWV9LyR7bW9kdWxlUGF0aH1gKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGFuZCBpbnNlcnQgdGhlIGNvbXBvbmVudFxuICAgICAgYXdhaXQgdGhpcy5jcmVhdGVDb21wb25lbnQoQ29tcG9uZW50Q2xhc3MpO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tMb2FkRmVkZXJhdGVkQ29tcG9uZW50RGlyZWN0aXZlXSBGYWlsZWQgdG8gbG9hZCBjb21wb25lbnQ6JywgZXJyb3IpO1xuICAgICAgdGhpcy5zaG93RXJyb3JWaWV3KGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldENvbXBvbmVudEZyb21Nb2R1bGUobW9kdWxlOiBhbnkpOiBUeXBlPGFueT4gfCBudWxsIHtcbiAgICAvLyBUcnkgZGlmZmVyZW50IGNvbW1vbiBleHBvcnQgcGF0dGVybnNcbiAgICBpZiAobW9kdWxlLmRlZmF1bHQgJiYgdHlwZW9mIG1vZHVsZS5kZWZhdWx0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gbW9kdWxlLmRlZmF1bHQ7XG4gICAgfVxuICAgIFxuICAgIGlmIChtb2R1bGUuQ29tcG9uZW50ICYmIHR5cGVvZiBtb2R1bGUuQ29tcG9uZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gbW9kdWxlLkNvbXBvbmVudDtcbiAgICB9XG5cbiAgICAvLyBMb29rIGZvciB0aGUgZmlyc3QgZnVuY3Rpb24gZXhwb3J0IChsaWtlbHkgYSBjb21wb25lbnQpXG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMobW9kdWxlKSkge1xuICAgICAgaWYgKHR5cGVvZiBtb2R1bGVba2V5XSA9PT0gJ2Z1bmN0aW9uJyAmJiBrZXkgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICByZXR1cm4gbW9kdWxlW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNyZWF0ZUNvbXBvbmVudChDb21wb25lbnRDbGFzczogVHlwZTxhbnk+KSB7XG4gICAgdGhpcy5jbGVhbnVwKCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ3JlYXRlIHRoZSBjb21wb25lbnRcbiAgICAgIHRoaXMuY29tcG9uZW50UmVmID0gdGhpcy52aWV3Q29udGFpbmVyLmNyZWF0ZUNvbXBvbmVudChDb21wb25lbnRDbGFzcywge1xuICAgICAgICBpbmplY3RvcjogdGhpcy5pbmplY3RvclxuICAgICAgfSk7XG5cbiAgICAgIC8vIFNldCBpbnB1dHMgaWYgcHJvdmlkZWRcbiAgICAgIGlmICh0aGlzLmlucHV0cykge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmlucHV0cykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmNvbXBvbmVudFJlZj8uaW5zdGFuY2Vba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZVtrZXldID0gdGhpcy5pbnB1dHMhW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVHJpZ2dlciBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICB0aGlzLmNvbXBvbmVudFJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0xvYWRGZWRlcmF0ZWRDb21wb25lbnREaXJlY3RpdmVdIEZhaWxlZCB0byBjcmVhdGUgY29tcG9uZW50OicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2hvd0xvYWRpbmdWaWV3KCkge1xuICAgIHRoaXMuY2xlYW51cCgpO1xuICAgIFxuICAgIGlmICh0aGlzLmxvYWRpbmdUZW1wbGF0ZSkge1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IHRoaXMudmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5sb2FkaW5nVGVtcGxhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDcmVhdGUgZGVmYXVsdCBsb2FkaW5nIHZpZXdcbiAgICAgIHRoaXMuY3JlYXRlRGVmYXVsdExvYWRpbmdWaWV3KCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzaG93RXJyb3JWaWV3KGVycm9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLmNsZWFudXAoKTtcbiAgICBcbiAgICBpZiAodGhpcy5lcnJvclRlbXBsYXRlKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gdGhpcy52aWV3Q29udGFpbmVyLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLmVycm9yVGVtcGxhdGUsIHsgZXJyb3IgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmZhbGxiYWNrVGVtcGxhdGUpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcgPSB0aGlzLnZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuZmFsbGJhY2tUZW1wbGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IGVycm9yIHZpZXdcbiAgICAgIHRoaXMuY3JlYXRlRGVmYXVsdEVycm9yVmlldyhlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVEZWZhdWx0TG9hZGluZ1ZpZXcoKSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMjBweCc7XG4gICAgZGl2LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGRpdi5zdHlsZS5jb2xvciA9ICcjNjY2JztcbiAgICBkaXYuaW5uZXJIVE1MID0gJ+KPsyBMb2FkaW5nIGZlZGVyYXRlZCBjb21wb25lbnQuLi4nO1xuICAgIFxuICAgIGNvbnN0IGVsZW1lbnRSZWYgPSB7IG5hdGl2ZUVsZW1lbnQ6IGRpdiB9O1xuICAgIHRoaXMuY3VycmVudFZpZXcgPSB0aGlzLnZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KFxuICAgICAgeyBjcmVhdGVFbWJlZGRlZFZpZXc6ICgpID0+ICh7IHJvb3ROb2RlczogW2Rpdl0gfSkgfSBhcyBhbnlcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVEZWZhdWx0RXJyb3JWaWV3KGVycm9yOiBzdHJpbmcpIHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuc3R5bGUucGFkZGluZyA9ICcyMHB4JztcbiAgICBkaXYuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjZjVjNmNiJztcbiAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmOGQ3ZGEnO1xuICAgIGRpdi5zdHlsZS5jb2xvciA9ICcjNzIxYzI0JztcbiAgICBkaXYuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzRweCc7XG4gICAgZGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxzdHJvbmc+4p2MIEZhaWxlZCB0byBsb2FkIGZlZGVyYXRlZCBjb21wb25lbnQ8L3N0cm9uZz48YnI+XG4gICAgICA8c21hbGw+JHt0aGlzLmNvbXBvbmVudEluZm99PC9zbWFsbD48YnI+XG4gICAgICA8ZW0+JHtlcnJvcn08L2VtPlxuICAgIGA7XG4gICAgXG4gICAgdGhpcy5jdXJyZW50VmlldyA9IHRoaXMudmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcoXG4gICAgICB7IGNyZWF0ZUVtYmVkZGVkVmlldzogKCkgPT4gKHsgcm9vdE5vZGVzOiBbZGl2XSB9KSB9IGFzIGFueVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGNsZWFudXAoKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50UmVmKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgICB0aGlzLmNvbXBvbmVudFJlZiA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMuY3VycmVudFZpZXcpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcuZGVzdHJveSgpO1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgXG4gICAgdGhpcy52aWV3Q29udGFpbmVyLmNsZWFyKCk7XG4gIH1cbn0iXX0=","customTransformCache":false,"dependencies":["@angular/core","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/native-federation.service.mjs"],"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/directives/load-federated-component.directive.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Directive, Input, ViewContainerRef, ChangeDetectorRef, TemplateRef, Injector } from '@angular/core';\nimport { NativeFederationService } from '../native-federation.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../native-federation.service\";\nexport class LoadFederatedComponentDirective {\n    viewContainer;\n    federationService;\n    cdr;\n    injector;\n    componentInfo;\n    fallbackTemplate;\n    loadingTemplate;\n    errorTemplate;\n    inputs;\n    componentRef;\n    currentView;\n    isLoading = false;\n    constructor(viewContainer, federationService, cdr, injector) {\n        this.viewContainer = viewContainer;\n        this.federationService = federationService;\n        this.cdr = cdr;\n        this.injector = injector;\n    }\n    async ngOnInit() {\n        await this.loadComponent();\n    }\n    ngOnDestroy() {\n        this.cleanup();\n    }\n    async loadComponent() {\n        if (!this.componentInfo) {\n            console.warn('[LoadFederatedComponentDirective] No component info provided');\n            return;\n        }\n        // Parse component info (format: \"remoteName/modulePath\")\n        const [remoteName, modulePath] = this.componentInfo.split('/');\n        if (!remoteName || !modulePath) {\n            console.error('[LoadFederatedComponentDirective] Invalid component info format. Use \"remoteName/modulePath\"');\n            this.showErrorView('Invalid component format');\n            return;\n        }\n        try {\n            this.isLoading = true;\n            this.showLoadingView();\n            // Load the remote module\n            const module = await this.federationService.loadRemoteModule(remoteName, `./${modulePath}`);\n            // Get the component from the module\n            const ComponentClass = this.getComponentFromModule(module);\n            if (!ComponentClass) {\n                throw new Error(`Component not found in module ${remoteName}/${modulePath}`);\n            }\n            // Create and insert the component\n            await this.createComponent(ComponentClass);\n        }\n        catch (error) {\n            console.error('[LoadFederatedComponentDirective] Failed to load component:', error);\n            this.showErrorView(error instanceof Error ? error.message : 'Unknown error');\n        }\n        finally {\n            this.isLoading = false;\n        }\n    }\n    getComponentFromModule(module) {\n        // Try different common export patterns\n        if (module.default && typeof module.default === 'function') {\n            return module.default;\n        }\n        if (module.Component && typeof module.Component === 'function') {\n            return module.Component;\n        }\n        // Look for the first function export (likely a component)\n        for (const key of Object.keys(module)) {\n            if (typeof module[key] === 'function' && key !== 'default') {\n                return module[key];\n            }\n        }\n        return null;\n    }\n    async createComponent(ComponentClass) {\n        this.cleanup();\n        try {\n            // Create the component\n            this.componentRef = this.viewContainer.createComponent(ComponentClass, {\n                injector: this.injector\n            });\n            // Set inputs if provided\n            if (this.inputs) {\n                Object.keys(this.inputs).forEach(key => {\n                    if (this.componentRef?.instance[key] !== undefined) {\n                        this.componentRef.instance[key] = this.inputs[key];\n                    }\n                });\n            }\n            // Trigger change detection\n            this.componentRef.changeDetectorRef.detectChanges();\n            this.cdr.detectChanges();\n        }\n        catch (error) {\n            console.error('[LoadFederatedComponentDirective] Failed to create component:', error);\n            throw error;\n        }\n    }\n    showLoadingView() {\n        this.cleanup();\n        if (this.loadingTemplate) {\n            this.currentView = this.viewContainer.createEmbeddedView(this.loadingTemplate);\n        }\n        else {\n            // Create default loading view\n            this.createDefaultLoadingView();\n        }\n    }\n    showErrorView(error) {\n        this.cleanup();\n        if (this.errorTemplate) {\n            this.currentView = this.viewContainer.createEmbeddedView(this.errorTemplate, { error });\n        }\n        else if (this.fallbackTemplate) {\n            this.currentView = this.viewContainer.createEmbeddedView(this.fallbackTemplate);\n        }\n        else {\n            // Create default error view\n            this.createDefaultErrorView(error);\n        }\n    }\n    createDefaultLoadingView() {\n        const div = document.createElement('div');\n        div.style.padding = '20px';\n        div.style.textAlign = 'center';\n        div.style.color = '#666';\n        div.innerHTML = '⏳ Loading federated component...';\n        const elementRef = { nativeElement: div };\n        this.currentView = this.viewContainer.createEmbeddedView({ createEmbeddedView: () => ({ rootNodes: [div] }) });\n    }\n    createDefaultErrorView(error) {\n        const div = document.createElement('div');\n        div.style.padding = '20px';\n        div.style.border = '1px solid #f5c6cb';\n        div.style.backgroundColor = '#f8d7da';\n        div.style.color = '#721c24';\n        div.style.borderRadius = '4px';\n        div.innerHTML = `\n      <strong>❌ Failed to load federated component</strong><br>\n      <small>${this.componentInfo}</small><br>\n      <em>${error}</em>\n    `;\n        this.currentView = this.viewContainer.createEmbeddedView({ createEmbeddedView: () => ({ rootNodes: [div] }) });\n    }\n    cleanup() {\n        if (this.componentRef) {\n            this.componentRef.destroy();\n            this.componentRef = undefined;\n        }\n        if (this.currentView) {\n            this.currentView.destroy();\n            this.currentView = undefined;\n        }\n        this.viewContainer.clear();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: LoadFederatedComponentDirective, deps: [{ token: i0.ViewContainerRef }, { token: i1.NativeFederationService }, { token: i0.ChangeDetectorRef }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"18.2.13\", type: LoadFederatedComponentDirective, selector: \"[nfLoadComponent]\", inputs: { componentInfo: [\"nfLoadComponent\", \"componentInfo\"], fallbackTemplate: [\"nfFallback\", \"fallbackTemplate\"], loadingTemplate: [\"nfLoadingTemplate\", \"loadingTemplate\"], errorTemplate: [\"nfErrorTemplate\", \"errorTemplate\"], inputs: [\"nfInputs\", \"inputs\"] }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: LoadFederatedComponentDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[nfLoadComponent]'\n                }]\n        }], ctorParameters: () => [{ type: i0.ViewContainerRef }, { type: i1.NativeFederationService }, { type: i0.ChangeDetectorRef }, { type: i0.Injector }], propDecorators: { componentInfo: [{\n                type: Input,\n                args: ['nfLoadComponent']\n            }], fallbackTemplate: [{\n                type: Input,\n                args: ['nfFallback']\n            }], loadingTemplate: [{\n                type: Input,\n                args: ['nfLoadingTemplate']\n            }], errorTemplate: [{\n                type: Input,\n                args: ['nfErrorTemplate']\n            }], inputs: [{\n                type: Input,\n                args: ['nfInputs']\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZC1mZWRlcmF0ZWQtY29tcG9uZW50LmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9saWIvYW5ndWxhci9kaXJlY3RpdmVzL2xvYWQtZmVkZXJhdGVkLWNvbXBvbmVudC5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFNBQVMsRUFDVCxLQUFLLEVBQ0wsZ0JBQWdCLEVBSWhCLGlCQUFpQixFQUNqQixXQUFXLEVBRVgsUUFBUSxFQUVULE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLDhCQUE4QixDQUFDOzs7QUFLdkUsTUFBTSxPQUFPLCtCQUErQjtJQVloQztJQUNBO0lBQ0E7SUFDQTtJQWRnQixhQUFhLENBQVU7SUFDNUIsZ0JBQWdCLENBQW9CO0lBQzdCLGVBQWUsQ0FBb0I7SUFDckMsYUFBYSxDQUFvQjtJQUN4QyxNQUFNLENBQTBCO0lBRTNDLFlBQVksQ0FBcUI7SUFDakMsV0FBVyxDQUF3QjtJQUNuQyxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBRTFCLFlBQ1UsYUFBK0IsRUFDL0IsaUJBQTBDLEVBQzFDLEdBQXNCLEVBQ3RCLFFBQWtCO1FBSGxCLGtCQUFhLEdBQWIsYUFBYSxDQUFrQjtRQUMvQixzQkFBaUIsR0FBakIsaUJBQWlCLENBQXlCO1FBQzFDLFFBQUcsR0FBSCxHQUFHLENBQW1CO1FBQ3RCLGFBQVEsR0FBUixRQUFRLENBQVU7SUFDekIsQ0FBQztJQUVKLEtBQUssQ0FBQyxRQUFRO1FBQ1osTUFBTSxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVPLEtBQUssQ0FBQyxhQUFhO1FBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDeEIsT0FBTyxDQUFDLElBQUksQ0FBQyw4REFBOEQsQ0FBQyxDQUFDO1lBQzdFLE9BQU87UUFDVCxDQUFDO1FBRUQseURBQXlEO1FBQ3pELE1BQU0sQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDL0QsSUFBSSxDQUFDLFVBQVUsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQy9CLE9BQU8sQ0FBQyxLQUFLLENBQUMsOEZBQThGLENBQUMsQ0FBQztZQUM5RyxJQUFJLENBQUMsYUFBYSxDQUFDLDBCQUEwQixDQUFDLENBQUM7WUFDL0MsT0FBTztRQUNULENBQUM7UUFFRCxJQUFJLENBQUM7WUFDSCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztZQUN0QixJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7WUFFdkIseUJBQXlCO1lBQ3pCLE1BQU0sTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDLGlCQUFpQixDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxLQUFLLFVBQVUsRUFBRSxDQUFDLENBQUM7WUFFNUYsb0NBQW9DO1lBQ3BDLE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMzRCxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3BCLE1BQU0sSUFBSSxLQUFLLENBQUMsaUNBQWlDLFVBQVUsSUFBSSxVQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQy9FLENBQUM7WUFFRCxrQ0FBa0M7WUFDbEMsTUFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBRTdDLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyw2REFBNkQsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNwRixJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQy9FLENBQUM7Z0JBQVMsQ0FBQztZQUNULElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLENBQUM7SUFDSCxDQUFDO0lBRU8sc0JBQXNCLENBQUMsTUFBVztRQUN4Qyx1Q0FBdUM7UUFDdkMsSUFBSSxNQUFNLENBQUMsT0FBTyxJQUFJLE9BQU8sTUFBTSxDQUFDLE9BQU8sS0FBSyxVQUFVLEVBQUUsQ0FBQztZQUMzRCxPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUM7UUFDeEIsQ0FBQztRQUVELElBQUksTUFBTSxDQUFDLFNBQVMsSUFBSSxPQUFPLE1BQU0sQ0FBQyxTQUFTLEtBQUssVUFBVSxFQUFFLENBQUM7WUFDL0QsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQzFCLENBQUM7UUFFRCwwREFBMEQ7UUFDMUQsS0FBSyxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDdEMsSUFBSSxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxVQUFVLElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRSxDQUFDO2dCQUMzRCxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNyQixDQUFDO1FBQ0gsQ0FBQztRQUVELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVPLEtBQUssQ0FBQyxlQUFlLENBQUMsY0FBeUI7UUFDckQsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBRWYsSUFBSSxDQUFDO1lBQ0gsdUJBQXVCO1lBQ3ZCLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsY0FBYyxFQUFFO2dCQUNyRSxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7YUFDeEIsQ0FBQyxDQUFDO1lBRUgseUJBQXlCO1lBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNoQixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7b0JBQ3JDLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssU0FBUyxFQUFFLENBQUM7d0JBQ25ELElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ3RELENBQUM7Z0JBQ0gsQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDO1lBRUQsMkJBQTJCO1lBQzNCLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDcEQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUUzQixDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsK0RBQStELEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDdEYsTUFBTSxLQUFLLENBQUM7UUFDZCxDQUFDO0lBQ0gsQ0FBQztJQUVPLGVBQWU7UUFDckIsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBRWYsSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDekIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUNqRixDQUFDO2FBQU0sQ0FBQztZQUNOLDhCQUE4QjtZQUM5QixJQUFJLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztRQUNsQyxDQUFDO0lBQ0gsQ0FBQztJQUVPLGFBQWEsQ0FBQyxLQUFhO1FBQ2pDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUVmLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUMxRixDQUFDO2FBQU0sSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUNqQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDbEYsQ0FBQzthQUFNLENBQUM7WUFDTiw0QkFBNEI7WUFDNUIsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JDLENBQUM7SUFDSCxDQUFDO0lBRU8sd0JBQXdCO1FBQzlCLE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQzNCLEdBQUcsQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztRQUMvQixHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUM7UUFDekIsR0FBRyxDQUFDLFNBQVMsR0FBRyxrQ0FBa0MsQ0FBQztRQUVuRCxNQUFNLFVBQVUsR0FBRyxFQUFFLGFBQWEsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUMxQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsa0JBQWtCLENBQ3RELEVBQUUsa0JBQWtCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLFNBQVMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBUyxDQUM1RCxDQUFDO0lBQ0osQ0FBQztJQUVPLHNCQUFzQixDQUFDLEtBQWE7UUFDMUMsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7UUFDM0IsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsbUJBQW1CLENBQUM7UUFDdkMsR0FBRyxDQUFDLEtBQUssQ0FBQyxlQUFlLEdBQUcsU0FBUyxDQUFDO1FBQ3RDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztRQUM1QixHQUFHLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFDL0IsR0FBRyxDQUFDLFNBQVMsR0FBRzs7ZUFFTCxJQUFJLENBQUMsYUFBYTtZQUNyQixLQUFLO0tBQ1osQ0FBQztRQUVGLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FDdEQsRUFBRSxrQkFBa0IsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsU0FBUyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFTLENBQzVELENBQUM7SUFDSixDQUFDO0lBRU8sT0FBTztRQUNiLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDNUIsSUFBSSxDQUFDLFlBQVksR0FBRyxTQUFTLENBQUM7UUFDaEMsQ0FBQztRQUVELElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3JCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDLFdBQVcsR0FBRyxTQUFTLENBQUM7UUFDL0IsQ0FBQztRQUVELElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDN0IsQ0FBQzt3R0FuTFUsK0JBQStCOzRGQUEvQiwrQkFBK0I7OzRGQUEvQiwrQkFBK0I7a0JBSDNDLFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLG1CQUFtQjtpQkFDOUI7a0xBRTJCLGFBQWE7c0JBQXRDLEtBQUs7dUJBQUMsaUJBQWlCO2dCQUNILGdCQUFnQjtzQkFBcEMsS0FBSzt1QkFBQyxZQUFZO2dCQUNTLGVBQWU7c0JBQTFDLEtBQUs7dUJBQUMsbUJBQW1CO2dCQUNBLGFBQWE7c0JBQXRDLEtBQUs7dUJBQUMsaUJBQWlCO2dCQUNMLE1BQU07c0JBQXhCLEtBQUs7dUJBQUMsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIERpcmVjdGl2ZSxcbiAgSW5wdXQsXG4gIFZpZXdDb250YWluZXJSZWYsXG4gIENvbXBvbmVudFJlZixcbiAgT25Jbml0LFxuICBPbkRlc3Ryb3ksXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBUZW1wbGF0ZVJlZixcbiAgRW1iZWRkZWRWaWV3UmVmLFxuICBJbmplY3RvcixcbiAgVHlwZVxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5hdGl2ZUZlZGVyYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vbmF0aXZlLWZlZGVyYXRpb24uc2VydmljZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tuZkxvYWRDb21wb25lbnRdJ1xufSlcbmV4cG9ydCBjbGFzcyBMb2FkRmVkZXJhdGVkQ29tcG9uZW50RGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBASW5wdXQoJ25mTG9hZENvbXBvbmVudCcpIGNvbXBvbmVudEluZm8hOiBzdHJpbmc7XG4gIEBJbnB1dCgnbmZGYWxsYmFjaycpIGZhbGxiYWNrVGVtcGxhdGU/OiBUZW1wbGF0ZVJlZjxhbnk+O1xuICBASW5wdXQoJ25mTG9hZGluZ1RlbXBsYXRlJykgbG9hZGluZ1RlbXBsYXRlPzogVGVtcGxhdGVSZWY8YW55PjtcbiAgQElucHV0KCduZkVycm9yVGVtcGxhdGUnKSBlcnJvclRlbXBsYXRlPzogVGVtcGxhdGVSZWY8YW55PjtcbiAgQElucHV0KCduZklucHV0cycpIGlucHV0cz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG5cbiAgcHJpdmF0ZSBjb21wb25lbnRSZWY/OiBDb21wb25lbnRSZWY8YW55PjtcbiAgcHJpdmF0ZSBjdXJyZW50Vmlldz86IEVtYmVkZGVkVmlld1JlZjxhbnk+O1xuICBwcml2YXRlIGlzTG9hZGluZyA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgdmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZixcbiAgICBwcml2YXRlIGZlZGVyYXRpb25TZXJ2aWNlOiBOYXRpdmVGZWRlcmF0aW9uU2VydmljZSxcbiAgICBwcml2YXRlIGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgcHJpdmF0ZSBpbmplY3RvcjogSW5qZWN0b3JcbiAgKSB7fVxuXG4gIGFzeW5jIG5nT25Jbml0KCkge1xuICAgIGF3YWl0IHRoaXMubG9hZENvbXBvbmVudCgpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5jbGVhbnVwKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRDb21wb25lbnQoKSB7XG4gICAgaWYgKCF0aGlzLmNvbXBvbmVudEluZm8pIHtcbiAgICAgIGNvbnNvbGUud2FybignW0xvYWRGZWRlcmF0ZWRDb21wb25lbnREaXJlY3RpdmVdIE5vIGNvbXBvbmVudCBpbmZvIHByb3ZpZGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgY29tcG9uZW50IGluZm8gKGZvcm1hdDogXCJyZW1vdGVOYW1lL21vZHVsZVBhdGhcIilcbiAgICBjb25zdCBbcmVtb3RlTmFtZSwgbW9kdWxlUGF0aF0gPSB0aGlzLmNvbXBvbmVudEluZm8uc3BsaXQoJy8nKTtcbiAgICBpZiAoIXJlbW90ZU5hbWUgfHwgIW1vZHVsZVBhdGgpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tMb2FkRmVkZXJhdGVkQ29tcG9uZW50RGlyZWN0aXZlXSBJbnZhbGlkIGNvbXBvbmVudCBpbmZvIGZvcm1hdC4gVXNlIFwicmVtb3RlTmFtZS9tb2R1bGVQYXRoXCInKTtcbiAgICAgIHRoaXMuc2hvd0Vycm9yVmlldygnSW52YWxpZCBjb21wb25lbnQgZm9ybWF0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2hvd0xvYWRpbmdWaWV3KCk7XG5cbiAgICAgIC8vIExvYWQgdGhlIHJlbW90ZSBtb2R1bGVcbiAgICAgIGNvbnN0IG1vZHVsZSA9IGF3YWl0IHRoaXMuZmVkZXJhdGlvblNlcnZpY2UubG9hZFJlbW90ZU1vZHVsZShyZW1vdGVOYW1lLCBgLi8ke21vZHVsZVBhdGh9YCk7XG4gICAgICBcbiAgICAgIC8vIEdldCB0aGUgY29tcG9uZW50IGZyb20gdGhlIG1vZHVsZVxuICAgICAgY29uc3QgQ29tcG9uZW50Q2xhc3MgPSB0aGlzLmdldENvbXBvbmVudEZyb21Nb2R1bGUobW9kdWxlKTtcbiAgICAgIGlmICghQ29tcG9uZW50Q2xhc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb21wb25lbnQgbm90IGZvdW5kIGluIG1vZHVsZSAke3JlbW90ZU5hbWV9LyR7bW9kdWxlUGF0aH1gKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGFuZCBpbnNlcnQgdGhlIGNvbXBvbmVudFxuICAgICAgYXdhaXQgdGhpcy5jcmVhdGVDb21wb25lbnQoQ29tcG9uZW50Q2xhc3MpO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tMb2FkRmVkZXJhdGVkQ29tcG9uZW50RGlyZWN0aXZlXSBGYWlsZWQgdG8gbG9hZCBjb21wb25lbnQ6JywgZXJyb3IpO1xuICAgICAgdGhpcy5zaG93RXJyb3JWaWV3KGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldENvbXBvbmVudEZyb21Nb2R1bGUobW9kdWxlOiBhbnkpOiBUeXBlPGFueT4gfCBudWxsIHtcbiAgICAvLyBUcnkgZGlmZmVyZW50IGNvbW1vbiBleHBvcnQgcGF0dGVybnNcbiAgICBpZiAobW9kdWxlLmRlZmF1bHQgJiYgdHlwZW9mIG1vZHVsZS5kZWZhdWx0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gbW9kdWxlLmRlZmF1bHQ7XG4gICAgfVxuICAgIFxuICAgIGlmIChtb2R1bGUuQ29tcG9uZW50ICYmIHR5cGVvZiBtb2R1bGUuQ29tcG9uZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gbW9kdWxlLkNvbXBvbmVudDtcbiAgICB9XG5cbiAgICAvLyBMb29rIGZvciB0aGUgZmlyc3QgZnVuY3Rpb24gZXhwb3J0IChsaWtlbHkgYSBjb21wb25lbnQpXG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMobW9kdWxlKSkge1xuICAgICAgaWYgKHR5cGVvZiBtb2R1bGVba2V5XSA9PT0gJ2Z1bmN0aW9uJyAmJiBrZXkgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICByZXR1cm4gbW9kdWxlW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNyZWF0ZUNvbXBvbmVudChDb21wb25lbnRDbGFzczogVHlwZTxhbnk+KSB7XG4gICAgdGhpcy5jbGVhbnVwKCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ3JlYXRlIHRoZSBjb21wb25lbnRcbiAgICAgIHRoaXMuY29tcG9uZW50UmVmID0gdGhpcy52aWV3Q29udGFpbmVyLmNyZWF0ZUNvbXBvbmVudChDb21wb25lbnRDbGFzcywge1xuICAgICAgICBpbmplY3RvcjogdGhpcy5pbmplY3RvclxuICAgICAgfSk7XG5cbiAgICAgIC8vIFNldCBpbnB1dHMgaWYgcHJvdmlkZWRcbiAgICAgIGlmICh0aGlzLmlucHV0cykge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmlucHV0cykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmNvbXBvbmVudFJlZj8uaW5zdGFuY2Vba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZVtrZXldID0gdGhpcy5pbnB1dHMhW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVHJpZ2dlciBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICB0aGlzLmNvbXBvbmVudFJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0xvYWRGZWRlcmF0ZWRDb21wb25lbnREaXJlY3RpdmVdIEZhaWxlZCB0byBjcmVhdGUgY29tcG9uZW50OicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2hvd0xvYWRpbmdWaWV3KCkge1xuICAgIHRoaXMuY2xlYW51cCgpO1xuICAgIFxuICAgIGlmICh0aGlzLmxvYWRpbmdUZW1wbGF0ZSkge1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IHRoaXMudmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5sb2FkaW5nVGVtcGxhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDcmVhdGUgZGVmYXVsdCBsb2FkaW5nIHZpZXdcbiAgICAgIHRoaXMuY3JlYXRlRGVmYXVsdExvYWRpbmdWaWV3KCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzaG93RXJyb3JWaWV3KGVycm9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLmNsZWFudXAoKTtcbiAgICBcbiAgICBpZiAodGhpcy5lcnJvclRlbXBsYXRlKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gdGhpcy52aWV3Q29udGFpbmVyLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLmVycm9yVGVtcGxhdGUsIHsgZXJyb3IgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmZhbGxiYWNrVGVtcGxhdGUpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcgPSB0aGlzLnZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuZmFsbGJhY2tUZW1wbGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IGVycm9yIHZpZXdcbiAgICAgIHRoaXMuY3JlYXRlRGVmYXVsdEVycm9yVmlldyhlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVEZWZhdWx0TG9hZGluZ1ZpZXcoKSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMjBweCc7XG4gICAgZGl2LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGRpdi5zdHlsZS5jb2xvciA9ICcjNjY2JztcbiAgICBkaXYuaW5uZXJIVE1MID0gJ+KPsyBMb2FkaW5nIGZlZGVyYXRlZCBjb21wb25lbnQuLi4nO1xuICAgIFxuICAgIGNvbnN0IGVsZW1lbnRSZWYgPSB7IG5hdGl2ZUVsZW1lbnQ6IGRpdiB9O1xuICAgIHRoaXMuY3VycmVudFZpZXcgPSB0aGlzLnZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KFxuICAgICAgeyBjcmVhdGVFbWJlZGRlZFZpZXc6ICgpID0+ICh7IHJvb3ROb2RlczogW2Rpdl0gfSkgfSBhcyBhbnlcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVEZWZhdWx0RXJyb3JWaWV3KGVycm9yOiBzdHJpbmcpIHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuc3R5bGUucGFkZGluZyA9ICcyMHB4JztcbiAgICBkaXYuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjZjVjNmNiJztcbiAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmOGQ3ZGEnO1xuICAgIGRpdi5zdHlsZS5jb2xvciA9ICcjNzIxYzI0JztcbiAgICBkaXYuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzRweCc7XG4gICAgZGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxzdHJvbmc+4p2MIEZhaWxlZCB0byBsb2FkIGZlZGVyYXRlZCBjb21wb25lbnQ8L3N0cm9uZz48YnI+XG4gICAgICA8c21hbGw+JHt0aGlzLmNvbXBvbmVudEluZm99PC9zbWFsbD48YnI+XG4gICAgICA8ZW0+JHtlcnJvcn08L2VtPlxuICAgIGA7XG4gICAgXG4gICAgdGhpcy5jdXJyZW50VmlldyA9IHRoaXMudmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcoXG4gICAgICB7IGNyZWF0ZUVtYmVkZGVkVmlldzogKCkgPT4gKHsgcm9vdE5vZGVzOiBbZGl2XSB9KSB9IGFzIGFueVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGNsZWFudXAoKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50UmVmKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgICB0aGlzLmNvbXBvbmVudFJlZiA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMuY3VycmVudFZpZXcpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcuZGVzdHJveSgpO1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgXG4gICAgdGhpcy52aWV3Q29udGFpbmVyLmNsZWFyKCk7XG4gIH1cbn0iXX0=","originalSourcemap":{"version":3,"file":"load-federated-component.directive.js","sourceRoot":"","sources":["../../../../../../projects/native-federation/src/lib/angular/directives/load-federated-component.directive.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,1,2],[18,0,1,11],[20,0,2,2],[25,0,2,7],[27,0,3,2],[43,0,3,18],[45,0,7,2],[62,0,7,19],[64,0,8,2],[75,0,8,13],[77,0,10,2],[85,0,10,10],[87,0,12,1],[93,0,12,7],[108,0,12,22],[109,0,12,23]],[[0,0,13,0],[7,0,13,7],[9,0,13,9],[32,0,13,32],[34,0,13,34],[40,0,13,40],[70,0,13,70],[71,0,13,71]],[],[],[[0,0,18,0],[6,0,18,6],[13,0,18,13],[44,0,18,44]],[[4,0,30,12]],[[4,0,31,12]],[[4,0,32,12]],[[4,0,33,12]],[[4,0,19,28],[17,0,19,41],[18,0,19,51]],[[4,0,20,23],[20,0,20,39],[21,0,20,59]],[[4,0,21,30],[19,0,21,45],[20,0,21,65]],[[4,0,22,28],[17,0,22,41],[18,0,22,61]],[[4,0,23,21],[10,0,23,27],[11,0,23,53]],[[4,0,25,10],[16,0,25,22],[17,0,25,43]],[[4,0,26,10],[15,0,26,21],[16,0,26,45]],[[4,0,27,10],[13,0,27,19],[16,0,27,22],[21,0,27,27],[22,0,27,28]],[[4,0,29,2],[16,0,30,12],[29,0,30,43],[31,0,31,12],[48,0,31,54],[50,0,32,12],[53,0,32,34],[55,0,33,12],[63,0,33,30]],[[8,0,30,12],[26,0,30,25],[29,0,30,12],[42,0,30,25],[43,0,30,43]],[[8,0,31,12],[30,0,31,29],[33,0,31,12],[50,0,31,29],[51,0,31,54]],[[8,0,32,12],[16,0,32,15],[19,0,32,12],[22,0,32,15],[23,0,32,34]],[[8,0,33,12],[21,0,33,20],[24,0,33,12],[32,0,33,20],[33,0,33,30]],[[4,0,34,5],[5,0,34,6]],[[4,0,36,2],[9,0,36,7],[10,0,36,8],[18,0,36,16]],[[8,0,37,4],[14,0,37,10],[18,0,37,14],[19,0,37,15],[32,0,37,28],[34,0,37,30],[35,0,37,31]],[[4,0,38,2],[5,0,38,3]],[[4,0,40,2],[15,0,40,13]],[[8,0,41,4],[12,0,41,8],[13,0,41,9],[20,0,41,16],[22,0,41,18],[23,0,41,19]],[[4,0,42,2],[5,0,42,3]],[[4,0,44,10],[9,0,44,15],[10,0,44,16],[23,0,44,29]],[[8,0,45,4],[12,0,45,8],[13,0,45,9],[17,0,45,13],[18,0,45,14],[31,0,45,27],[33,0,45,29],[34,0,45,30]],[[12,0,46,6],[19,0,46,13],[20,0,46,14],[24,0,46,18],[25,0,46,19],[87,0,46,81],[88,0,46,82],[89,0,46,83]],[[12,0,47,6],[19,0,47,13]],[[8,0,48,4],[9,0,48,5]],[[8,0,50,4],[65,0,50,61]],[[8,0,51,4],[14,0,51,10],[15,0,51,11],[25,0,51,21],[27,0,51,23],[37,0,51,33],[38,0,51,34],[41,0,51,37],[45,0,51,41],[46,0,51,42],[59,0,51,55],[60,0,51,56],[65,0,51,61],[66,0,51,62],[69,0,51,65],[70,0,51,66],[71,0,51,67]],[[8,0,52,4],[12,0,52,8],[13,0,52,9],[23,0,52,19],[27,0,52,23],[28,0,52,24],[38,0,52,34],[40,0,52,36],[41,0,52,37]],[[12,0,53,6],[19,0,53,13],[20,0,53,14],[25,0,53,19],[26,0,53,20],[120,0,53,114],[121,0,53,115],[122,0,53,116]],[[12,0,54,6],[16,0,54,10],[17,0,54,11],[30,0,54,24],[31,0,54,25],[57,0,54,51],[58,0,54,52],[59,0,54,53]],[[12,0,55,6],[19,0,55,13]],[[8,0,56,4],[9,0,56,5]],[[8,0,58,4],[12,0,58,8],[13,0,58,9]],[[12,0,59,6],[16,0,59,10],[17,0,59,11],[26,0,59,20],[29,0,59,23],[33,0,59,27],[34,0,59,28]],[[12,0,60,6],[16,0,60,10],[17,0,60,11],[32,0,60,26],[34,0,60,28],[35,0,60,29]],[[12,0,62,6],[37,0,62,31]],[[12,0,63,6],[18,0,63,12],[24,0,63,18],[27,0,63,21],[33,0,63,27],[37,0,63,31],[38,0,63,32],[55,0,63,49],[56,0,63,50],[72,0,63,66],[73,0,63,67],[83,0,63,77],[85,0,63,79],[90,0,63,84],[100,0,63,94],[102,0,63,96],[103,0,63,97],[104,0,63,98]],[[12,0,65,6],[48,0,65,42]],[[12,0,66,6],[18,0,66,12],[32,0,66,26],[35,0,66,29],[39,0,66,33],[40,0,66,34],[62,0,66,56],[63,0,66,57],[69,0,66,63],[70,0,66,64],[71,0,66,65]],[[12,0,67,6],[16,0,67,10],[17,0,67,11],[31,0,67,25],[33,0,67,27],[34,0,67,28]],[[16,0,68,8],[22,0,68,14],[26,0,68,18],[31,0,68,23],[32,0,68,24],[65,0,68,57],[75,0,68,67],[79,0,68,71],[89,0,68,81],[91,0,68,83],[92,0,68,84],[93,0,68,85]],[[12,0,69,6],[13,0,69,7]],[[12,0,71,6],[46,0,71,40]],[[12,0,72,6],[18,0,72,12],[22,0,72,16],[23,0,72,17],[38,0,72,32],[39,0,72,33],[53,0,72,47],[54,0,72,48],[55,0,72,49]],[[8,0,74,4],[9,0,74,5]],[[8,0,74,6],[15,0,74,13],[20,0,74,18],[22,0,74,20],[23,0,74,21]],[[12,0,75,6],[19,0,75,13],[20,0,75,14],[25,0,75,19],[26,0,75,20],[87,0,75,81],[89,0,75,83],[94,0,75,88],[95,0,75,89],[96,0,75,90]],[[12,0,76,6],[16,0,76,10],[17,0,76,11],[30,0,76,24],[31,0,76,25],[36,0,76,30],[48,0,76,42],[53,0,76,47],[54,0,76,48],[55,0,76,49],[56,0,76,50],[61,0,76,55],[62,0,76,56],[69,0,76,63],[70,0,76,64],[71,0,76,65],[72,0,76,66],[87,0,76,81],[88,0,76,82],[89,0,76,83]],[[8,0,77,4],[9,0,77,5]],[[16,0,77,14],[17,0,77,15]],[[12,0,78,6],[16,0,78,10],[17,0,78,11],[26,0,78,20],[29,0,78,23],[34,0,78,28],[35,0,78,29]],[[8,0,79,4],[9,0,79,5]],[[4,0,80,2],[5,0,80,3]],[[4,0,82,10],[26,0,82,32],[27,0,82,33],[33,0,82,44]],[[8,0,83,4],[47,0,83,43]],[[8,0,84,4],[12,0,84,8],[18,0,84,14],[19,0,84,15],[26,0,84,22],[30,0,84,26],[37,0,84,33],[43,0,84,39],[44,0,84,40],[51,0,84,47],[56,0,84,52],[66,0,84,62],[68,0,84,64],[69,0,84,65]],[[12,0,85,6],[19,0,85,13],[25,0,85,19],[26,0,85,20],[33,0,85,27],[34,0,85,28]],[[8,0,86,4],[9,0,86,5]],[[8,0,88,4],[12,0,88,8],[18,0,88,14],[19,0,88,15],[28,0,88,24],[32,0,88,28],[39,0,88,35],[45,0,88,41],[46,0,88,42],[55,0,88,51],[60,0,88,56],[70,0,88,66],[72,0,88,68],[73,0,88,69]],[[12,0,89,6],[19,0,89,13],[25,0,89,19],[26,0,89,20],[35,0,89,29],[36,0,89,30]],[[8,0,90,4],[9,0,90,5]],[[8,0,92,4],[66,0,92,62]],[[8,0,93,4],[13,0,93,9],[19,0,93,15],[22,0,93,18],[26,0,93,22],[32,0,93,28],[33,0,93,29],[37,0,93,33],[38,0,93,34],[44,0,93,40],[45,0,93,41],[47,0,93,43],[48,0,93,44]],[[12,0,94,6],[16,0,94,10],[23,0,94,17],[29,0,94,23],[30,0,94,24],[33,0,94,27],[34,0,94,28],[39,0,94,33],[49,0,94,43],[53,0,94,47],[56,0,94,50],[61,0,94,55],[70,0,94,64],[72,0,94,66],[73,0,94,67]],[[16,0,95,8],[23,0,95,15],[29,0,95,21],[30,0,95,22],[33,0,95,25],[34,0,95,26],[35,0,95,27]],[[12,0,96,6],[13,0,96,7]],[[8,0,97,4],[9,0,97,5]],[[8,0,99,4],[15,0,99,11],[19,0,99,15],[20,0,99,16]],[[4,0,100,2],[5,0,100,3]],[[4,0,102,10],[9,0,102,15],[10,0,102,16],[25,0,102,31],[26,0,102,32],[40,0,102,57]],[[8,0,103,4],[12,0,103,8],[13,0,103,9],[20,0,103,16],[22,0,103,18],[23,0,103,19]],[[8,0,105,4],[12,0,105,8],[13,0,105,9]],[[12,0,106,6],[35,0,106,29]],[[12,0,107,6],[16,0,107,10],[17,0,107,11],[29,0,107,23],[32,0,107,26],[36,0,107,30],[37,0,107,31],[50,0,107,44],[51,0,107,45],[66,0,107,60],[67,0,107,61],[81,0,107,75],[83,0,107,77]],[[16,0,108,8],[24,0,108,16],[26,0,108,18],[30,0,108,22],[31,0,108,23],[39,0,108,31]],[[13,0,109,7],[14,0,109,8],[15,0,109,9]],[[12,0,111,6],[37,0,111,31]],[[12,0,112,6],[16,0,112,10],[20,0,112,14],[21,0,112,15],[27,0,112,21],[29,0,112,23],[30,0,112,24]],[[16,0,113,8],[22,0,113,14],[23,0,113,15],[27,0,113,19],[28,0,113,20],[32,0,113,24],[33,0,113,25],[39,0,113,31],[40,0,113,32],[41,0,113,33],[48,0,113,40],[49,0,113,41],[52,0,113,44],[53,0,113,45],[55,0,113,47]],[[20,0,114,10],[24,0,114,14],[28,0,114,18],[29,0,114,19],[41,0,114,31],[43,0,114,33],[51,0,114,41],[52,0,114,42],[55,0,114,45],[56,0,114,46],[61,0,114,51],[70,0,114,60],[72,0,114,62],[73,0,114,63]],[[24,0,115,12],[28,0,115,16],[29,0,115,17],[41,0,115,29],[42,0,115,30],[50,0,115,38],[51,0,115,39],[54,0,115,42],[55,0,115,43],[58,0,115,46],[62,0,115,50],[63,0,115,51],[69,0,115,58],[70,0,115,59],[73,0,115,62],[74,0,115,63],[75,0,115,64]],[[20,0,116,10],[21,0,116,11]],[[16,0,117,8],[17,0,117,9],[18,0,117,10],[19,0,117,11]],[[12,0,118,6],[13,0,118,7]],[[12,0,120,6],[39,0,120,33]],[[12,0,121,6],[16,0,121,10],[17,0,121,11],[29,0,121,23],[30,0,121,24],[47,0,121,41],[48,0,121,42],[61,0,121,55],[63,0,121,57],[64,0,121,58]],[[12,0,122,6],[16,0,122,10],[17,0,122,11],[20,0,122,14],[21,0,122,15],[34,0,122,28],[36,0,122,30],[37,0,122,31]],[[8,0,124,4],[9,0,124,5]],[[8,0,124,6],[15,0,124,13],[20,0,124,18],[22,0,124,20],[23,0,124,21]],[[12,0,125,6],[19,0,125,13],[20,0,125,14],[25,0,125,19],[26,0,125,20],[89,0,125,83],[91,0,125,85],[96,0,125,90],[97,0,125,91],[98,0,125,92]],[[12,0,126,6],[18,0,126,12],[23,0,126,17],[24,0,126,18]],[[8,0,127,4],[9,0,127,5]],[[4,0,128,2],[5,0,128,3]],[[4,0,130,10],[19,0,130,25]],[[8,0,131,4],[12,0,131,8],[13,0,131,9],[20,0,131,16],[22,0,131,18],[23,0,131,19]],[[8,0,133,4],[12,0,133,8],[16,0,133,12],[17,0,133,13],[32,0,133,28],[34,0,133,30],[35,0,133,31]],[[12,0,134,6],[16,0,134,10],[17,0,134,11],[28,0,134,22],[31,0,134,25],[35,0,134,29],[36,0,134,30],[49,0,134,43],[50,0,134,44],[68,0,134,62],[69,0,134,63],[73,0,134,67],[74,0,134,68],[89,0,134,83],[90,0,134,84],[91,0,134,85]],[[8,0,135,4],[9,0,135,5]],[[13,0,135,11],[14,0,135,12]],[[12,0,136,6],[42,0,136,36]],[[12,0,137,6],[16,0,137,10],[17,0,137,11],[41,0,137,35],[43,0,137,37],[44,0,137,38]],[[8,0,138,4],[9,0,138,5]],[[4,0,139,2],[5,0,139,3]],[[4,0,141,10],[17,0,141,23],[18,0,141,24],[23,0,141,37]],[[8,0,142,4],[12,0,142,8],[13,0,142,9],[20,0,142,16],[22,0,142,18],[23,0,142,19]],[[8,0,144,4],[12,0,144,8],[16,0,144,12],[17,0,144,13],[30,0,144,26],[32,0,144,28],[33,0,144,29]],[[12,0,145,6],[16,0,145,10],[17,0,145,11],[28,0,145,22],[31,0,145,25],[35,0,145,29],[36,0,145,30],[49,0,145,43],[50,0,145,44],[68,0,145,62],[69,0,145,63],[73,0,145,67],[74,0,145,68],[87,0,145,81],[89,0,145,83],[91,0,145,85],[96,0,145,90],[98,0,145,92],[99,0,145,93],[100,0,145,94]],[[8,0,146,4],[9,0,146,5]],[[13,0,146,11],[17,0,146,15],[21,0,146,19],[22,0,146,20],[38,0,146,36],[40,0,146,38],[41,0,146,39]],[[12,0,147,6],[16,0,147,10],[17,0,147,11],[28,0,147,22],[31,0,147,25],[35,0,147,29],[36,0,147,30],[49,0,147,43],[50,0,147,44],[68,0,147,62],[69,0,147,63],[73,0,147,67],[74,0,147,68],[90,0,147,84],[91,0,147,85],[92,0,147,86]],[[8,0,148,4],[9,0,148,5]],[[13,0,148,11],[14,0,148,12]],[[12,0,149,6],[40,0,149,34]],[[12,0,150,6],[16,0,150,10],[17,0,150,11],[39,0,150,33],[40,0,150,34],[45,0,150,39],[46,0,150,40],[47,0,150,41]],[[8,0,151,4],[9,0,151,5]],[[4,0,152,2],[5,0,152,3]],[[4,0,154,10],[28,0,154,34]],[[8,0,155,4],[14,0,155,10],[17,0,155,13],[20,0,155,16],[28,0,155,24],[29,0,155,25],[42,0,155,38],[43,0,155,39],[48,0,155,44],[49,0,155,45],[50,0,155,46]],[[8,0,156,4],[11,0,156,7],[12,0,156,8],[17,0,156,13],[18,0,156,14],[25,0,156,21],[28,0,156,24],[34,0,156,30],[35,0,156,31]],[[8,0,157,4],[11,0,157,7],[12,0,157,8],[17,0,157,13],[18,0,157,14],[27,0,157,23],[30,0,157,26],[38,0,157,34],[39,0,157,35]],[[8,0,158,4],[11,0,158,7],[12,0,158,8],[17,0,158,13],[18,0,158,14],[23,0,158,19],[26,0,158,22],[32,0,158,28],[33,0,158,29]],[[8,0,159,4],[11,0,159,7],[12,0,159,8],[21,0,159,17],[24,0,159,20],[58,0,159,54],[59,0,159,55]],[[8,0,161,4],[14,0,161,10],[24,0,161,20],[27,0,161,23],[29,0,161,25],[42,0,161,38],[44,0,161,40],[47,0,161,43],[49,0,161,45],[50,0,161,46]],[[8,0,162,4],[12,0,162,8],[13,0,162,9],[24,0,162,20],[27,0,162,23],[31,0,162,27],[32,0,162,28],[45,0,162,41],[46,0,162,42],[64,0,162,60],[65,0,163,6],[67,0,163,8],[85,0,163,26],[87,0,163,28],[90,0,163,31],[92,0,163,33],[93,0,163,34],[94,0,163,35],[96,0,163,37],[105,0,163,46],[107,0,163,48],[108,0,163,49],[111,0,163,52],[112,0,163,53],[114,0,163,55],[115,0,163,56],[117,0,163,65],[118,0,164,5],[119,0,164,6]],[[4,0,165,2],[5,0,165,3]],[[4,0,167,10],[26,0,167,32],[27,0,167,33],[32,0,167,46]],[[8,0,168,4],[14,0,168,10],[17,0,168,13],[20,0,168,16],[28,0,168,24],[29,0,168,25],[42,0,168,38],[43,0,168,39],[48,0,168,44],[49,0,168,45],[50,0,168,46]],[[8,0,169,4],[11,0,169,7],[12,0,169,8],[17,0,169,13],[18,0,169,14],[25,0,169,21],[28,0,169,24],[34,0,169,30],[35,0,169,31]],[[8,0,170,4],[11,0,170,7],[12,0,170,8],[17,0,170,13],[18,0,170,14],[24,0,170,20],[27,0,170,23],[46,0,170,42],[47,0,170,43]],[[8,0,171,4],[11,0,171,7],[12,0,171,8],[17,0,171,13],[18,0,171,14],[33,0,171,29],[36,0,171,32],[45,0,171,41],[46,0,171,42]],[[8,0,172,4],[11,0,172,7],[12,0,172,8],[17,0,172,13],[18,0,172,14],[23,0,172,19],[26,0,172,22],[35,0,172,31],[36,0,172,32]],[[8,0,173,4],[11,0,173,7],[12,0,173,8],[17,0,173,13],[18,0,173,14],[30,0,173,26],[33,0,173,29],[38,0,173,34],[39,0,173,35]],[[8,0,174,4],[11,0,174,7],[12,0,174,8],[21,0,174,17],[24,0,174,20]],[],[[15,0,176,15],[19,0,176,19],[20,0,176,20],[33,0,176,33]],[[12,0,177,12],[17,0,177,17]],[[5,0,178,5],[6,0,178,6]],[[8,0,180,4],[12,0,180,8],[13,0,180,9],[24,0,180,20],[27,0,180,23],[31,0,180,27],[32,0,180,28],[45,0,180,41],[46,0,180,42],[64,0,180,60],[65,0,181,6],[67,0,181,8],[85,0,181,26],[87,0,181,28],[90,0,181,31],[92,0,181,33],[93,0,181,34],[94,0,181,35],[96,0,181,37],[105,0,181,46],[107,0,181,48],[108,0,181,49],[111,0,181,52],[112,0,181,53],[114,0,181,55],[115,0,181,56],[117,0,181,65],[118,0,182,5],[119,0,182,6]],[[4,0,183,2],[5,0,183,3]],[[4,0,185,10],[11,0,185,17]],[[8,0,186,4],[12,0,186,8],[16,0,186,12],[17,0,186,13],[29,0,186,25],[31,0,186,27],[32,0,186,28]],[[12,0,187,6],[16,0,187,10],[17,0,187,11],[29,0,187,23],[30,0,187,24],[37,0,187,31],[39,0,187,33],[40,0,187,34]],[[12,0,188,6],[16,0,188,10],[17,0,188,11],[29,0,188,23],[32,0,188,26],[41,0,188,35],[42,0,188,36]],[[8,0,189,4],[9,0,189,5]],[[8,0,191,4],[12,0,191,8],[16,0,191,12],[17,0,191,13],[28,0,191,24],[30,0,191,26],[31,0,191,27]],[[12,0,192,6],[16,0,192,10],[17,0,192,11],[28,0,192,22],[29,0,192,23],[36,0,192,30],[38,0,192,32],[39,0,192,33]],[[12,0,193,6],[16,0,193,10],[17,0,193,11],[28,0,193,22],[31,0,193,25],[40,0,193,34],[41,0,193,35]],[[8,0,194,4],[9,0,194,5]],[[8,0,196,4],[12,0,196,8],[13,0,196,9],[26,0,196,22],[27,0,196,23],[32,0,196,28],[34,0,196,30],[35,0,196,31]],[[4,0,197,2],[5,0,197,3]],[[104,0,18,13],[135,0,18,44]],[[92,0,18,13],[123,0,18,44]],[],[[92,0,18,13],[123,0,18,44]],[[18,0,15,1],[27,0,15,10]],[[19,0,15,11]],[[20,0,16,2],[28,0,16,10],[30,0,16,12],[49,0,16,31]],[[17,0,17,1]],[[178,0,19,28],[191,0,19,41]],[[22,0,19,3],[27,0,19,8]],[[23,0,19,9],[40,0,19,26]],[[16,0,20,23],[32,0,20,39]],[[22,0,20,3],[27,0,20,8]],[[23,0,20,9],[35,0,20,21]],[[16,0,21,30],[31,0,21,45]],[[22,0,21,3],[27,0,21,8]],[[23,0,21,9],[42,0,21,28]],[[16,0,22,28],[29,0,22,41]],[[22,0,22,3],[27,0,22,8]],[[23,0,22,9],[40,0,22,26]],[[16,0,23,21],[22,0,23,27]],[[22,0,23,3],[27,0,23,8]],[[23,0,23,9],[33,0,23,19]]],"sourcesContent":["import {\n  Directive,\n  Input,\n  ViewContainerRef,\n  ComponentRef,\n  OnInit,\n  OnDestroy,\n  ChangeDetectorRef,\n  TemplateRef,\n  EmbeddedViewRef,\n  Injector,\n  Type\n} from '@angular/core';\nimport { NativeFederationService } from '../native-federation.service';\n\n@Directive({\n  selector: '[nfLoadComponent]'\n})\nexport class LoadFederatedComponentDirective implements OnInit, OnDestroy {\n  @Input('nfLoadComponent') componentInfo!: string;\n  @Input('nfFallback') fallbackTemplate?: TemplateRef<any>;\n  @Input('nfLoadingTemplate') loadingTemplate?: TemplateRef<any>;\n  @Input('nfErrorTemplate') errorTemplate?: TemplateRef<any>;\n  @Input('nfInputs') inputs?: { [key: string]: any };\n\n  private componentRef?: ComponentRef<any>;\n  private currentView?: EmbeddedViewRef<any>;\n  private isLoading = false;\n\n  constructor(\n    private viewContainer: ViewContainerRef,\n    private federationService: NativeFederationService,\n    private cdr: ChangeDetectorRef,\n    private injector: Injector\n  ) {}\n\n  async ngOnInit() {\n    await this.loadComponent();\n  }\n\n  ngOnDestroy() {\n    this.cleanup();\n  }\n\n  private async loadComponent() {\n    if (!this.componentInfo) {\n      console.warn('[LoadFederatedComponentDirective] No component info provided');\n      return;\n    }\n\n    // Parse component info (format: \"remoteName/modulePath\")\n    const [remoteName, modulePath] = this.componentInfo.split('/');\n    if (!remoteName || !modulePath) {\n      console.error('[LoadFederatedComponentDirective] Invalid component info format. Use \"remoteName/modulePath\"');\n      this.showErrorView('Invalid component format');\n      return;\n    }\n\n    try {\n      this.isLoading = true;\n      this.showLoadingView();\n\n      // Load the remote module\n      const module = await this.federationService.loadRemoteModule(remoteName, `./${modulePath}`);\n      \n      // Get the component from the module\n      const ComponentClass = this.getComponentFromModule(module);\n      if (!ComponentClass) {\n        throw new Error(`Component not found in module ${remoteName}/${modulePath}`);\n      }\n\n      // Create and insert the component\n      await this.createComponent(ComponentClass);\n\n    } catch (error) {\n      console.error('[LoadFederatedComponentDirective] Failed to load component:', error);\n      this.showErrorView(error instanceof Error ? error.message : 'Unknown error');\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private getComponentFromModule(module: any): Type<any> | null {\n    // Try different common export patterns\n    if (module.default && typeof module.default === 'function') {\n      return module.default;\n    }\n    \n    if (module.Component && typeof module.Component === 'function') {\n      return module.Component;\n    }\n\n    // Look for the first function export (likely a component)\n    for (const key of Object.keys(module)) {\n      if (typeof module[key] === 'function' && key !== 'default') {\n        return module[key];\n      }\n    }\n\n    return null;\n  }\n\n  private async createComponent(ComponentClass: Type<any>) {\n    this.cleanup();\n\n    try {\n      // Create the component\n      this.componentRef = this.viewContainer.createComponent(ComponentClass, {\n        injector: this.injector\n      });\n\n      // Set inputs if provided\n      if (this.inputs) {\n        Object.keys(this.inputs).forEach(key => {\n          if (this.componentRef?.instance[key] !== undefined) {\n            this.componentRef.instance[key] = this.inputs![key];\n          }\n        });\n      }\n\n      // Trigger change detection\n      this.componentRef.changeDetectorRef.detectChanges();\n      this.cdr.detectChanges();\n\n    } catch (error) {\n      console.error('[LoadFederatedComponentDirective] Failed to create component:', error);\n      throw error;\n    }\n  }\n\n  private showLoadingView() {\n    this.cleanup();\n    \n    if (this.loadingTemplate) {\n      this.currentView = this.viewContainer.createEmbeddedView(this.loadingTemplate);\n    } else {\n      // Create default loading view\n      this.createDefaultLoadingView();\n    }\n  }\n\n  private showErrorView(error: string) {\n    this.cleanup();\n    \n    if (this.errorTemplate) {\n      this.currentView = this.viewContainer.createEmbeddedView(this.errorTemplate, { error });\n    } else if (this.fallbackTemplate) {\n      this.currentView = this.viewContainer.createEmbeddedView(this.fallbackTemplate);\n    } else {\n      // Create default error view\n      this.createDefaultErrorView(error);\n    }\n  }\n\n  private createDefaultLoadingView() {\n    const div = document.createElement('div');\n    div.style.padding = '20px';\n    div.style.textAlign = 'center';\n    div.style.color = '#666';\n    div.innerHTML = '⏳ Loading federated component...';\n    \n    const elementRef = { nativeElement: div };\n    this.currentView = this.viewContainer.createEmbeddedView(\n      { createEmbeddedView: () => ({ rootNodes: [div] }) } as any\n    );\n  }\n\n  private createDefaultErrorView(error: string) {\n    const div = document.createElement('div');\n    div.style.padding = '20px';\n    div.style.border = '1px solid #f5c6cb';\n    div.style.backgroundColor = '#f8d7da';\n    div.style.color = '#721c24';\n    div.style.borderRadius = '4px';\n    div.innerHTML = `\n      <strong>❌ Failed to load federated component</strong><br>\n      <small>${this.componentInfo}</small><br>\n      <em>${error}</em>\n    `;\n    \n    this.currentView = this.viewContainer.createEmbeddedView(\n      { createEmbeddedView: () => ({ rootNodes: [div] }) } as any\n    );\n  }\n\n  private cleanup() {\n    if (this.componentRef) {\n      this.componentRef.destroy();\n      this.componentRef = undefined;\n    }\n    \n    if (this.currentView) {\n      this.currentView.destroy();\n      this.currentView = undefined;\n    }\n    \n    this.viewContainer.clear();\n  }\n}"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"../native-federation.service":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/native-federation.service.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":3309,"body":[{"type":"ImportDeclaration","start":0,"end":41,"specifiers":[{"type":"ImportSpecifier","start":9,"end":17,"imported":{"type":"Identifier","start":9,"end":17,"name":"NgModule"},"local":{"type":"Identifier","start":9,"end":17,"name":"NgModule"}}],"source":{"type":"Literal","start":25,"end":40,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":42,"end":89,"specifiers":[{"type":"ImportSpecifier","start":51,"end":63,"imported":{"type":"Identifier","start":51,"end":63,"name":"CommonModule"},"local":{"type":"Identifier","start":51,"end":63,"name":"CommonModule"}}],"source":{"type":"Literal","start":71,"end":88,"value":"@angular/common","raw":"'@angular/common'"},"attributes":[]},{"type":"ImportDeclaration","start":90,"end":160,"specifiers":[{"type":"ImportSpecifier","start":99,"end":122,"imported":{"type":"Identifier","start":99,"end":122,"name":"NativeFederationService"},"local":{"type":"Identifier","start":99,"end":122,"name":"NativeFederationService"}}],"source":{"type":"Literal","start":130,"end":159,"value":"./native-federation.service","raw":"'./native-federation.service'"},"attributes":[]},{"type":"ImportDeclaration","start":161,"end":259,"specifiers":[{"type":"ImportSpecifier","start":170,"end":201,"imported":{"type":"Identifier","start":170,"end":201,"name":"LoadFederatedComponentDirective"},"local":{"type":"Identifier","start":170,"end":201,"name":"LoadFederatedComponentDirective"}}],"source":{"type":"Literal","start":209,"end":258,"value":"./directives/load-federated-component.directive","raw":"'./directives/load-federated-component.directive'"},"attributes":[]},{"type":"ImportDeclaration","start":260,"end":296,"specifiers":[{"type":"ImportNamespaceSpecifier","start":267,"end":274,"local":{"type":"Identifier","start":272,"end":274,"name":"i0"}}],"source":{"type":"Literal","start":280,"end":295,"value":"@angular/core","raw":"\"@angular/core\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":297,"end":981,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":304,"end":981,"decorators":[],"id":{"type":"Identifier","start":310,"end":332,"name":"NativeFederationModule"},"superClass":null,"body":{"type":"ClassBody","start":333,"end":981,"body":[{"type":"PropertyDefinition","start":339,"end":512,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":346,"end":350,"name":"ɵfac"},"value":{"type":"CallExpression","start":353,"end":511,"optional":false,"callee":{"type":"MemberExpression","start":353,"end":374,"computed":false,"optional":false,"object":{"type":"Identifier","start":353,"end":355,"name":"i0"},"property":{"type":"Identifier","start":356,"end":374,"name":"ɵɵngDeclareFactory"}},"arguments":[{"type":"ObjectExpression","start":375,"end":510,"properties":[{"type":"Property","start":377,"end":397,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":377,"end":387,"name":"minVersion"},"value":{"type":"Literal","start":389,"end":397,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":399,"end":417,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":399,"end":406,"name":"version"},"value":{"type":"Literal","start":408,"end":417,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":419,"end":431,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":419,"end":427,"name":"ngImport"},"value":{"type":"Identifier","start":429,"end":431,"name":"i0"},"kind":"init"},{"type":"Property","start":433,"end":461,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":433,"end":437,"name":"type"},"value":{"type":"Identifier","start":439,"end":461,"name":"NativeFederationModule"},"kind":"init"},{"type":"Property","start":463,"end":471,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":463,"end":467,"name":"deps"},"value":{"type":"ArrayExpression","start":469,"end":471,"elements":[]},"kind":"init"},{"type":"Property","start":473,"end":508,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":473,"end":479,"name":"target"},"value":{"type":"MemberExpression","start":481,"end":508,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":481,"end":499,"computed":false,"optional":false,"object":{"type":"Identifier","start":481,"end":483,"name":"i0"},"property":{"type":"Identifier","start":484,"end":499,"name":"ɵɵFactoryTarget"}},"property":{"type":"Identifier","start":500,"end":508,"name":"NgModule"}},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":517,"end":762,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":524,"end":528,"name":"ɵmod"},"value":{"type":"CallExpression","start":531,"end":761,"optional":false,"callee":{"type":"MemberExpression","start":531,"end":553,"computed":false,"optional":false,"object":{"type":"Identifier","start":531,"end":533,"name":"i0"},"property":{"type":"Identifier","start":534,"end":553,"name":"ɵɵngDeclareNgModule"}},"arguments":[{"type":"ObjectExpression","start":554,"end":760,"properties":[{"type":"Property","start":556,"end":576,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":556,"end":566,"name":"minVersion"},"value":{"type":"Literal","start":568,"end":576,"value":"14.0.0","raw":"\"14.0.0\""},"kind":"init"},{"type":"Property","start":578,"end":596,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":578,"end":585,"name":"version"},"value":{"type":"Literal","start":587,"end":596,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":598,"end":610,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":598,"end":606,"name":"ngImport"},"value":{"type":"Identifier","start":608,"end":610,"name":"i0"},"kind":"init"},{"type":"Property","start":612,"end":640,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":612,"end":616,"name":"type"},"value":{"type":"Identifier","start":618,"end":640,"name":"NativeFederationModule"},"kind":"init"},{"type":"Property","start":642,"end":689,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":642,"end":654,"name":"declarations"},"value":{"type":"ArrayExpression","start":656,"end":689,"elements":[{"type":"Identifier","start":657,"end":688,"name":"LoadFederatedComponentDirective"}]},"kind":"init"},{"type":"Property","start":691,"end":714,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":691,"end":698,"name":"imports"},"value":{"type":"ArrayExpression","start":700,"end":714,"elements":[{"type":"Identifier","start":701,"end":713,"name":"CommonModule"}]},"kind":"init"},{"type":"Property","start":716,"end":758,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":716,"end":723,"name":"exports"},"value":{"type":"ArrayExpression","start":725,"end":758,"elements":[{"type":"Identifier","start":726,"end":757,"name":"LoadFederatedComponentDirective"}]},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":767,"end":979,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":774,"end":778,"name":"ɵinj"},"value":{"type":"CallExpression","start":781,"end":978,"optional":false,"callee":{"type":"MemberExpression","start":781,"end":803,"computed":false,"optional":false,"object":{"type":"Identifier","start":781,"end":783,"name":"i0"},"property":{"type":"Identifier","start":784,"end":803,"name":"ɵɵngDeclareInjector"}},"arguments":[{"type":"ObjectExpression","start":804,"end":977,"properties":[{"type":"Property","start":806,"end":826,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":806,"end":816,"name":"minVersion"},"value":{"type":"Literal","start":818,"end":826,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":828,"end":846,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":828,"end":835,"name":"version"},"value":{"type":"Literal","start":837,"end":846,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":848,"end":860,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":848,"end":856,"name":"ngImport"},"value":{"type":"Identifier","start":858,"end":860,"name":"i0"},"kind":"init"},{"type":"Property","start":862,"end":890,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":862,"end":866,"name":"type"},"value":{"type":"Identifier","start":868,"end":890,"name":"NativeFederationModule"},"kind":"init"},{"type":"Property","start":892,"end":950,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":892,"end":901,"name":"providers"},"value":{"type":"ArrayExpression","start":903,"end":950,"elements":[{"type":"Identifier","start":917,"end":940,"name":"NativeFederationService"}]},"kind":"init"},{"type":"Property","start":952,"end":975,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":952,"end":959,"name":"imports"},"value":{"type":"ArrayExpression","start":961,"end":975,"elements":[{"type":"Identifier","start":962,"end":974,"name":"CommonModule"}]},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":982,"end":1614,"expression":{"type":"CallExpression","start":982,"end":1613,"optional":false,"callee":{"type":"MemberExpression","start":982,"end":1009,"computed":false,"optional":false,"object":{"type":"Identifier","start":982,"end":984,"name":"i0"},"property":{"type":"Identifier","start":985,"end":1009,"name":"ɵɵngDeclareClassMetadata"}},"arguments":[{"type":"ObjectExpression","start":1010,"end":1612,"properties":[{"type":"Property","start":1012,"end":1032,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1012,"end":1022,"name":"minVersion"},"value":{"type":"Literal","start":1024,"end":1032,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":1034,"end":1052,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1034,"end":1041,"name":"version"},"value":{"type":"Literal","start":1043,"end":1052,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":1054,"end":1066,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1054,"end":1062,"name":"ngImport"},"value":{"type":"Identifier","start":1064,"end":1066,"name":"i0"},"kind":"init"},{"type":"Property","start":1068,"end":1096,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1068,"end":1072,"name":"type"},"value":{"type":"Identifier","start":1074,"end":1096,"name":"NativeFederationModule"},"kind":"init"},{"type":"Property","start":1098,"end":1610,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1098,"end":1108,"name":"decorators"},"value":{"type":"ArrayExpression","start":1110,"end":1610,"elements":[{"type":"ObjectExpression","start":1111,"end":1609,"properties":[{"type":"Property","start":1125,"end":1139,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1125,"end":1129,"name":"type"},"value":{"type":"Identifier","start":1131,"end":1139,"name":"NgModule"},"kind":"init"},{"type":"Property","start":1153,"end":1599,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1153,"end":1157,"name":"args"},"value":{"type":"ArrayExpression","start":1159,"end":1599,"elements":[{"type":"ObjectExpression","start":1160,"end":1598,"properties":[{"type":"Property","start":1182,"end":1275,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1182,"end":1194,"name":"declarations"},"value":{"type":"ArrayExpression","start":1196,"end":1275,"elements":[{"type":"Identifier","start":1222,"end":1253,"name":"LoadFederatedComponentDirective"}]},"kind":"init"},{"type":"Property","start":1297,"end":1366,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1297,"end":1304,"name":"imports"},"value":{"type":"ArrayExpression","start":1306,"end":1366,"elements":[{"type":"Identifier","start":1332,"end":1344,"name":"CommonModule"}]},"kind":"init"},{"type":"Property","start":1388,"end":1470,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1388,"end":1397,"name":"providers"},"value":{"type":"ArrayExpression","start":1399,"end":1470,"elements":[{"type":"Identifier","start":1425,"end":1448,"name":"NativeFederationService"}]},"kind":"init"},{"type":"Property","start":1492,"end":1580,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1492,"end":1499,"name":"exports"},"value":{"type":"ArrayExpression","start":1501,"end":1580,"elements":[{"type":"Identifier","start":1527,"end":1558,"name":"LoadFederatedComponentDirective"}]},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"}]}]}}],"_rollupRemoved":[{"end":3309,"start":1615,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NativeFederationService } from './native-federation.service';\nimport { LoadFederatedComponentDirective } from './directives/load-federated-component.directive';\nimport * as i0 from \"@angular/core\";\nexport class NativeFederationModule {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n    static ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationModule, declarations: [LoadFederatedComponentDirective], imports: [CommonModule], exports: [LoadFederatedComponentDirective] });\n    static ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationModule, providers: [\n            NativeFederationService\n        ], imports: [CommonModule] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        LoadFederatedComponentDirective\n                    ],\n                    imports: [\n                        CommonModule\n                    ],\n                    providers: [\n                        NativeFederationService\n                    ],\n                    exports: [\n                        LoadFederatedComponentDirective\n                    ]\n                }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF0aXZlLWZlZGVyYXRpb24ubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmF0aXZlLWZlZGVyYXRpb24vc3JjL2xpYi9hbmd1bGFyL25hdGl2ZS1mZWRlcmF0aW9uLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUN0RSxPQUFPLEVBQUUsK0JBQStCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQzs7QUFnQmxHLE1BQU0sT0FBTyxzQkFBc0I7d0dBQXRCLHNCQUFzQjt5R0FBdEIsc0JBQXNCLGlCQVovQiwrQkFBK0IsYUFHL0IsWUFBWSxhQU1aLCtCQUErQjt5R0FHdEIsc0JBQXNCLGFBUHRCO1lBQ1QsdUJBQXVCO1NBQ3hCLFlBSkMsWUFBWTs7NEZBU0gsc0JBQXNCO2tCQWRsQyxRQUFRO21CQUFDO29CQUNSLFlBQVksRUFBRTt3QkFDWiwrQkFBK0I7cUJBQ2hDO29CQUNELE9BQU8sRUFBRTt3QkFDUCxZQUFZO3FCQUNiO29CQUNELFNBQVMsRUFBRTt3QkFDVCx1QkFBdUI7cUJBQ3hCO29CQUNELE9BQU8sRUFBRTt3QkFDUCwrQkFBK0I7cUJBQ2hDO2lCQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBOYXRpdmVGZWRlcmF0aW9uU2VydmljZSB9IGZyb20gJy4vbmF0aXZlLWZlZGVyYXRpb24uc2VydmljZSc7XG5pbXBvcnQgeyBMb2FkRmVkZXJhdGVkQ29tcG9uZW50RGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmVzL2xvYWQtZmVkZXJhdGVkLWNvbXBvbmVudC5kaXJlY3RpdmUnO1xuXG5ATmdNb2R1bGUoe1xuICBkZWNsYXJhdGlvbnM6IFtcbiAgICBMb2FkRmVkZXJhdGVkQ29tcG9uZW50RGlyZWN0aXZlXG4gIF0sXG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGVcbiAgXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgTmF0aXZlRmVkZXJhdGlvblNlcnZpY2VcbiAgXSxcbiAgZXhwb3J0czogW1xuICAgIExvYWRGZWRlcmF0ZWRDb21wb25lbnREaXJlY3RpdmVcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBOYXRpdmVGZWRlcmF0aW9uTW9kdWxlIHsgfSJdfQ==","customTransformCache":false,"dependencies":["@angular/core","@angular/common","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/native-federation.service.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/directives/load-federated-component.directive.mjs"],"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/native-federation.module.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NativeFederationService } from './native-federation.service';\nimport { LoadFederatedComponentDirective } from './directives/load-federated-component.directive';\nimport * as i0 from \"@angular/core\";\nexport class NativeFederationModule {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n    static ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationModule, declarations: [LoadFederatedComponentDirective], imports: [CommonModule], exports: [LoadFederatedComponentDirective] });\n    static ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationModule, providers: [\n            NativeFederationService\n        ], imports: [CommonModule] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: NativeFederationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        LoadFederatedComponentDirective\n                    ],\n                    imports: [\n                        CommonModule\n                    ],\n                    providers: [\n                        NativeFederationService\n                    ],\n                    exports: [\n                        LoadFederatedComponentDirective\n                    ]\n                }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF0aXZlLWZlZGVyYXRpb24ubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmF0aXZlLWZlZGVyYXRpb24vc3JjL2xpYi9hbmd1bGFyL25hdGl2ZS1mZWRlcmF0aW9uLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUN0RSxPQUFPLEVBQUUsK0JBQStCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQzs7QUFnQmxHLE1BQU0sT0FBTyxzQkFBc0I7d0dBQXRCLHNCQUFzQjt5R0FBdEIsc0JBQXNCLGlCQVovQiwrQkFBK0IsYUFHL0IsWUFBWSxhQU1aLCtCQUErQjt5R0FHdEIsc0JBQXNCLGFBUHRCO1lBQ1QsdUJBQXVCO1NBQ3hCLFlBSkMsWUFBWTs7NEZBU0gsc0JBQXNCO2tCQWRsQyxRQUFRO21CQUFDO29CQUNSLFlBQVksRUFBRTt3QkFDWiwrQkFBK0I7cUJBQ2hDO29CQUNELE9BQU8sRUFBRTt3QkFDUCxZQUFZO3FCQUNiO29CQUNELFNBQVMsRUFBRTt3QkFDVCx1QkFBdUI7cUJBQ3hCO29CQUNELE9BQU8sRUFBRTt3QkFDUCwrQkFBK0I7cUJBQ2hDO2lCQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBOYXRpdmVGZWRlcmF0aW9uU2VydmljZSB9IGZyb20gJy4vbmF0aXZlLWZlZGVyYXRpb24uc2VydmljZSc7XG5pbXBvcnQgeyBMb2FkRmVkZXJhdGVkQ29tcG9uZW50RGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmVzL2xvYWQtZmVkZXJhdGVkLWNvbXBvbmVudC5kaXJlY3RpdmUnO1xuXG5ATmdNb2R1bGUoe1xuICBkZWNsYXJhdGlvbnM6IFtcbiAgICBMb2FkRmVkZXJhdGVkQ29tcG9uZW50RGlyZWN0aXZlXG4gIF0sXG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGVcbiAgXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgTmF0aXZlRmVkZXJhdGlvblNlcnZpY2VcbiAgXSxcbiAgZXhwb3J0czogW1xuICAgIExvYWRGZWRlcmF0ZWRDb21wb25lbnREaXJlY3RpdmVcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBOYXRpdmVGZWRlcmF0aW9uTW9kdWxlIHsgfSJdfQ==","originalSourcemap":{"version":3,"file":"native-federation.module.js","sourceRoot":"","sources":["../../../../../projects/native-federation/src/lib/angular/native-federation.module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[17,0,0,17],[19,0,0,19],[25,0,0,25],[40,0,0,40],[41,0,0,41]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[21,0,1,21],[23,0,1,23],[29,0,1,29],[46,0,1,46],[47,0,1,47]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[32,0,2,32],[34,0,2,34],[40,0,2,40],[69,0,2,69],[70,0,2,70]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[40,0,3,40],[42,0,3,42],[48,0,3,48],[97,0,3,97],[98,0,3,98]],[],[[0,0,19,0],[6,0,19,6],[13,0,19,13],[35,0,19,35]],[[104,0,19,13],[126,0,19,35]],[[105,0,19,13],[127,0,19,35],[144,0,7,4],[175,0,7,35],[188,0,10,4],[200,0,10,16],[213,0,16,4],[244,0,16,35]],[[105,0,19,13],[127,0,19,35],[140,0,12,13]],[[12,0,13,4],[35,0,13,27]],[[9,0,14,3],[21,0,10,4],[33,0,10,16]],[],[[92,0,19,13],[114,0,19,35]],[[18,0,5,1],[26,0,5,9]],[[19,0,5,10]],[[20,0,6,2],[32,0,6,14],[34,0,6,16]],[[24,0,7,4],[55,0,7,35]],[[21,0,8,3]],[[20,0,9,2],[27,0,9,9],[29,0,9,11]],[[24,0,10,4],[36,0,10,16]],[[21,0,11,3]],[[20,0,12,2],[29,0,12,11],[31,0,12,13]],[[24,0,13,4],[47,0,13,27]],[[21,0,14,3]],[[20,0,15,2],[27,0,15,9],[29,0,15,11]],[[24,0,16,4],[55,0,16,35]],[[21,0,17,3]],[[17,0,18,1]]],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NativeFederationService } from './native-federation.service';\nimport { LoadFederatedComponentDirective } from './directives/load-federated-component.directive';\n\n@NgModule({\n  declarations: [\n    LoadFederatedComponentDirective\n  ],\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    NativeFederationService\n  ],\n  exports: [\n    LoadFederatedComponentDirective\n  ]\n})\nexport class NativeFederationModule { }"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"@angular/common":{"attributes":{},"external":true,"id":"@angular/common","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"./native-federation.service":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/native-federation.service.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./directives/load-federated-component.directive":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/directives/load-federated-component.directive.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":27640,"body":[{"type":"ImportDeclaration","start":0,"end":64,"specifiers":[{"type":"ImportSpecifier","start":9,"end":15,"imported":{"type":"Identifier","start":9,"end":15,"name":"inject"},"local":{"type":"Identifier","start":9,"end":15,"name":"inject"}},{"type":"ImportSpecifier","start":17,"end":27,"imported":{"type":"Identifier","start":17,"end":27,"name":"Injectable"},"local":{"type":"Identifier","start":17,"end":27,"name":"Injectable"}},{"type":"ImportSpecifier","start":29,"end":40,"imported":{"type":"Identifier","start":29,"end":40,"name":"PLATFORM_ID"},"local":{"type":"Identifier","start":29,"end":40,"name":"PLATFORM_ID"}}],"source":{"type":"Literal","start":48,"end":63,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":65,"end":135,"specifiers":[{"type":"ImportSpecifier","start":74,"end":91,"imported":{"type":"Identifier","start":74,"end":91,"name":"isPlatformBrowser"},"local":{"type":"Identifier","start":74,"end":91,"name":"isPlatformBrowser"}},{"type":"ImportSpecifier","start":93,"end":109,"imported":{"type":"Identifier","start":93,"end":109,"name":"isPlatformServer"},"local":{"type":"Identifier","start":93,"end":109,"name":"isPlatformServer"}}],"source":{"type":"Literal","start":117,"end":134,"value":"@angular/common","raw":"'@angular/common'"},"attributes":[]},{"type":"ImportDeclaration","start":136,"end":196,"specifiers":[{"type":"ImportSpecifier","start":145,"end":157,"imported":{"type":"Identifier","start":145,"end":157,"name":"makeStateKey"},"local":{"type":"Identifier","start":145,"end":157,"name":"makeStateKey"}},{"type":"ImportSpecifier","start":159,"end":172,"imported":{"type":"Identifier","start":159,"end":172,"name":"TransferState"},"local":{"type":"Identifier","start":159,"end":172,"name":"TransferState"}}],"source":{"type":"Literal","start":180,"end":195,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":197,"end":280,"specifiers":[{"type":"ImportSpecifier","start":206,"end":221,"imported":{"type":"Identifier","start":206,"end":221,"name":"SSRModuleLoader"},"local":{"type":"Identifier","start":206,"end":221,"name":"SSRModuleLoader"}},{"type":"ImportSpecifier","start":223,"end":241,"imported":{"type":"Identifier","start":223,"end":241,"name":"SSRFederationUtils"},"local":{"type":"Identifier","start":223,"end":241,"name":"SSRFederationUtils"}}],"source":{"type":"Literal","start":249,"end":279,"value":"../runtime/ssr-module-loader","raw":"'../runtime/ssr-module-loader'"},"attributes":[]},{"type":"ImportDeclaration","start":281,"end":366,"specifiers":[{"type":"ImportSpecifier","start":290,"end":305,"imported":{"type":"Identifier","start":290,"end":305,"name":"HydrationClient"},"local":{"type":"Identifier","start":290,"end":305,"name":"HydrationClient"}},{"type":"ImportSpecifier","start":307,"end":328,"imported":{"type":"Identifier","start":307,"end":328,"name":"AngularHydrationUtils"},"local":{"type":"Identifier","start":307,"end":328,"name":"AngularHydrationUtils"}}],"source":{"type":"Literal","start":336,"end":365,"value":"../runtime/hydration-client","raw":"'../runtime/hydration-client'"},"attributes":[]},{"type":"ImportDeclaration","start":446,"end":513,"specifiers":[{"type":"ImportSpecifier","start":455,"end":464,"imported":{"type":"Identifier","start":455,"end":464,"name":"Directive"},"local":{"type":"Identifier","start":455,"end":464,"name":"Directive"}},{"type":"ImportSpecifier","start":466,"end":471,"imported":{"type":"Identifier","start":466,"end":471,"name":"Input"},"local":{"type":"Identifier","start":466,"end":471,"name":"Input"}},{"type":"ImportSpecifier","start":473,"end":489,"imported":{"type":"Identifier","start":473,"end":489,"name":"ViewContainerRef"},"local":{"type":"Identifier","start":473,"end":489,"name":"ViewContainerRef"}}],"source":{"type":"Literal","start":497,"end":512,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":514,"end":550,"specifiers":[{"type":"ImportNamespaceSpecifier","start":521,"end":528,"local":{"type":"Identifier","start":526,"end":528,"name":"i0"}}],"source":{"type":"Literal","start":534,"end":549,"value":"@angular/core","raw":"\"@angular/core\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":612,"end":4223,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":619,"end":4223,"decorators":[],"id":{"type":"Identifier","start":625,"end":645,"name":"SSRFederationService"},"superClass":null,"body":{"type":"ClassBody","start":646,"end":4223,"body":[{"type":"PropertyDefinition","start":652,"end":685,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":652,"end":662,"name":"platformId"},"value":{"type":"CallExpression","start":665,"end":684,"optional":false,"callee":{"type":"Identifier","start":665,"end":671,"name":"inject"},"arguments":[{"type":"Identifier","start":672,"end":683,"name":"PLATFORM_ID"}]}},{"type":"PropertyDefinition","start":690,"end":728,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":690,"end":703,"name":"transferState"},"value":{"type":"CallExpression","start":706,"end":727,"optional":false,"callee":{"type":"Identifier","start":706,"end":712,"name":"inject"},"arguments":[{"type":"Identifier","start":713,"end":726,"name":"TransferState"}]}},{"type":"PropertyDefinition","start":733,"end":769,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":733,"end":742,"name":"ssrLoader"},"value":{"type":"CallExpression","start":745,"end":768,"optional":false,"callee":{"type":"Identifier","start":745,"end":751,"name":"inject"},"arguments":[{"type":"Identifier","start":752,"end":767,"name":"SSRModuleLoader"}]}},{"type":"PropertyDefinition","start":774,"end":816,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":774,"end":789,"name":"hydrationClient"},"value":{"type":"CallExpression","start":792,"end":815,"optional":false,"callee":{"type":"Identifier","start":792,"end":798,"name":"inject"},"arguments":[{"type":"Identifier","start":799,"end":814,"name":"HydrationClient"}]}},{"type":"PropertyDefinition","start":821,"end":834,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":821,"end":833,"name":"clientLoader"},"value":null},{"type":"PropertyDefinition","start":839,"end":891,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":839,"end":859,"name":"FEDERATION_STATE_KEY"},"value":{"type":"CallExpression","start":862,"end":890,"optional":false,"callee":{"type":"Identifier","start":862,"end":874,"name":"makeStateKey"},"arguments":[{"type":"Literal","start":875,"end":889,"value":"NF_SSR_STATE","raw":"'NF_SSR_STATE'"}]}},{"type":"MethodDefinition","start":896,"end":1072,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":896,"end":907,"name":"constructor"},"value":{"type":"FunctionExpression","start":907,"end":1072,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":910,"end":1072,"body":[{"type":"IfStatement","start":920,"end":1066,"test":{"type":"CallExpression","start":924,"end":957,"optional":false,"callee":{"type":"Identifier","start":924,"end":940,"name":"isPlatformServer"},"arguments":[{"type":"MemberExpression","start":941,"end":956,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":941,"end":945},"property":{"type":"Identifier","start":946,"end":956,"name":"platformId"}}]},"consequent":{"type":"BlockStatement","start":959,"end":1004,"body":[{"type":"ExpressionStatement","start":973,"end":994,"expression":{"type":"CallExpression","start":973,"end":993,"optional":false,"callee":{"type":"MemberExpression","start":973,"end":991,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":973,"end":977},"property":{"type":"Identifier","start":978,"end":991,"name":"initializeSSR"}},"arguments":[]}}]},"alternate":{"type":"BlockStatement","start":1018,"end":1066,"body":[{"type":"ExpressionStatement","start":1032,"end":1056,"expression":{"type":"CallExpression","start":1032,"end":1055,"optional":false,"callee":{"type":"MemberExpression","start":1032,"end":1053,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1032,"end":1036},"property":{"type":"Identifier","start":1037,"end":1053,"name":"initializeClient"}},"arguments":[]}}]}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":1146,"end":1425,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1152,"end":1168,"name":"loadRemoteModule"},"value":{"type":"FunctionExpression","start":1168,"end":1425,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":1169,"end":1179,"name":"remoteName"},{"type":"Identifier","start":1181,"end":1191,"name":"modulePath"}],"body":{"type":"BlockStatement","start":1193,"end":1425,"body":[{"type":"IfStatement","start":1203,"end":1419,"test":{"type":"CallExpression","start":1207,"end":1240,"optional":false,"callee":{"type":"Identifier","start":1207,"end":1223,"name":"isPlatformServer"},"arguments":[{"type":"MemberExpression","start":1224,"end":1239,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1224,"end":1228},"property":{"type":"Identifier","start":1229,"end":1239,"name":"platformId"}}]},"consequent":{"type":"BlockStatement","start":1242,"end":1322,"body":[{"type":"ReturnStatement","start":1256,"end":1312,"argument":{"type":"CallExpression","start":1263,"end":1311,"optional":false,"callee":{"type":"MemberExpression","start":1263,"end":1287,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1263,"end":1267},"property":{"type":"Identifier","start":1268,"end":1287,"name":"loadRemoteModuleSSR"}},"arguments":[{"type":"Identifier","start":1288,"end":1298,"name":"remoteName"},{"type":"Identifier","start":1300,"end":1310,"name":"modulePath"}]}}]},"alternate":{"type":"BlockStatement","start":1336,"end":1419,"body":[{"type":"ReturnStatement","start":1350,"end":1409,"argument":{"type":"CallExpression","start":1357,"end":1408,"optional":false,"callee":{"type":"MemberExpression","start":1357,"end":1384,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1357,"end":1361},"property":{"type":"Identifier","start":1362,"end":1384,"name":"loadRemoteModuleClient"}},"arguments":[{"type":"Identifier","start":1385,"end":1395,"name":"remoteName"},{"type":"Identifier","start":1397,"end":1407,"name":"modulePath"}]}}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1499,"end":1759,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1505,"end":1521,"name":"loadSharedModule"},"value":{"type":"FunctionExpression","start":1521,"end":1759,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":1522,"end":1533,"name":"packageName"}],"body":{"type":"BlockStatement","start":1535,"end":1759,"body":[{"type":"IfStatement","start":1545,"end":1753,"test":{"type":"CallExpression","start":1549,"end":1582,"optional":false,"callee":{"type":"Identifier","start":1549,"end":1565,"name":"isPlatformServer"},"arguments":[{"type":"MemberExpression","start":1566,"end":1581,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1566,"end":1570},"property":{"type":"Identifier","start":1571,"end":1581,"name":"platformId"}}]},"consequent":{"type":"BlockStatement","start":1584,"end":1660,"body":[{"type":"ReturnStatement","start":1598,"end":1650,"argument":{"type":"CallExpression","start":1605,"end":1649,"optional":false,"callee":{"type":"MemberExpression","start":1605,"end":1636,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1605,"end":1619,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1605,"end":1609},"property":{"type":"Identifier","start":1610,"end":1619,"name":"ssrLoader"}},"property":{"type":"Identifier","start":1620,"end":1636,"name":"loadSharedModule"}},"arguments":[{"type":"Identifier","start":1637,"end":1648,"name":"packageName"}]}}]},"alternate":{"type":"BlockStatement","start":1674,"end":1753,"body":[{"type":"ReturnStatement","start":1688,"end":1743,"argument":{"type":"CallExpression","start":1695,"end":1742,"optional":false,"callee":{"type":"MemberExpression","start":1695,"end":1729,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1695,"end":1712,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1695,"end":1699},"property":{"type":"Identifier","start":1700,"end":1712,"name":"clientLoader"}},"property":{"type":"Identifier","start":1713,"end":1729,"name":"loadSharedModule"}},"arguments":[{"type":"Identifier","start":1730,"end":1741,"name":"packageName"}]}}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1823,"end":2044,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1823,"end":1840,"name":"wasServerRendered"},"value":{"type":"FunctionExpression","start":1840,"end":2044,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1841,"end":1851,"name":"remoteName"},{"type":"Identifier","start":1853,"end":1863,"name":"modulePath"}],"body":{"type":"BlockStatement","start":1865,"end":2044,"body":[{"type":"IfStatement","start":1875,"end":2016,"test":{"type":"CallExpression","start":1879,"end":1913,"optional":false,"callee":{"type":"Identifier","start":1879,"end":1896,"name":"isPlatformBrowser"},"arguments":[{"type":"MemberExpression","start":1897,"end":1912,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1897,"end":1901},"property":{"type":"Identifier","start":1902,"end":1912,"name":"platformId"}}]},"consequent":{"type":"BlockStatement","start":1915,"end":2016,"body":[{"type":"ReturnStatement","start":1929,"end":2006,"argument":{"type":"LogicalExpression","start":1936,"end":2005,"operator":"||","left":{"type":"ChainExpression","start":1936,"end":1996,"expression":{"type":"CallExpression","start":1936,"end":1996,"optional":false,"callee":{"type":"MemberExpression","start":1936,"end":1972,"computed":false,"optional":true,"object":{"type":"MemberExpression","start":1936,"end":1953,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1936,"end":1940},"property":{"type":"Identifier","start":1941,"end":1953,"name":"clientLoader"}},"property":{"type":"Identifier","start":1955,"end":1972,"name":"wasServerRendered"}},"arguments":[{"type":"Identifier","start":1973,"end":1983,"name":"remoteName"},{"type":"Identifier","start":1985,"end":1995,"name":"modulePath"}]}},"right":{"type":"Literal","start":2000,"end":2005,"value":false,"raw":"false"}}}]},"alternate":null},{"type":"ReturnStatement","start":2025,"end":2038,"argument":{"type":"Literal","start":2032,"end":2037,"value":false,"raw":"false"}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2127,"end":2609,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2133,"end":2146,"name":"getSSRContent"},"value":{"type":"FunctionExpression","start":2146,"end":2609,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":2147,"end":2157,"name":"remoteName"},{"type":"Identifier","start":2159,"end":2169,"name":"modulePath"}],"body":{"type":"BlockStatement","start":2171,"end":2609,"body":[{"type":"IfStatement","start":2181,"end":2582,"test":{"type":"CallExpression","start":2185,"end":2218,"optional":false,"callee":{"type":"Identifier","start":2185,"end":2201,"name":"isPlatformServer"},"arguments":[{"type":"MemberExpression","start":2202,"end":2217,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2202,"end":2206},"property":{"type":"Identifier","start":2207,"end":2217,"name":"platformId"}}]},"consequent":{"type":"BlockStatement","start":2220,"end":2582,"body":[{"type":"TryStatement","start":2234,"end":2572,"block":{"type":"BlockStatement","start":2238,"end":2397,"body":[{"type":"VariableDeclaration","start":2256,"end":2333,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2262,"end":2332,"id":{"type":"Identifier","start":2262,"end":2268,"name":"result"},"init":{"type":"AwaitExpression","start":2271,"end":2332,"argument":{"type":"CallExpression","start":2277,"end":2332,"optional":false,"callee":{"type":"MemberExpression","start":2277,"end":2308,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2277,"end":2291,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2277,"end":2281},"property":{"type":"Identifier","start":2282,"end":2291,"name":"ssrLoader"}},"property":{"type":"Identifier","start":2292,"end":2308,"name":"loadRemoteModule"}},"arguments":[{"type":"Identifier","start":2309,"end":2319,"name":"remoteName"},{"type":"Identifier","start":2321,"end":2331,"name":"modulePath"}]}}}]},{"type":"ReturnStatement","start":2350,"end":2383,"argument":{"type":"LogicalExpression","start":2357,"end":2382,"operator":"||","left":{"type":"MemberExpression","start":2357,"end":2374,"computed":false,"optional":false,"object":{"type":"Identifier","start":2357,"end":2363,"name":"result"},"property":{"type":"Identifier","start":2364,"end":2374,"name":"ssrContent"}},"right":{"type":"Literal","start":2378,"end":2382,"raw":"null","value":null}}}]},"handler":{"type":"CatchClause","start":2410,"end":2572,"param":{"type":"Identifier","start":2417,"end":2422,"name":"error"},"body":{"type":"BlockStatement","start":2424,"end":2572,"body":[{"type":"ExpressionStatement","start":2442,"end":2529,"expression":{"type":"CallExpression","start":2442,"end":2528,"optional":false,"callee":{"type":"MemberExpression","start":2442,"end":2454,"computed":false,"optional":false,"object":{"type":"Identifier","start":2442,"end":2449,"name":"console"},"property":{"type":"Identifier","start":2450,"end":2454,"name":"warn"}},"arguments":[{"type":"TemplateLiteral","start":2455,"end":2520,"quasis":[{"type":"TemplateElement","start":2456,"end":2492,"tail":false,"value":{"cooked":"[SSR] Failed to get SSR content for ","raw":"[SSR] Failed to get SSR content for "}},{"type":"TemplateElement","start":2505,"end":2505,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":2518,"end":2519,"tail":true,"value":{"cooked":":","raw":":"}}],"expressions":[{"type":"Identifier","start":2494,"end":2504,"name":"remoteName"},{"type":"Identifier","start":2507,"end":2517,"name":"modulePath"}]},{"type":"Identifier","start":2522,"end":2527,"name":"error"}]}},{"type":"ReturnStatement","start":2546,"end":2558,"argument":{"type":"Literal","start":2553,"end":2557,"raw":"null","value":null}}]}},"finalizer":null}]},"alternate":null},{"type":"ReturnStatement","start":2591,"end":2603,"argument":{"type":"Literal","start":2598,"end":2602,"raw":"null","value":null}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2614,"end":2732,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2620,"end":2633,"name":"initializeSSR"},"value":{"type":"FunctionExpression","start":2633,"end":2732,"async":true,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":2636,"end":2732,"body":[{"type":"ExpressionStatement","start":2692,"end":2726,"expression":{"type":"AwaitExpression","start":2692,"end":2725,"argument":{"type":"CallExpression","start":2698,"end":2725,"optional":false,"callee":{"type":"MemberExpression","start":2698,"end":2723,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2698,"end":2712,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2698,"end":2702},"property":{"type":"Identifier","start":2703,"end":2712,"name":"ssrLoader"}},"property":{"type":"Identifier","start":2713,"end":2723,"name":"initialize"}},"arguments":[]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2737,"end":3222,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2743,"end":2759,"name":"initializeClient"},"value":{"type":"FunctionExpression","start":2759,"end":3222,"async":true,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":2762,"end":3222,"body":[{"type":"ExpressionStatement","start":2818,"end":2942,"expression":{"type":"AssignmentExpression","start":2818,"end":2941,"operator":"=","left":{"type":"MemberExpression","start":2818,"end":2835,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2818,"end":2822},"property":{"type":"Identifier","start":2823,"end":2835,"name":"clientLoader"}},"right":{"type":"AwaitExpression","start":2838,"end":2941,"argument":{"type":"CallExpression","start":2844,"end":2941,"optional":false,"callee":{"type":"MemberExpression","start":2844,"end":2889,"computed":false,"optional":false,"object":{"type":"Identifier","start":2844,"end":2865,"name":"AngularHydrationUtils"},"property":{"type":"Identifier","start":2866,"end":2889,"name":"initializeForAngularSSR"}},"arguments":[{"type":"MemberExpression","start":2890,"end":2910,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2890,"end":2894},"property":{"type":"Identifier","start":2895,"end":2910,"name":"hydrationClient"}},{"type":"Literal","start":2912,"end":2940,"value":"./federation.manifest.json","raw":"'./federation.manifest.json'"}]}}}},{"type":"VariableDeclaration","start":2999,"end":3072,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3005,"end":3071,"id":{"type":"Identifier","start":3005,"end":3013,"name":"ssrState"},"init":{"type":"CallExpression","start":3016,"end":3071,"optional":false,"callee":{"type":"MemberExpression","start":3016,"end":3038,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3016,"end":3034,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3016,"end":3020},"property":{"type":"Identifier","start":3021,"end":3034,"name":"transferState"}},"property":{"type":"Identifier","start":3035,"end":3038,"name":"get"}},"arguments":[{"type":"MemberExpression","start":3039,"end":3064,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3039,"end":3043},"property":{"type":"Identifier","start":3044,"end":3064,"name":"FEDERATION_STATE_KEY"}},{"type":"Literal","start":3066,"end":3070,"raw":"null","value":null}]}}]},{"type":"IfStatement","start":3081,"end":3216,"test":{"type":"Identifier","start":3085,"end":3093,"name":"ssrState"},"consequent":{"type":"BlockStatement","start":3095,"end":3216,"body":[{"type":"ExpressionStatement","start":3156,"end":3206,"expression":{"type":"CallExpression","start":3156,"end":3205,"optional":false,"callee":{"type":"MemberExpression","start":3156,"end":3167,"computed":false,"optional":false,"object":{"type":"Identifier","start":3156,"end":3163,"name":"console"},"property":{"type":"Identifier","start":3164,"end":3167,"name":"log"}},"arguments":[{"type":"Literal","start":3168,"end":3194,"value":"[NF] Restored SSR state:","raw":"'[NF] Restored SSR state:'"},{"type":"Identifier","start":3196,"end":3204,"name":"ssrState"}]}}]},"alternate":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3227,"end":3750,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3233,"end":3252,"name":"loadRemoteModuleSSR"},"value":{"type":"FunctionExpression","start":3252,"end":3750,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":3253,"end":3263,"name":"remoteName"},{"type":"Identifier","start":3265,"end":3275,"name":"modulePath"}],"body":{"type":"BlockStatement","start":3277,"end":3750,"body":[{"type":"VariableDeclaration","start":3287,"end":3364,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3293,"end":3363,"id":{"type":"Identifier","start":3293,"end":3299,"name":"result"},"init":{"type":"AwaitExpression","start":3302,"end":3363,"argument":{"type":"CallExpression","start":3308,"end":3363,"optional":false,"callee":{"type":"MemberExpression","start":3308,"end":3339,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3308,"end":3322,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3308,"end":3312},"property":{"type":"Identifier","start":3313,"end":3322,"name":"ssrLoader"}},"property":{"type":"Identifier","start":3323,"end":3339,"name":"loadRemoteModule"}},"arguments":[{"type":"Identifier","start":3340,"end":3350,"name":"remoteName"},{"type":"Identifier","start":3352,"end":3362,"name":"modulePath"}]}}}]},{"type":"IfStatement","start":3433,"end":3714,"test":{"type":"MemberExpression","start":3437,"end":3457,"computed":false,"optional":false,"object":{"type":"Identifier","start":3437,"end":3443,"name":"result"},"property":{"type":"Identifier","start":3444,"end":3457,"name":"hydrationData"}},"consequent":{"type":"BlockStatement","start":3459,"end":3714,"body":[{"type":"VariableDeclaration","start":3473,"end":3548,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3479,"end":3547,"id":{"type":"Identifier","start":3479,"end":3491,"name":"currentState"},"init":{"type":"CallExpression","start":3494,"end":3547,"optional":false,"callee":{"type":"MemberExpression","start":3494,"end":3516,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3494,"end":3512,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3494,"end":3498},"property":{"type":"Identifier","start":3499,"end":3512,"name":"transferState"}},"property":{"type":"Identifier","start":3513,"end":3516,"name":"get"}},"arguments":[{"type":"MemberExpression","start":3517,"end":3542,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3517,"end":3521},"property":{"type":"Identifier","start":3522,"end":3542,"name":"FEDERATION_STATE_KEY"}},{"type":"ObjectExpression","start":3544,"end":3546,"properties":[]}]}}]},{"type":"ExpressionStatement","start":3561,"end":3627,"expression":{"type":"AssignmentExpression","start":3561,"end":3626,"operator":"=","left":{"type":"MemberExpression","start":3561,"end":3603,"computed":true,"optional":false,"object":{"type":"Identifier","start":3561,"end":3573,"name":"currentState"},"property":{"type":"TemplateLiteral","start":3574,"end":3602,"quasis":[{"type":"TemplateElement","start":3575,"end":3575,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":3588,"end":3588,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":3601,"end":3601,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"Identifier","start":3577,"end":3587,"name":"remoteName"},{"type":"Identifier","start":3590,"end":3600,"name":"modulePath"}]}},"right":{"type":"MemberExpression","start":3606,"end":3626,"computed":false,"optional":false,"object":{"type":"Identifier","start":3606,"end":3612,"name":"result"},"property":{"type":"Identifier","start":3613,"end":3626,"name":"hydrationData"}}}},{"type":"ExpressionStatement","start":3640,"end":3704,"expression":{"type":"CallExpression","start":3640,"end":3703,"optional":false,"callee":{"type":"MemberExpression","start":3640,"end":3662,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3640,"end":3658,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3640,"end":3644},"property":{"type":"Identifier","start":3645,"end":3658,"name":"transferState"}},"property":{"type":"Identifier","start":3659,"end":3662,"name":"set"}},"arguments":[{"type":"MemberExpression","start":3663,"end":3688,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3663,"end":3667},"property":{"type":"Identifier","start":3668,"end":3688,"name":"FEDERATION_STATE_KEY"}},{"type":"Identifier","start":3690,"end":3702,"name":"currentState"}]}}]},"alternate":null},{"type":"ReturnStatement","start":3723,"end":3744,"argument":{"type":"MemberExpression","start":3730,"end":3743,"computed":false,"optional":false,"object":{"type":"Identifier","start":3730,"end":3736,"name":"result"},"property":{"type":"Identifier","start":3737,"end":3743,"name":"module"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3755,"end":3890,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3761,"end":3783,"name":"loadRemoteModuleClient"},"value":{"type":"FunctionExpression","start":3783,"end":3890,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":3784,"end":3794,"name":"remoteName"},{"type":"Identifier","start":3796,"end":3806,"name":"modulePath"}],"body":{"type":"BlockStatement","start":3808,"end":3890,"body":[{"type":"ReturnStatement","start":3818,"end":3884,"argument":{"type":"CallExpression","start":3825,"end":3883,"optional":false,"callee":{"type":"MemberExpression","start":3825,"end":3859,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3825,"end":3842,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3825,"end":3829},"property":{"type":"Identifier","start":3830,"end":3842,"name":"clientLoader"}},"property":{"type":"Identifier","start":3843,"end":3859,"name":"loadRemoteModule"}},"arguments":[{"type":"Identifier","start":3860,"end":3870,"name":"remoteName"},{"type":"Identifier","start":3872,"end":3882,"name":"modulePath"}]}}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":3895,"end":4068,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3902,"end":3906,"name":"ɵfac"},"value":{"type":"CallExpression","start":3909,"end":4067,"optional":false,"callee":{"type":"MemberExpression","start":3909,"end":3930,"computed":false,"optional":false,"object":{"type":"Identifier","start":3909,"end":3911,"name":"i0"},"property":{"type":"Identifier","start":3912,"end":3930,"name":"ɵɵngDeclareFactory"}},"arguments":[{"type":"ObjectExpression","start":3931,"end":4066,"properties":[{"type":"Property","start":3933,"end":3953,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3933,"end":3943,"name":"minVersion"},"value":{"type":"Literal","start":3945,"end":3953,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":3955,"end":3973,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3955,"end":3962,"name":"version"},"value":{"type":"Literal","start":3964,"end":3973,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":3975,"end":3987,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3975,"end":3983,"name":"ngImport"},"value":{"type":"Identifier","start":3985,"end":3987,"name":"i0"},"kind":"init"},{"type":"Property","start":3989,"end":4015,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3989,"end":3993,"name":"type"},"value":{"type":"Identifier","start":3995,"end":4015,"name":"SSRFederationService"},"kind":"init"},{"type":"Property","start":4017,"end":4025,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4017,"end":4021,"name":"deps"},"value":{"type":"ArrayExpression","start":4023,"end":4025,"elements":[]},"kind":"init"},{"type":"Property","start":4027,"end":4064,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4027,"end":4033,"name":"target"},"value":{"type":"MemberExpression","start":4035,"end":4064,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4035,"end":4053,"computed":false,"optional":false,"object":{"type":"Identifier","start":4035,"end":4037,"name":"i0"},"property":{"type":"Identifier","start":4038,"end":4053,"name":"ɵɵFactoryTarget"}},"property":{"type":"Identifier","start":4054,"end":4064,"name":"Injectable"}},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":4073,"end":4221,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4080,"end":4085,"name":"ɵprov"},"value":{"type":"CallExpression","start":4088,"end":4220,"optional":false,"callee":{"type":"MemberExpression","start":4088,"end":4112,"computed":false,"optional":false,"object":{"type":"Identifier","start":4088,"end":4090,"name":"i0"},"property":{"type":"Identifier","start":4091,"end":4112,"name":"ɵɵngDeclareInjectable"}},"arguments":[{"type":"ObjectExpression","start":4113,"end":4219,"properties":[{"type":"Property","start":4115,"end":4135,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4115,"end":4125,"name":"minVersion"},"value":{"type":"Literal","start":4127,"end":4135,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":4137,"end":4155,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4137,"end":4144,"name":"version"},"value":{"type":"Literal","start":4146,"end":4155,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":4157,"end":4169,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4157,"end":4165,"name":"ngImport"},"value":{"type":"Identifier","start":4167,"end":4169,"name":"i0"},"kind":"init"},{"type":"Property","start":4171,"end":4197,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4171,"end":4175,"name":"type"},"value":{"type":"Identifier","start":4177,"end":4197,"name":"SSRFederationService"},"kind":"init"},{"type":"Property","start":4199,"end":4217,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4199,"end":4209,"name":"providedIn"},"value":{"type":"Literal","start":4211,"end":4217,"value":"root","raw":"'root'"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":4224,"end":4502,"expression":{"type":"CallExpression","start":4224,"end":4501,"optional":false,"callee":{"type":"MemberExpression","start":4224,"end":4251,"computed":false,"optional":false,"object":{"type":"Identifier","start":4224,"end":4226,"name":"i0"},"property":{"type":"Identifier","start":4227,"end":4251,"name":"ɵɵngDeclareClassMetadata"}},"arguments":[{"type":"ObjectExpression","start":4252,"end":4500,"properties":[{"type":"Property","start":4254,"end":4274,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4254,"end":4264,"name":"minVersion"},"value":{"type":"Literal","start":4266,"end":4274,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":4276,"end":4294,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4276,"end":4283,"name":"version"},"value":{"type":"Literal","start":4285,"end":4294,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":4296,"end":4308,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4296,"end":4304,"name":"ngImport"},"value":{"type":"Identifier","start":4306,"end":4308,"name":"i0"},"kind":"init"},{"type":"Property","start":4310,"end":4336,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4310,"end":4314,"name":"type"},"value":{"type":"Identifier","start":4316,"end":4336,"name":"SSRFederationService"},"kind":"init"},{"type":"Property","start":4338,"end":4472,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4338,"end":4348,"name":"decorators"},"value":{"type":"ArrayExpression","start":4350,"end":4472,"elements":[{"type":"ObjectExpression","start":4351,"end":4471,"properties":[{"type":"Property","start":4365,"end":4381,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4365,"end":4369,"name":"type"},"value":{"type":"Identifier","start":4371,"end":4381,"name":"Injectable"},"kind":"init"},{"type":"Property","start":4395,"end":4461,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4395,"end":4399,"name":"args"},"value":{"type":"ArrayExpression","start":4401,"end":4461,"elements":[{"type":"ObjectExpression","start":4402,"end":4460,"properties":[{"type":"Property","start":4424,"end":4442,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4424,"end":4434,"name":"providedIn"},"value":{"type":"Literal","start":4436,"end":4442,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":4474,"end":4498,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4474,"end":4488,"name":"ctorParameters"},"value":{"type":"ArrowFunctionExpression","start":4490,"end":4498,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ArrayExpression","start":4496,"end":4498,"elements":[]},"id":null},"kind":"init"}]}]}},{"type":"ExportNamedDeclaration","start":4503,"end":6634,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":4510,"end":6634,"decorators":[],"id":{"type":"Identifier","start":4516,"end":4547,"name":"LoadFederatedComponentDirective"},"superClass":null,"body":{"type":"ClassBody","start":4548,"end":6634,"body":[{"type":"PropertyDefinition","start":4554,"end":4570,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4554,"end":4569,"name":"nfLoadComponent"},"value":null},{"type":"PropertyDefinition","start":4610,"end":4621,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4610,"end":4620,"name":"nfFallback"},"value":null},{"type":"PropertyDefinition","start":4626,"end":4675,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4626,"end":4643,"name":"federationService"},"value":{"type":"CallExpression","start":4646,"end":4674,"optional":false,"callee":{"type":"Identifier","start":4646,"end":4652,"name":"inject"},"arguments":[{"type":"Identifier","start":4653,"end":4673,"name":"SSRFederationService"}]}},{"type":"PropertyDefinition","start":4680,"end":4721,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4680,"end":4693,"name":"viewContainer"},"value":{"type":"CallExpression","start":4696,"end":4720,"optional":false,"callee":{"type":"Identifier","start":4696,"end":4702,"name":"inject"},"arguments":[{"type":"Identifier","start":4703,"end":4719,"name":"ViewContainerRef"}]}},{"type":"MethodDefinition","start":4726,"end":5800,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4732,"end":4740,"name":"ngOnInit"},"value":{"type":"FunctionExpression","start":4740,"end":5800,"async":true,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":4743,"end":5800,"body":[{"type":"IfStatement","start":4753,"end":4811,"test":{"type":"UnaryExpression","start":4757,"end":4778,"operator":"!","argument":{"type":"MemberExpression","start":4758,"end":4778,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4758,"end":4762},"property":{"type":"Identifier","start":4763,"end":4778,"name":"nfLoadComponent"}},"prefix":true},"consequent":{"type":"BlockStatement","start":4780,"end":4811,"body":[{"type":"ReturnStatement","start":4794,"end":4801,"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":4820,"end":4893,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4826,"end":4892,"id":{"type":"ArrayPattern","start":4826,"end":4858,"elements":[{"type":"Identifier","start":4827,"end":4837,"name":"remoteName"},{"type":"RestElement","start":4839,"end":4857,"argument":{"type":"Identifier","start":4842,"end":4857,"name":"modulePathParts"}}]},"init":{"type":"CallExpression","start":4861,"end":4892,"optional":false,"callee":{"type":"MemberExpression","start":4861,"end":4887,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4861,"end":4881,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4861,"end":4865},"property":{"type":"Identifier","start":4866,"end":4881,"name":"nfLoadComponent"}},"property":{"type":"Identifier","start":4882,"end":4887,"name":"split"}},"arguments":[{"type":"Literal","start":4888,"end":4891,"value":"/","raw":"'/'"}]}}]},{"type":"VariableDeclaration","start":4902,"end":4954,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4908,"end":4953,"id":{"type":"Identifier","start":4908,"end":4918,"name":"modulePath"},"init":{"type":"BinaryExpression","start":4921,"end":4953,"operator":"+","left":{"type":"Literal","start":4921,"end":4925,"value":"./","raw":"'./'"},"right":{"type":"CallExpression","start":4928,"end":4953,"optional":false,"callee":{"type":"MemberExpression","start":4928,"end":4948,"computed":false,"optional":false,"object":{"type":"Identifier","start":4928,"end":4943,"name":"modulePathParts"},"property":{"type":"Identifier","start":4944,"end":4948,"name":"join"}},"arguments":[{"type":"Literal","start":4949,"end":4952,"value":"/","raw":"'/'"}]}}}]},{"type":"TryStatement","start":4963,"end":5794,"block":{"type":"BlockStatement","start":4967,"end":5633,"body":[{"type":"IfStatement","start":5035,"end":5227,"test":{"type":"ChainExpression","start":5039,"end":5105,"expression":{"type":"CallExpression","start":5039,"end":5105,"optional":true,"callee":{"type":"MemberExpression","start":5039,"end":5079,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5039,"end":5061,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5039,"end":5043},"property":{"type":"Identifier","start":5044,"end":5061,"name":"federationService"}},"property":{"type":"Identifier","start":5062,"end":5079,"name":"wasServerRendered"}},"arguments":[{"type":"Identifier","start":5082,"end":5092,"name":"remoteName"},{"type":"Identifier","start":5094,"end":5104,"name":"modulePath"}]}},"consequent":{"type":"BlockStatement","start":5107,"end":5227,"body":[{"type":"ExpressionStatement","start":5125,"end":5213,"expression":{"type":"CallExpression","start":5125,"end":5212,"optional":false,"callee":{"type":"MemberExpression","start":5125,"end":5136,"computed":false,"optional":false,"object":{"type":"Identifier","start":5125,"end":5132,"name":"console"},"property":{"type":"Identifier","start":5133,"end":5136,"name":"log"}},"arguments":[{"type":"TemplateLiteral","start":5137,"end":5211,"quasis":[{"type":"TemplateElement","start":5138,"end":5153,"tail":false,"value":{"cooked":"[NF] Component ","raw":"[NF] Component "}},{"type":"TemplateElement","start":5176,"end":5210,"tail":true,"value":{"cooked":" was server-rendered, hydrating...","raw":" was server-rendered, hydrating..."}}],"expressions":[{"type":"MemberExpression","start":5155,"end":5175,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5155,"end":5159},"property":{"type":"Identifier","start":5160,"end":5175,"name":"nfLoadComponent"}}]}]}}]},"alternate":null},{"type":"VariableDeclaration","start":5240,"end":5325,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5246,"end":5324,"id":{"type":"Identifier","start":5246,"end":5252,"name":"module"},"init":{"type":"AwaitExpression","start":5255,"end":5324,"argument":{"type":"CallExpression","start":5261,"end":5324,"optional":false,"callee":{"type":"MemberExpression","start":5261,"end":5300,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5261,"end":5283,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5261,"end":5265},"property":{"type":"Identifier","start":5266,"end":5283,"name":"federationService"}},"property":{"type":"Identifier","start":5284,"end":5300,"name":"loadRemoteModule"}},"arguments":[{"type":"Identifier","start":5301,"end":5311,"name":"remoteName"},{"type":"Identifier","start":5313,"end":5323,"name":"modulePath"}]}}}]},{"type":"VariableDeclaration","start":5402,"end":5445,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5408,"end":5444,"id":{"type":"Identifier","start":5408,"end":5417,"name":"component"},"init":{"type":"LogicalExpression","start":5420,"end":5444,"operator":"||","left":{"type":"MemberExpression","start":5420,"end":5434,"computed":false,"optional":false,"object":{"type":"Identifier","start":5420,"end":5426,"name":"module"},"property":{"type":"Identifier","start":5427,"end":5434,"name":"default"}},"right":{"type":"Identifier","start":5438,"end":5444,"name":"module"}}}]},{"type":"IfStatement","start":5458,"end":5623,"test":{"type":"Identifier","start":5462,"end":5471,"name":"component"},"consequent":{"type":"BlockStatement","start":5473,"end":5551,"body":[{"type":"ExpressionStatement","start":5491,"end":5537,"expression":{"type":"CallExpression","start":5491,"end":5536,"optional":false,"callee":{"type":"MemberExpression","start":5491,"end":5525,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5491,"end":5509,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5491,"end":5495},"property":{"type":"Identifier","start":5496,"end":5509,"name":"viewContainer"}},"property":{"type":"Identifier","start":5510,"end":5525,"name":"createComponent"}},"arguments":[{"type":"Identifier","start":5526,"end":5535,"name":"component"}]}}]},"alternate":{"type":"BlockStatement","start":5569,"end":5623,"body":[{"type":"ExpressionStatement","start":5587,"end":5609,"expression":{"type":"CallExpression","start":5587,"end":5608,"optional":false,"callee":{"type":"MemberExpression","start":5587,"end":5606,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5587,"end":5591},"property":{"type":"Identifier","start":5592,"end":5606,"name":"renderFallback"}},"arguments":[]}}]}}]},"handler":{"type":"CatchClause","start":5642,"end":5794,"param":{"type":"Identifier","start":5649,"end":5654,"name":"error"},"body":{"type":"BlockStatement","start":5656,"end":5794,"body":[{"type":"ExpressionStatement","start":5670,"end":5749,"expression":{"type":"CallExpression","start":5670,"end":5748,"optional":false,"callee":{"type":"MemberExpression","start":5670,"end":5683,"computed":false,"optional":false,"object":{"type":"Identifier","start":5670,"end":5677,"name":"console"},"property":{"type":"Identifier","start":5678,"end":5683,"name":"error"}},"arguments":[{"type":"TemplateLiteral","start":5684,"end":5740,"quasis":[{"type":"TemplateElement","start":5685,"end":5715,"tail":false,"value":{"cooked":"[NF] Failed to load component ","raw":"[NF] Failed to load component "}},{"type":"TemplateElement","start":5738,"end":5739,"tail":true,"value":{"cooked":":","raw":":"}}],"expressions":[{"type":"MemberExpression","start":5717,"end":5737,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5717,"end":5721},"property":{"type":"Identifier","start":5722,"end":5737,"name":"nfLoadComponent"}}]},{"type":"Identifier","start":5742,"end":5747,"name":"error"}]}},{"type":"ExpressionStatement","start":5762,"end":5784,"expression":{"type":"CallExpression","start":5762,"end":5783,"optional":false,"callee":{"type":"MemberExpression","start":5762,"end":5781,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5762,"end":5766},"property":{"type":"Identifier","start":5767,"end":5781,"name":"renderFallback"}},"arguments":[]}}]}},"finalizer":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5805,"end":5862,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5805,"end":5816,"name":"ngOnDestroy"},"value":{"type":"FunctionExpression","start":5816,"end":5862,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":5819,"end":5862,"body":[{"type":"ExpressionStatement","start":5829,"end":5856,"expression":{"type":"CallExpression","start":5829,"end":5855,"optional":false,"callee":{"type":"MemberExpression","start":5829,"end":5853,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5829,"end":5847,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5829,"end":5833},"property":{"type":"Identifier","start":5834,"end":5847,"name":"viewContainer"}},"property":{"type":"Identifier","start":5848,"end":5853,"name":"clear"}},"arguments":[]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5867,"end":6177,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5867,"end":5881,"name":"renderFallback"},"value":{"type":"FunctionExpression","start":5881,"end":6177,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":5884,"end":6177,"body":[{"type":"IfStatement","start":5894,"end":6171,"test":{"type":"MemberExpression","start":5898,"end":5913,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5898,"end":5902},"property":{"type":"Identifier","start":5903,"end":5913,"name":"nfFallback"}},"consequent":{"type":"BlockStatement","start":5915,"end":6171,"body":[{"type":"ExpressionStatement","start":5969,"end":5996,"expression":{"type":"CallExpression","start":5969,"end":5995,"optional":false,"callee":{"type":"MemberExpression","start":5969,"end":5993,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5969,"end":5987,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5969,"end":5973},"property":{"type":"Identifier","start":5974,"end":5987,"name":"viewContainer"}},"property":{"type":"Identifier","start":5988,"end":5993,"name":"clear"}},"arguments":[]}},{"type":"ExpressionStatement","start":6074,"end":6161,"expression":{"type":"CallExpression","start":6074,"end":6160,"optional":false,"callee":{"type":"MemberExpression","start":6074,"end":6085,"computed":false,"optional":false,"object":{"type":"Identifier","start":6074,"end":6081,"name":"console"},"property":{"type":"Identifier","start":6082,"end":6085,"name":"log"}},"arguments":[{"type":"TemplateLiteral","start":6086,"end":6159,"quasis":[{"type":"TemplateElement","start":6087,"end":6115,"tail":false,"value":{"cooked":"[NF] Rendering fallback for ","raw":"[NF] Rendering fallback for "}},{"type":"TemplateElement","start":6138,"end":6140,"tail":false,"value":{"cooked":": ","raw":": "}},{"type":"TemplateElement","start":6158,"end":6158,"tail":true,"value":{"cooked":"","raw":""}}],"expressions":[{"type":"MemberExpression","start":6117,"end":6137,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6117,"end":6121},"property":{"type":"Identifier","start":6122,"end":6137,"name":"nfLoadComponent"}},{"type":"MemberExpression","start":6142,"end":6157,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6142,"end":6146},"property":{"type":"Identifier","start":6147,"end":6157,"name":"nfFallback"}}]}]}}]},"alternate":null}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":6182,"end":6365,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":6189,"end":6193,"name":"ɵfac"},"value":{"type":"CallExpression","start":6196,"end":6364,"optional":false,"callee":{"type":"MemberExpression","start":6196,"end":6217,"computed":false,"optional":false,"object":{"type":"Identifier","start":6196,"end":6198,"name":"i0"},"property":{"type":"Identifier","start":6199,"end":6217,"name":"ɵɵngDeclareFactory"}},"arguments":[{"type":"ObjectExpression","start":6218,"end":6363,"properties":[{"type":"Property","start":6220,"end":6240,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6220,"end":6230,"name":"minVersion"},"value":{"type":"Literal","start":6232,"end":6240,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":6242,"end":6260,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6242,"end":6249,"name":"version"},"value":{"type":"Literal","start":6251,"end":6260,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":6262,"end":6274,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6262,"end":6270,"name":"ngImport"},"value":{"type":"Identifier","start":6272,"end":6274,"name":"i0"},"kind":"init"},{"type":"Property","start":6276,"end":6313,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6276,"end":6280,"name":"type"},"value":{"type":"Identifier","start":6282,"end":6313,"name":"LoadFederatedComponentDirective"},"kind":"init"},{"type":"Property","start":6315,"end":6323,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6315,"end":6319,"name":"deps"},"value":{"type":"ArrayExpression","start":6321,"end":6323,"elements":[]},"kind":"init"},{"type":"Property","start":6325,"end":6361,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6325,"end":6331,"name":"target"},"value":{"type":"MemberExpression","start":6333,"end":6361,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6333,"end":6351,"computed":false,"optional":false,"object":{"type":"Identifier","start":6333,"end":6335,"name":"i0"},"property":{"type":"Identifier","start":6336,"end":6351,"name":"ɵɵFactoryTarget"}},"property":{"type":"Identifier","start":6352,"end":6361,"name":"Directive"}},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":6370,"end":6632,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":6377,"end":6381,"name":"ɵdir"},"value":{"type":"CallExpression","start":6384,"end":6631,"optional":false,"callee":{"type":"MemberExpression","start":6384,"end":6407,"computed":false,"optional":false,"object":{"type":"Identifier","start":6384,"end":6386,"name":"i0"},"property":{"type":"Identifier","start":6387,"end":6407,"name":"ɵɵngDeclareDirective"}},"arguments":[{"type":"ObjectExpression","start":6408,"end":6630,"properties":[{"type":"Property","start":6410,"end":6430,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6410,"end":6420,"name":"minVersion"},"value":{"type":"Literal","start":6422,"end":6430,"value":"14.0.0","raw":"\"14.0.0\""},"kind":"init"},{"type":"Property","start":6432,"end":6450,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6432,"end":6439,"name":"version"},"value":{"type":"Literal","start":6441,"end":6450,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":6452,"end":6489,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6452,"end":6456,"name":"type"},"value":{"type":"Identifier","start":6458,"end":6489,"name":"LoadFederatedComponentDirective"},"kind":"init"},{"type":"Property","start":6491,"end":6509,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6491,"end":6503,"name":"isStandalone"},"value":{"type":"Literal","start":6505,"end":6509,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":6511,"end":6540,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6511,"end":6519,"name":"selector"},"value":{"type":"Literal","start":6521,"end":6540,"value":"[nfLoadComponent]","raw":"\"[nfLoadComponent]\""},"kind":"init"},{"type":"Property","start":6542,"end":6614,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6542,"end":6548,"name":"inputs"},"value":{"type":"ObjectExpression","start":6550,"end":6614,"properties":[{"type":"Property","start":6552,"end":6586,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6552,"end":6567,"name":"nfLoadComponent"},"value":{"type":"Literal","start":6569,"end":6586,"value":"nfLoadComponent","raw":"\"nfLoadComponent\""},"kind":"init"},{"type":"Property","start":6588,"end":6612,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6588,"end":6598,"name":"nfFallback"},"value":{"type":"Literal","start":6600,"end":6612,"value":"nfFallback","raw":"\"nfFallback\""},"kind":"init"}]},"kind":"init"},{"type":"Property","start":6616,"end":6628,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6616,"end":6624,"name":"ngImport"},"value":{"type":"Identifier","start":6626,"end":6628,"name":"i0"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":6635,"end":7089,"expression":{"type":"CallExpression","start":6635,"end":7088,"optional":false,"callee":{"type":"MemberExpression","start":6635,"end":6662,"computed":false,"optional":false,"object":{"type":"Identifier","start":6635,"end":6637,"name":"i0"},"property":{"type":"Identifier","start":6638,"end":6662,"name":"ɵɵngDeclareClassMetadata"}},"arguments":[{"type":"ObjectExpression","start":6663,"end":7087,"properties":[{"type":"Property","start":6665,"end":6685,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6665,"end":6675,"name":"minVersion"},"value":{"type":"Literal","start":6677,"end":6685,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":6687,"end":6705,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6687,"end":6694,"name":"version"},"value":{"type":"Literal","start":6696,"end":6705,"value":"18.2.13","raw":"\"18.2.13\""},"kind":"init"},{"type":"Property","start":6707,"end":6719,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6707,"end":6715,"name":"ngImport"},"value":{"type":"Identifier","start":6717,"end":6719,"name":"i0"},"kind":"init"},{"type":"Property","start":6721,"end":6758,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6721,"end":6725,"name":"type"},"value":{"type":"Identifier","start":6727,"end":6758,"name":"LoadFederatedComponentDirective"},"kind":"init"},{"type":"Property","start":6760,"end":6942,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6760,"end":6770,"name":"decorators"},"value":{"type":"ArrayExpression","start":6772,"end":6942,"elements":[{"type":"ObjectExpression","start":6773,"end":6941,"properties":[{"type":"Property","start":6787,"end":6802,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6787,"end":6791,"name":"type"},"value":{"type":"Identifier","start":6793,"end":6802,"name":"Directive"},"kind":"init"},{"type":"Property","start":6816,"end":6931,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6816,"end":6820,"name":"args"},"value":{"type":"ArrayExpression","start":6822,"end":6931,"elements":[{"type":"ObjectExpression","start":6823,"end":6930,"properties":[{"type":"Property","start":6845,"end":6874,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6845,"end":6853,"name":"selector"},"value":{"type":"Literal","start":6855,"end":6874,"value":"[nfLoadComponent]","raw":"'[nfLoadComponent]'"},"kind":"init"},{"type":"Property","start":6896,"end":6912,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6896,"end":6906,"name":"standalone"},"value":{"type":"Literal","start":6908,"end":6912,"value":true,"raw":"true"},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":6944,"end":7085,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6944,"end":6958,"name":"propDecorators"},"value":{"type":"ObjectExpression","start":6960,"end":7085,"properties":[{"type":"Property","start":6962,"end":7024,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6962,"end":6977,"name":"nfLoadComponent"},"value":{"type":"ArrayExpression","start":6979,"end":7024,"elements":[{"type":"ObjectExpression","start":6980,"end":7023,"properties":[{"type":"Property","start":6998,"end":7009,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6998,"end":7002,"name":"type"},"value":{"type":"Identifier","start":7004,"end":7009,"name":"Input"},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":7026,"end":7083,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7026,"end":7036,"name":"nfFallback"},"value":{"type":"ArrayExpression","start":7038,"end":7083,"elements":[{"type":"ObjectExpression","start":7039,"end":7082,"properties":[{"type":"Property","start":7057,"end":7068,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7057,"end":7061,"name":"type"},"value":{"type":"Identifier","start":7063,"end":7068,"name":"Input"},"kind":"init"}]}]},"kind":"init"}]},"kind":"init"}]}]}},{"type":"ExportNamedDeclaration","start":7140,"end":8668,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":7147,"end":8668,"decorators":[],"id":{"type":"Identifier","start":7153,"end":7170,"name":"AngularSSRHelpers"},"superClass":null,"body":{"type":"ClassBody","start":7171,"end":8668,"body":[{"type":"MethodDefinition","start":7245,"end":7425,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7252,"end":7266,"name":"setupSSRLoader"},"value":{"type":"FunctionExpression","start":7266,"end":7425,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":7267,"end":7281,"name":"versionManager"},{"type":"Identifier","start":7283,"end":7295,"name":"manifestPath"}],"body":{"type":"BlockStatement","start":7297,"end":7425,"body":[{"type":"VariableDeclaration","start":7307,"end":7396,"kind":"const","declarations":[{"type":"VariableDeclarator","start":7313,"end":7395,"id":{"type":"Identifier","start":7313,"end":7319,"name":"loader"},"init":{"type":"NewExpression","start":7322,"end":7395,"callee":{"type":"Identifier","start":7326,"end":7341,"name":"SSRModuleLoader"},"arguments":[{"type":"Identifier","start":7342,"end":7356,"name":"versionManager"},{"type":"ObjectExpression","start":7358,"end":7394,"properties":[{"type":"Property","start":7372,"end":7384,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7372,"end":7384,"name":"manifestPath"},"value":{"type":"Identifier","start":7372,"end":7384,"name":"manifestPath"},"kind":"init"}]}]}}]},{"type":"ReturnStatement","start":7405,"end":7419,"argument":{"type":"Identifier","start":7412,"end":7418,"name":"loader"}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":7501,"end":7703,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7508,"end":7531,"name":"generateHydrationScript"},"value":{"type":"FunctionExpression","start":7531,"end":7703,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":7532,"end":7541,"name":"ssrLoader"}],"body":{"type":"BlockStatement","start":7543,"end":7703,"body":[{"type":"VariableDeclaration","start":7553,"end":7617,"kind":"const","declarations":[{"type":"VariableDeclarator","start":7559,"end":7616,"id":{"type":"Identifier","start":7559,"end":7576,"name":"hydrationManifest"},"init":{"type":"CallExpression","start":7579,"end":7616,"optional":false,"callee":{"type":"MemberExpression","start":7579,"end":7614,"computed":false,"optional":false,"object":{"type":"Identifier","start":7579,"end":7588,"name":"ssrLoader"},"property":{"type":"Identifier","start":7589,"end":7614,"name":"generateHydrationManifest"}},"arguments":[]}}]},{"type":"ReturnStatement","start":7626,"end":7697,"argument":{"type":"CallExpression","start":7633,"end":7696,"optional":false,"callee":{"type":"MemberExpression","start":7633,"end":7673,"computed":false,"optional":false,"object":{"type":"Identifier","start":7633,"end":7651,"name":"SSRFederationUtils"},"property":{"type":"Identifier","start":7652,"end":7673,"name":"injectHydrationScript"}},"arguments":[{"type":"Literal","start":7674,"end":7676,"value":"","raw":"''"},{"type":"Identifier","start":7678,"end":7695,"name":"hydrationManifest"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":7796,"end":8666,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7803,"end":7832,"name":"createUniversalRenderFunction"},"value":{"type":"FunctionExpression","start":7832,"end":8666,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":7833,"end":7849,"name":"originalRenderFn"},{"type":"Identifier","start":7851,"end":7863,"name":"manifestPath"}],"body":{"type":"BlockStatement","start":7865,"end":8666,"body":[{"type":"ReturnStatement","start":7875,"end":8660,"argument":{"type":"FunctionExpression","start":7882,"end":8659,"async":true,"generator":false,"id":{"type":"Identifier","start":7897,"end":7917,"name":"renderWithFederation"},"params":[{"type":"Identifier","start":7918,"end":7925,"name":"options"}],"body":{"type":"BlockStatement","start":7927,"end":8659,"body":[{"type":"VariableDeclaration","start":8040,"end":8111,"kind":"const","declarations":[{"type":"VariableDeclarator","start":8046,"end":8110,"id":{"type":"Identifier","start":8046,"end":8055,"name":"ssrLoader"},"init":{"type":"CallExpression","start":8058,"end":8110,"optional":false,"callee":{"type":"MemberExpression","start":8058,"end":8090,"computed":false,"optional":false,"object":{"type":"Identifier","start":8058,"end":8075,"name":"AngularSSRHelpers"},"property":{"type":"Identifier","start":8076,"end":8090,"name":"setupSSRLoader"}},"arguments":[{"type":"Literal","start":8091,"end":8095,"raw":"null","value":null},{"type":"Identifier","start":8097,"end":8109,"name":"manifestPath"}]}}]},{"type":"ExpressionStatement","start":8182,"end":8212,"expression":{"type":"AssignmentExpression","start":8182,"end":8211,"operator":"=","left":{"type":"MemberExpression","start":8182,"end":8199,"computed":false,"optional":false,"object":{"type":"Identifier","start":8182,"end":8189,"name":"options"},"property":{"type":"Identifier","start":8190,"end":8199,"name":"ssrLoader"}},"right":{"type":"Identifier","start":8202,"end":8211,"name":"ssrLoader"}}},{"type":"VariableDeclaration","start":8270,"end":8317,"kind":"const","declarations":[{"type":"VariableDeclarator","start":8276,"end":8316,"id":{"type":"Identifier","start":8276,"end":8282,"name":"result"},"init":{"type":"AwaitExpression","start":8285,"end":8316,"argument":{"type":"CallExpression","start":8291,"end":8316,"optional":false,"callee":{"type":"Identifier","start":8291,"end":8307,"name":"originalRenderFn"},"arguments":[{"type":"Identifier","start":8308,"end":8315,"name":"options"}]}}}]},{"type":"IfStatement","start":8369,"end":8622,"test":{"type":"BinaryExpression","start":8373,"end":8399,"operator":"===","left":{"type":"UnaryExpression","start":8373,"end":8386,"operator":"typeof","argument":{"type":"Identifier","start":8380,"end":8386,"name":"result"},"prefix":true},"right":{"type":"Literal","start":8391,"end":8399,"value":"string","raw":"'string'"}},"consequent":{"type":"BlockStatement","start":8401,"end":8622,"body":[{"type":"VariableDeclaration","start":8419,"end":8496,"kind":"const","declarations":[{"type":"VariableDeclarator","start":8425,"end":8495,"id":{"type":"Identifier","start":8425,"end":8440,"name":"hydrationScript"},"init":{"type":"CallExpression","start":8443,"end":8495,"optional":false,"callee":{"type":"MemberExpression","start":8443,"end":8484,"computed":false,"optional":false,"object":{"type":"Identifier","start":8443,"end":8460,"name":"AngularSSRHelpers"},"property":{"type":"Identifier","start":8461,"end":8484,"name":"generateHydrationScript"}},"arguments":[{"type":"Identifier","start":8485,"end":8494,"name":"ssrLoader"}]}}]},{"type":"ReturnStatement","start":8513,"end":8608,"argument":{"type":"CallExpression","start":8520,"end":8607,"optional":false,"callee":{"type":"MemberExpression","start":8520,"end":8560,"computed":false,"optional":false,"object":{"type":"Identifier","start":8520,"end":8538,"name":"SSRFederationUtils"},"property":{"type":"Identifier","start":8539,"end":8560,"name":"injectHydrationScript"}},"arguments":[{"type":"Identifier","start":8561,"end":8567,"name":"result"},{"type":"CallExpression","start":8569,"end":8606,"optional":false,"callee":{"type":"MemberExpression","start":8569,"end":8604,"computed":false,"optional":false,"object":{"type":"Identifier","start":8569,"end":8578,"name":"ssrLoader"},"property":{"type":"Identifier","start":8579,"end":8604,"name":"generateHydrationManifest"}},"arguments":[]}]}}]},"alternate":null},{"type":"ReturnStatement","start":8635,"end":8649,"argument":{"type":"Identifier","start":8642,"end":8648,"name":"result"}}]},"expression":false}}]},"expression":false},"kind":"method"}]}}},{"type":"ExportNamedDeclaration","start":8719,"end":8959,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"FunctionDeclaration","start":8726,"end":8959,"async":false,"generator":false,"id":{"type":"Identifier","start":8735,"end":8763,"name":"createSSRFederationProviders"},"params":[{"type":"Identifier","start":8764,"end":8776,"name":"manifestPath"}],"body":{"type":"BlockStatement","start":8778,"end":8959,"body":[{"type":"ReturnStatement","start":8784,"end":8957,"argument":{"type":"ArrayExpression","start":8791,"end":8956,"elements":[{"type":"Identifier","start":8801,"end":8821,"name":"SSRFederationService"},{"type":"ObjectExpression","start":8831,"end":8950,"properties":[{"type":"Property","start":8845,"end":8872,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8845,"end":8852,"name":"provide"},"value":{"type":"Literal","start":8854,"end":8872,"value":"NF_MANIFEST_PATH","raw":"'NF_MANIFEST_PATH'"},"kind":"init"},{"type":"Property","start":8886,"end":8940,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8886,"end":8894,"name":"useValue"},"value":{"type":"LogicalExpression","start":8896,"end":8940,"operator":"||","left":{"type":"Identifier","start":8896,"end":8908,"name":"manifestPath"},"right":{"type":"Literal","start":8912,"end":8940,"value":"./federation.manifest.json","raw":"'./federation.manifest.json'"}},"kind":"init"}]}]}}]},"expression":false}},{"type":"ExportNamedDeclaration","start":9009,"end":9133,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"VariableDeclaration","start":9016,"end":9133,"kind":"const","declarations":[{"type":"VariableDeclarator","start":9022,"end":9132,"id":{"type":"Identifier","start":9022,"end":9056,"name":"AngularUniversalFederationProvider"},"init":{"type":"ObjectExpression","start":9059,"end":9132,"properties":[{"type":"Property","start":9065,"end":9094,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9065,"end":9072,"name":"provide"},"value":{"type":"Identifier","start":9074,"end":9094,"name":"SSRFederationService"},"kind":"init"},{"type":"Property","start":9100,"end":9130,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9100,"end":9108,"name":"useClass"},"value":{"type":"Identifier","start":9110,"end":9130,"name":"SSRFederationService"},"kind":"init"}]}}]}}],"_rollupRemoved":[{"end":27640,"start":9134,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { inject, Injectable, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { makeStateKey, TransferState } from '@angular/core';\nimport { SSRModuleLoader, SSRFederationUtils } from '../runtime/ssr-module-loader';\nimport { HydrationClient, AngularHydrationUtils } from '../runtime/hydration-client';\n/**\n * Angular directive for loading federated components with SSR support\n */\nimport { Directive, Input, ViewContainerRef } from '@angular/core';\nimport * as i0 from \"@angular/core\";\n/**\n * Angular service for Native Federation SSR support\n */\nexport class SSRFederationService {\n    platformId = inject(PLATFORM_ID);\n    transferState = inject(TransferState);\n    ssrLoader = inject(SSRModuleLoader);\n    hydrationClient = inject(HydrationClient);\n    clientLoader;\n    FEDERATION_STATE_KEY = makeStateKey('NF_SSR_STATE');\n    constructor() {\n        if (isPlatformServer(this.platformId)) {\n            this.initializeSSR();\n        }\n        else {\n            this.initializeClient();\n        }\n    }\n    /**\n     * Load remote module with SSR/hydration support\n     */\n    async loadRemoteModule(remoteName, modulePath) {\n        if (isPlatformServer(this.platformId)) {\n            return this.loadRemoteModuleSSR(remoteName, modulePath);\n        }\n        else {\n            return this.loadRemoteModuleClient(remoteName, modulePath);\n        }\n    }\n    /**\n     * Load shared module with SSR/hydration support\n     */\n    async loadSharedModule(packageName) {\n        if (isPlatformServer(this.platformId)) {\n            return this.ssrLoader.loadSharedModule(packageName);\n        }\n        else {\n            return this.clientLoader.loadSharedModule(packageName);\n        }\n    }\n    /**\n     * Check if module was server-rendered\n     */\n    wasServerRendered(remoteName, modulePath) {\n        if (isPlatformBrowser(this.platformId)) {\n            return this.clientLoader?.wasServerRendered(remoteName, modulePath) || false;\n        }\n        return false;\n    }\n    /**\n     * Get SSR content for a remote module (server-side only)\n     */\n    async getSSRContent(remoteName, modulePath) {\n        if (isPlatformServer(this.platformId)) {\n            try {\n                const result = await this.ssrLoader.loadRemoteModule(remoteName, modulePath);\n                return result.ssrContent || null;\n            }\n            catch (error) {\n                console.warn(`[SSR] Failed to get SSR content for ${remoteName}${modulePath}:`, error);\n                return null;\n            }\n        }\n        return null;\n    }\n    async initializeSSR() {\n        // SSRModuleLoader is injected via DI\n        await this.ssrLoader.initialize();\n    }\n    async initializeClient() {\n        // HydrationClient is injected via DI\n        this.clientLoader = await AngularHydrationUtils.initializeForAngularSSR(this.hydrationClient, './federation.manifest.json');\n        // Restore SSR state from TransferState\n        const ssrState = this.transferState.get(this.FEDERATION_STATE_KEY, null);\n        if (ssrState) {\n            // Process any SSR state if needed\n            console.log('[NF] Restored SSR state:', ssrState);\n        }\n    }\n    async loadRemoteModuleSSR(remoteName, modulePath) {\n        const result = await this.ssrLoader.loadRemoteModule(remoteName, modulePath);\n        // Store hydration data in TransferState for client\n        if (result.hydrationData) {\n            const currentState = this.transferState.get(this.FEDERATION_STATE_KEY, {});\n            currentState[`${remoteName}${modulePath}`] = result.hydrationData;\n            this.transferState.set(this.FEDERATION_STATE_KEY, currentState);\n        }\n        return result.module;\n    }\n    async loadRemoteModuleClient(remoteName, modulePath) {\n        return this.clientLoader.loadRemoteModule(remoteName, modulePath);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: SSRFederationService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: SSRFederationService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: SSRFederationService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [] });\nexport class LoadFederatedComponentDirective {\n    nfLoadComponent; // Format: \"remoteName/modulePath\"\n    nfFallback;\n    federationService = inject(SSRFederationService);\n    viewContainer = inject(ViewContainerRef);\n    async ngOnInit() {\n        if (!this.nfLoadComponent) {\n            return;\n        }\n        const [remoteName, ...modulePathParts] = this.nfLoadComponent.split('/');\n        const modulePath = './' + modulePathParts.join('/');\n        try {\n            // Check if component was server-rendered\n            if (this.federationService.wasServerRendered?.(remoteName, modulePath)) {\n                console.log(`[NF] Component ${this.nfLoadComponent} was server-rendered, hydrating...`);\n            }\n            const module = await this.federationService.loadRemoteModule(remoteName, modulePath);\n            // Assume the module exports a component as default\n            const component = module.default || module;\n            if (component) {\n                this.viewContainer.createComponent(component);\n            }\n            else {\n                this.renderFallback();\n            }\n        }\n        catch (error) {\n            console.error(`[NF] Failed to load component ${this.nfLoadComponent}:`, error);\n            this.renderFallback();\n        }\n    }\n    ngOnDestroy() {\n        this.viewContainer.clear();\n    }\n    renderFallback() {\n        if (this.nfFallback) {\n            // Render fallback template\n            this.viewContainer.clear();\n            // You would implement fallback rendering logic here\n            console.log(`[NF] Rendering fallback for ${this.nfLoadComponent}: ${this.nfFallback}`);\n        }\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: LoadFederatedComponentDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"18.2.13\", type: LoadFederatedComponentDirective, isStandalone: true, selector: \"[nfLoadComponent]\", inputs: { nfLoadComponent: \"nfLoadComponent\", nfFallback: \"nfFallback\" }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: LoadFederatedComponentDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[nfLoadComponent]',\n                    standalone: true\n                }]\n        }], propDecorators: { nfLoadComponent: [{\n                type: Input\n            }], nfFallback: [{\n                type: Input\n            }] } });\n/**\n * Angular helper functions for SSR setup\n */\nexport class AngularSSRHelpers {\n    /**\n     * Setup SSR module loader in Angular Universal\n     */\n    static setupSSRLoader(versionManager, manifestPath) {\n        const loader = new SSRModuleLoader(versionManager, {\n            manifestPath\n        });\n        return loader;\n    }\n    /**\n     * Generate hydration script for Angular Universal\n     */\n    static generateHydrationScript(ssrLoader) {\n        const hydrationManifest = ssrLoader.generateHydrationManifest();\n        return SSRFederationUtils.injectHydrationScript('', hydrationManifest);\n    }\n    /**\n     * Create Angular Universal render function with federation support\n     */\n    static createUniversalRenderFunction(originalRenderFn, manifestPath) {\n        return async function renderWithFederation(options) {\n            // Initialize SSR loader\n            // TODO: versionManager should be provided via DI\n            const ssrLoader = AngularSSRHelpers.setupSSRLoader(null, manifestPath);\n            // Add to options so components can access it\n            options.ssrLoader = ssrLoader;\n            // Call original render function\n            const result = await originalRenderFn(options);\n            // Inject hydration script\n            if (typeof result === 'string') {\n                const hydrationScript = AngularSSRHelpers.generateHydrationScript(ssrLoader);\n                return SSRFederationUtils.injectHydrationScript(result, ssrLoader.generateHydrationManifest());\n            }\n            return result;\n        };\n    }\n}\n/**\n * Provider for Angular app configuration\n */\nexport function createSSRFederationProviders(manifestPath) {\n    return [\n        SSRFederationService,\n        {\n            provide: 'NF_MANIFEST_PATH',\n            useValue: manifestPath || './federation.manifest.json'\n        }\n    ];\n}\n/**\n * Angular Universal Federation Provider\n */\nexport const AngularUniversalFederationProvider = {\n    provide: SSRFederationService,\n    useClass: SSRFederationService\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3NyLWludGVncmF0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmF0aXZlLWZlZGVyYXRpb24vc3JjL2xpYi9hbmd1bGFyL3Nzci1pbnRlZ3JhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDaEUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLGdCQUFnQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdEUsT0FBTyxFQUFFLFlBQVksRUFBWSxhQUFhLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdEUsT0FBTyxFQUFFLGVBQWUsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQ25GLE9BQU8sRUFBRSxlQUFlLEVBQUUscUJBQXFCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQXFIckY7O0dBRUc7QUFDSCxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxnQkFBZ0IsRUFBcUIsTUFBTSxlQUFlLENBQUM7O0FBdEh0Rjs7R0FFRztBQUlILE1BQU0sT0FBTyxvQkFBb0I7SUFDdkIsVUFBVSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUNqQyxhQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3RDLFNBQVMsR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDcEMsZUFBZSxHQUFHLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUMxQyxZQUFZLENBQW1CO0lBRXRCLG9CQUFvQixHQUFrQixZQUFZLENBQUMsY0FBYyxDQUFDLENBQUM7SUFFcEY7UUFDRSxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO1lBQ3RDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN2QixDQUFDO2FBQU0sQ0FBQztZQUNO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QVEsRUFBRSxDQUFDO2dCQUMvQixNQUFNLGVBQWUsR0FBRyxpQkFBaUIsQ0FBQyx1QkFBdUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDN0UsT0FBTyxrQkFBa0IsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLEVBQ3BELFNBQVMsQ0FBQyx5QkFBeUIsRUFBRSxDQUFDLENBQUM7WUFDM0MsQ0FBQztZQUVELE9BQU8sTUFBTSxDQUFDO1FBQ2hCLENBQUMsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQUVEOztHQUVHO0FBQ0gsTUFBTSxVQUFVLDRCQUE0QixDQUFDLFlBQXFCO0lBQ2hFLE9BQU87UUFDTCxvQkFBb0I7UUFDcEI7WUFDRSxPQUFPLEVBQUUsa0JBQWtCO1lBQzNCLFFBQVEsRUFBRSxZQUFZLElBQUksNEJBQTRCO1NBQ3ZEO0tBQ0YsQ0FBQztBQUNKLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGtDQUFrQyxHQUFHO0lBQ2hELE9BQU8sRUFBRSxvQkFBb0I7SUFDN0IsUUFBUSxFQUFFLG9CQUFvQjtDQUMvQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5qZWN0LCBJbmplY3RhYmxlLCBQTEFURk9STV9JRCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgaXNQbGF0Zm9ybUJyb3dzZXIsIGlzUGxhdGZvcm1TZXJ2ZXIgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgbWFrZVN0YXRlS2V5LCBTdGF0ZUtleSwgVHJhbnNmZXJTdGF0ZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU1NSTW9kdWxlTG9hZGVyLCBTU1JGZWRlcmF0aW9uVXRpbHMgfSBmcm9tICcuLi9ydW50aW1lL3Nzci1tb2R1bGUtbG9hZGVyJztcbmltcG9ydCB7IEh5ZHJhdGlvbkNsaWVudCwgQW5ndWxhckh5ZHJhdGlvblV0aWxzIH0gZnJvbSAnLi4vcnVudGltZS9oeWRyYXRpb24tY2xpZW50JztcblxuLyoqXG4gKiBBbmd1bGFyIHNlcnZpY2UgZm9yIE5hdGl2ZSBGZWRlcmF0aW9uIFNTUiBzdXBwb3J0XG4gKi9cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIFNTUkZlZGVyYXRpb25TZXJ2aWNlIHtcbiAgcHJpdmF0ZSBwbGF0Zm9ybUlkID0gaW5qZWN0KFBMQVRGT1JNX0lEKTtcbiAgcHJpdmF0ZSB0cmFuc2ZlclN0YXRlID0gaW5qZWN0KFRyYW5zZmVyU3RhdGUpO1xuICBwcml2YXRlIHNzckxvYWRlciA9IGluamVjdChTU1JNb2R1bGVMb2FkZXIpO1xuICBwcml2YXRlIGh5ZHJhdGlvbkNsaWVudCA9IGluamVjdChIeWRyYXRpb25DbGllbnQpO1xuICBwcml2YXRlIGNsaWVudExvYWRlcj86IEh5ZHJhdGlvbkNsaWVudDtcblxuICBwcml2YXRlIHJlYWRvbmx5IEZFREVSQVRJT05fU1RBVEVfS0VZOiBTdGF0ZUtleTxhbnk+ID0gbWFrZVN0YXRlS2V5KCdORl9TU1JfU1RBVEUnKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAoaXNQbGF0Zm9ybVNlcnZlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICB0aGlzLmluaXRpYWxpemVTU1IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0aWFsaXplQ2xpZW50KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgcmVtb3RlIG1vZHVsZSB3aXRoIFNTUi9oeWRyYXRpb24gc3VwcG9ydFxuICAgKi9cbiAgYXN5bmMgbG9hZFJlbW90ZU1vZHVsZTxUID0gYW55PihcbiAgICByZW1vdGVOYW1lOiBzdHJpbmcsIFxuICAgIG1vZHVsZVBhdGg6IHN0cmluZ1xuICApOiBQcm9taXNlPFQ+IHtcbiAgICBpZiAoaXNQbGF0Zm9ybVNlcnZlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2FkUmVtb3RlTW9kdWxlU1NSKHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2FkUmVtb3RlTW9kdWxlQ2xpZW50KHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHNoYXJlZCBtb2R1bGUgd2l0aCBTU1IvaHlkcmF0aW9uIHN1cHBvcnRcbiAgICovXG4gIGFzeW5jIGxvYWRTaGFyZWRNb2R1bGU8VCA9IGFueT4ocGFja2FnZU5hbWU6IHN0cmluZyk6IFByb21pc2U8VD4ge1xuICAgIGlmIChpc1BsYXRmb3JtU2VydmVyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNzckxvYWRlciEubG9hZFNoYXJlZE1vZHVsZShwYWNrYWdlTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmNsaWVudExvYWRlciEubG9hZFNoYXJlZE1vZHVsZShwYWNrYWdlTmFtZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIG1vZHVsZSB3YXMgc2VydmVyLXJlbmRlcmVkXG4gICAqL1xuICB3YXNTZXJ2ZXJSZW5kZXJlZChyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmIChpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnRMb2FkZXI/Lndhc1NlcnZlclJlbmRlcmVkKHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpIHx8IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IFNTUiBjb250ZW50IGZvciBhIHJlbW90ZSBtb2R1bGUgKHNlcnZlci1zaWRlIG9ubHkpXG4gICAqL1xuICBhc3luYyBnZXRTU1JDb250ZW50KHJlbW90ZU5hbWU6IHN0cmluZywgbW9kdWxlUGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgaWYgKGlzUGxhdGZvcm1TZXJ2ZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zc3JMb2FkZXIhLmxvYWRSZW1vdGVNb2R1bGUocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gICAgICAgIHJldHVybiByZXN1bHQuc3NyQ29udGVudCB8fCBudWxsO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBbU1NSXSBGYWlsZWQgdG8gZ2V0IFNTUiBjb250ZW50IGZvciAke3JlbW90ZU5hbWV9JHttb2R1bGVQYXRofTpgLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVNTUigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBTU1JNb2R1bGVMb2FkZXIgaXMgaW5qZWN0ZWQgdmlhIERJXG4gICAgYXdhaXQgdGhpcy5zc3JMb2FkZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplQ2xpZW50KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIEh5ZHJhdGlvbkNsaWVudCBpcyBpbmplY3RlZCB2aWEgRElcbiAgICB0aGlzLmNsaWVudExvYWRlciA9IGF3YWl0IEFuZ3VsYXJIeWRyYXRpb25VdGlscy5pbml0aWFsaXplRm9yQW5ndWxhclNTUih0aGlzLmh5ZHJhdGlvbkNsaWVudCwgJy4vZmVkZXJhdGlvbi5tYW5pZmVzdC5qc29uJyk7XG4gICAgXG4gICAgLy8gUmVzdG9yZSBTU1Igc3RhdGUgZnJvbSBUcmFuc2ZlclN0YXRlXG4gICAgY29uc3Qgc3NyU3RhdGUgPSB0aGlzLnRyYW5zZmVyU3RhdGUuZ2V0KHRoaXMuRkVERVJBVElPTl9TVEFURV9LRVksIG51bGwpO1xuICAgIGlmIChzc3JTdGF0ZSkge1xuICAgICAgLy8gUHJvY2VzcyBhbnkgU1NSIHN0YXRlIGlmIG5lZWRlZFxuICAgICAgY29uc29sZS5sb2coJ1tORl0gUmVzdG9yZWQgU1NSIHN0YXRlOicsIHNzclN0YXRlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRSZW1vdGVNb2R1bGVTU1I8VCA9IGFueT4oXG4gICAgcmVtb3RlTmFtZTogc3RyaW5nLCBcbiAgICBtb2R1bGVQYXRoOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zc3JMb2FkZXIhLmxvYWRSZW1vdGVNb2R1bGUocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gICAgXG4gICAgLy8gU3RvcmUgaHlkcmF0aW9uIGRhdGEgaW4gVHJhbnNmZXJTdGF0ZSBmb3IgY2xpZW50XG4gICAgaWYgKHJlc3VsdC5oeWRyYXRpb25EYXRhKSB7XG4gICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLnRyYW5zZmVyU3RhdGUuZ2V0KHRoaXMuRkVERVJBVElPTl9TVEFURV9LRVksIHt9KTtcbiAgICAgIGN1cnJlbnRTdGF0ZVtgJHtyZW1vdGVOYW1lfSR7bW9kdWxlUGF0aH1gXSA9IHJlc3VsdC5oeWRyYXRpb25EYXRhO1xuICAgICAgdGhpcy50cmFuc2ZlclN0YXRlLnNldCh0aGlzLkZFREVSQVRJT05fU1RBVEVfS0VZLCBjdXJyZW50U3RhdGUpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0Lm1vZHVsZTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbG9hZFJlbW90ZU1vZHVsZUNsaWVudDxUID0gYW55PihcbiAgICByZW1vdGVOYW1lOiBzdHJpbmcsIFxuICAgIG1vZHVsZVBhdGg6IHN0cmluZ1xuICApOiBQcm9taXNlPFQ+IHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRMb2FkZXIhLmxvYWRSZW1vdGVNb2R1bGUocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBbmd1bGFyIGRpcmVjdGl2ZSBmb3IgbG9hZGluZyBmZWRlcmF0ZWQgY29tcG9uZW50cyB3aXRoIFNTUiBzdXBwb3J0XG4gKi9cbmltcG9ydCB7IERpcmVjdGl2ZSwgSW5wdXQsIFZpZXdDb250YWluZXJSZWYsIE9uSW5pdCwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tuZkxvYWRDb21wb25lbnRdJyxcbiAgc3RhbmRhbG9uZTogdHJ1ZVxufSlcbmV4cG9ydCBjbGFzcyBMb2FkRmVkZXJhdGVkQ29tcG9uZW50RGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKSBuZkxvYWRDb21wb25lbnQhOiBzdHJpbmc7IC8vIEZvcm1hdDogXCJyZW1vdGVOYW1lL21vZHVsZVBhdGhcIlxuICBASW5wdXQoKSBuZkZhbGxiYWNrPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgZmVkZXJhdGlvblNlcnZpY2UgPSBpbmplY3QoU1NSRmVkZXJhdGlvblNlcnZpY2UpO1xuICBwcml2YXRlIHZpZXdDb250YWluZXIgPSBpbmplY3QoVmlld0NvbnRhaW5lclJlZik7XG5cbiAgYXN5bmMgbmdPbkluaXQoKSB7XG4gICAgaWYgKCF0aGlzLm5mTG9hZENvbXBvbmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IFtyZW1vdGVOYW1lLCAuLi5tb2R1bGVQYXRoUGFydHNdID0gdGhpcy5uZkxvYWRDb21wb25lbnQuc3BsaXQoJy8nKTtcbiAgICBjb25zdCBtb2R1bGVQYXRoID0gJy4vJyArIG1vZHVsZVBhdGhQYXJ0cy5qb2luKCcvJyk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgaWYgY29tcG9uZW50IHdhcyBzZXJ2ZXItcmVuZGVyZWRcbiAgICAgIGlmICgodGhpcy5mZWRlcmF0aW9uU2VydmljZSBhcyBhbnkpLndhc1NlcnZlclJlbmRlcmVkPy4ocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCkpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtORl0gQ29tcG9uZW50ICR7dGhpcy5uZkxvYWRDb21wb25lbnR9IHdhcyBzZXJ2ZXItcmVuZGVyZWQsIGh5ZHJhdGluZy4uLmApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtb2R1bGUgPSBhd2FpdCAodGhpcy5mZWRlcmF0aW9uU2VydmljZSBhcyBhbnkpLmxvYWRSZW1vdGVNb2R1bGUocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gICAgICBcbiAgICAgIC8vIEFzc3VtZSB0aGUgbW9kdWxlIGV4cG9ydHMgYSBjb21wb25lbnQgYXMgZGVmYXVsdFxuICAgICAgY29uc3QgY29tcG9uZW50ID0gbW9kdWxlLmRlZmF1bHQgfHwgbW9kdWxlO1xuICAgICAgXG4gICAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMudmlld0NvbnRhaW5lci5jcmVhdGVDb21wb25lbnQoY29tcG9uZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyRmFsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgW05GXSBGYWlsZWQgdG8gbG9hZCBjb21wb25lbnQgJHt0aGlzLm5mTG9hZENvbXBvbmVudH06YCwgZXJyb3IpO1xuICAgICAgdGhpcy5yZW5kZXJGYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMudmlld0NvbnRhaW5lci5jbGVhcigpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJGYWxsYmFjaygpIHtcbiAgICBpZiAodGhpcy5uZkZhbGxiYWNrKSB7XG4gICAgICAvLyBSZW5kZXIgZmFsbGJhY2sgdGVtcGxhdGVcbiAgICAgIHRoaXMudmlld0NvbnRhaW5lci5jbGVhcigpO1xuICAgICAgLy8gWW91IHdvdWxkIGltcGxlbWVudCBmYWxsYmFjayByZW5kZXJpbmcgbG9naWMgaGVyZVxuICAgICAgY29uc29sZS5sb2coYFtORl0gUmVuZGVyaW5nIGZhbGxiYWNrIGZvciAke3RoaXMubmZMb2FkQ29tcG9uZW50fTogJHt0aGlzLm5mRmFsbGJhY2t9YCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQW5ndWxhciBoZWxwZXIgZnVuY3Rpb25zIGZvciBTU1Igc2V0dXBcbiAqL1xuZXhwb3J0IGNsYXNzIEFuZ3VsYXJTU1JIZWxwZXJzIHtcbiAgLyoqXG4gICAqIFNldHVwIFNTUiBtb2R1bGUgbG9hZGVyIGluIEFuZ3VsYXIgVW5pdmVyc2FsXG4gICAqL1xuICBzdGF0aWMgc2V0dXBTU1JMb2FkZXIodmVyc2lvbk1hbmFnZXI6IGFueSwgbWFuaWZlc3RQYXRoPzogc3RyaW5nKTogU1NSTW9kdWxlTG9hZGVyIHtcbiAgICBjb25zdCBsb2FkZXIgPSBuZXcgU1NSTW9kdWxlTG9hZGVyKHZlcnNpb25NYW5hZ2VyLCB7XG4gICAgICBtYW5pZmVzdFBhdGhcbiAgICB9KTtcbiAgICByZXR1cm4gbG9hZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGh5ZHJhdGlvbiBzY3JpcHQgZm9yIEFuZ3VsYXIgVW5pdmVyc2FsXG4gICAqL1xuICBzdGF0aWMgZ2VuZXJhdGVIeWRyYXRpb25TY3JpcHQoc3NyTG9hZGVyOiBTU1JNb2R1bGVMb2FkZXIpOiBzdHJpbmcge1xuICAgIGNvbnN0IGh5ZHJhdGlvbk1hbmlmZXN0ID0gc3NyTG9hZGVyLmdlbmVyYXRlSHlkcmF0aW9uTWFuaWZlc3QoKTtcbiAgICByZXR1cm4gU1NSRmVkZXJhdGlvblV0aWxzLmluamVjdEh5ZHJhdGlvblNjcmlwdCgnJywgaHlkcmF0aW9uTWFuaWZlc3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBBbmd1bGFyIFVuaXZlcnNhbCByZW5kZXIgZnVuY3Rpb24gd2l0aCBmZWRlcmF0aW9uIHN1cHBvcnRcbiAgICovXG4gIHN0YXRpYyBjcmVhdGVVbml2ZXJzYWxSZW5kZXJGdW5jdGlvbihcbiAgICBvcmlnaW5hbFJlbmRlckZuOiBGdW5jdGlvbixcbiAgICBtYW5pZmVzdFBhdGg/OiBzdHJpbmdcbiAgKSB7XG4gICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHJlbmRlcldpdGhGZWRlcmF0aW9uKG9wdGlvbnM6IGFueSkge1xuICAgICAgLy8gSW5pdGlhbGl6ZSBTU1IgbG9hZGVyXG4gICAgICAvLyBUT0RPOiB2ZXJzaW9uTWFuYWdlciBzaG91bGQgYmUgcHJvdmlkZWQgdmlhIERJXG4gICAgICBjb25zdCBzc3JMb2FkZXIgPSBBbmd1bGFyU1NSSGVscGVycy5zZXR1cFNTUkxvYWRlcihudWxsIGFzIGFueSwgbWFuaWZlc3RQYXRoKTtcbiAgICAgIFxuICAgICAgLy8gQWRkIHRvIG9wdGlvbnMgc28gY29tcG9uZW50cyBjYW4gYWNjZXNzIGl0XG4gICAgICBvcHRpb25zLnNzckxvYWRlciA9IHNzckxvYWRlcjtcbiAgICAgIFxuICAgICAgLy8gQ2FsbCBvcmlnaW5hbCByZW5kZXIgZnVuY3Rpb25cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9yaWdpbmFsUmVuZGVyRm4ob3B0aW9ucyk7XG4gICAgICBcbiAgICAgIC8vIEluamVjdCBoeWRyYXRpb24gc2NyaXB0XG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgaHlkcmF0aW9uU2NyaXB0ID0gQW5ndWxhclNTUkhlbHBlcnMuZ2VuZXJhdGVIeWRyYXRpb25TY3JpcHQoc3NyTG9hZGVyKTtcbiAgICAgICAgcmV0dXJuIFNTUkZlZGVyYXRpb25VdGlscy5pbmplY3RIeWRyYXRpb25TY3JpcHQocmVzdWx0LCBcbiAgICAgICAgICBzc3JMb2FkZXIuZ2VuZXJhdGVIeWRyYXRpb25NYW5pZmVzdCgpKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIEFuZ3VsYXIgYXBwIGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNTUkZlZGVyYXRpb25Qcm92aWRlcnMobWFuaWZlc3RQYXRoPzogc3RyaW5nKSB7XG4gIHJldHVybiBbXG4gICAgU1NSRmVkZXJhdGlvblNlcnZpY2UsXG4gICAge1xuICAgICAgcHJvdmlkZTogJ05GX01BTklGRVNUX1BBVEgnLFxuICAgICAgdXNlVmFsdWU6IG1hbmlmZXN0UGF0aCB8fCAnLi9mZWRlcmF0aW9uLm1hbmlmZXN0Lmpzb24nXG4gICAgfVxuICBdO1xufVxuXG4vKipcbiAqIEFuZ3VsYXIgVW5pdmVyc2FsIEZlZGVyYXRpb24gUHJvdmlkZXJcbiAqL1xuZXhwb3J0IGNvbnN0IEFuZ3VsYXJVbml2ZXJzYWxGZWRlcmF0aW9uUHJvdmlkZXIgPSB7XG4gIHByb3ZpZGU6IFNTUkZlZGVyYXRpb25TZXJ2aWNlLFxuICB1c2VDbGFzczogU1NSRmVkZXJhdGlvblNlcnZpY2Vcbn07Il19","customTransformCache":false,"dependencies":["@angular/core","@angular/common","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/ssr-module-loader.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/hydration-client.mjs"],"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/ssr-integration.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { inject, Injectable, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { makeStateKey, TransferState } from '@angular/core';\nimport { SSRModuleLoader, SSRFederationUtils } from '../runtime/ssr-module-loader';\nimport { HydrationClient, AngularHydrationUtils } from '../runtime/hydration-client';\n/**\n * Angular directive for loading federated components with SSR support\n */\nimport { Directive, Input, ViewContainerRef } from '@angular/core';\nimport * as i0 from \"@angular/core\";\n/**\n * Angular service for Native Federation SSR support\n */\nexport class SSRFederationService {\n    platformId = inject(PLATFORM_ID);\n    transferState = inject(TransferState);\n    ssrLoader = inject(SSRModuleLoader);\n    hydrationClient = inject(HydrationClient);\n    clientLoader;\n    FEDERATION_STATE_KEY = makeStateKey('NF_SSR_STATE');\n    constructor() {\n        if (isPlatformServer(this.platformId)) {\n            this.initializeSSR();\n        }\n        else {\n            this.initializeClient();\n        }\n    }\n    /**\n     * Load remote module with SSR/hydration support\n     */\n    async loadRemoteModule(remoteName, modulePath) {\n        if (isPlatformServer(this.platformId)) {\n            return this.loadRemoteModuleSSR(remoteName, modulePath);\n        }\n        else {\n            return this.loadRemoteModuleClient(remoteName, modulePath);\n        }\n    }\n    /**\n     * Load shared module with SSR/hydration support\n     */\n    async loadSharedModule(packageName) {\n        if (isPlatformServer(this.platformId)) {\n            return this.ssrLoader.loadSharedModule(packageName);\n        }\n        else {\n            return this.clientLoader.loadSharedModule(packageName);\n        }\n    }\n    /**\n     * Check if module was server-rendered\n     */\n    wasServerRendered(remoteName, modulePath) {\n        if (isPlatformBrowser(this.platformId)) {\n            return this.clientLoader?.wasServerRendered(remoteName, modulePath) || false;\n        }\n        return false;\n    }\n    /**\n     * Get SSR content for a remote module (server-side only)\n     */\n    async getSSRContent(remoteName, modulePath) {\n        if (isPlatformServer(this.platformId)) {\n            try {\n                const result = await this.ssrLoader.loadRemoteModule(remoteName, modulePath);\n                return result.ssrContent || null;\n            }\n            catch (error) {\n                console.warn(`[SSR] Failed to get SSR content for ${remoteName}${modulePath}:`, error);\n                return null;\n            }\n        }\n        return null;\n    }\n    async initializeSSR() {\n        // SSRModuleLoader is injected via DI\n        await this.ssrLoader.initialize();\n    }\n    async initializeClient() {\n        // HydrationClient is injected via DI\n        this.clientLoader = await AngularHydrationUtils.initializeForAngularSSR(this.hydrationClient, './federation.manifest.json');\n        // Restore SSR state from TransferState\n        const ssrState = this.transferState.get(this.FEDERATION_STATE_KEY, null);\n        if (ssrState) {\n            // Process any SSR state if needed\n            console.log('[NF] Restored SSR state:', ssrState);\n        }\n    }\n    async loadRemoteModuleSSR(remoteName, modulePath) {\n        const result = await this.ssrLoader.loadRemoteModule(remoteName, modulePath);\n        // Store hydration data in TransferState for client\n        if (result.hydrationData) {\n            const currentState = this.transferState.get(this.FEDERATION_STATE_KEY, {});\n            currentState[`${remoteName}${modulePath}`] = result.hydrationData;\n            this.transferState.set(this.FEDERATION_STATE_KEY, currentState);\n        }\n        return result.module;\n    }\n    async loadRemoteModuleClient(remoteName, modulePath) {\n        return this.clientLoader.loadRemoteModule(remoteName, modulePath);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: SSRFederationService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: SSRFederationService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: SSRFederationService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [] });\nexport class LoadFederatedComponentDirective {\n    nfLoadComponent; // Format: \"remoteName/modulePath\"\n    nfFallback;\n    federationService = inject(SSRFederationService);\n    viewContainer = inject(ViewContainerRef);\n    async ngOnInit() {\n        if (!this.nfLoadComponent) {\n            return;\n        }\n        const [remoteName, ...modulePathParts] = this.nfLoadComponent.split('/');\n        const modulePath = './' + modulePathParts.join('/');\n        try {\n            // Check if component was server-rendered\n            if (this.federationService.wasServerRendered?.(remoteName, modulePath)) {\n                console.log(`[NF] Component ${this.nfLoadComponent} was server-rendered, hydrating...`);\n            }\n            const module = await this.federationService.loadRemoteModule(remoteName, modulePath);\n            // Assume the module exports a component as default\n            const component = module.default || module;\n            if (component) {\n                this.viewContainer.createComponent(component);\n            }\n            else {\n                this.renderFallback();\n            }\n        }\n        catch (error) {\n            console.error(`[NF] Failed to load component ${this.nfLoadComponent}:`, error);\n            this.renderFallback();\n        }\n    }\n    ngOnDestroy() {\n        this.viewContainer.clear();\n    }\n    renderFallback() {\n        if (this.nfFallback) {\n            // Render fallback template\n            this.viewContainer.clear();\n            // You would implement fallback rendering logic here\n            console.log(`[NF] Rendering fallback for ${this.nfLoadComponent}: ${this.nfFallback}`);\n        }\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: LoadFederatedComponentDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"18.2.13\", type: LoadFederatedComponentDirective, isStandalone: true, selector: \"[nfLoadComponent]\", inputs: { nfLoadComponent: \"nfLoadComponent\", nfFallback: \"nfFallback\" }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.13\", ngImport: i0, type: LoadFederatedComponentDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[nfLoadComponent]',\n                    standalone: true\n                }]\n        }], propDecorators: { nfLoadComponent: [{\n                type: Input\n            }], nfFallback: [{\n                type: Input\n            }] } });\n/**\n * Angular helper functions for SSR setup\n */\nexport class AngularSSRHelpers {\n    /**\n     * Setup SSR module loader in Angular Universal\n     */\n    static setupSSRLoader(versionManager, manifestPath) {\n        const loader = new SSRModuleLoader(versionManager, {\n            manifestPath\n        });\n        return loader;\n    }\n    /**\n     * Generate hydration script for Angular Universal\n     */\n    static generateHydrationScript(ssrLoader) {\n        const hydrationManifest = ssrLoader.generateHydrationManifest();\n        return SSRFederationUtils.injectHydrationScript('', hydrationManifest);\n    }\n    /**\n     * Create Angular Universal render function with federation support\n     */\n    static createUniversalRenderFunction(originalRenderFn, manifestPath) {\n        return async function renderWithFederation(options) {\n            // Initialize SSR loader\n            // TODO: versionManager should be provided via DI\n            const ssrLoader = AngularSSRHelpers.setupSSRLoader(null, manifestPath);\n            // Add to options so components can access it\n            options.ssrLoader = ssrLoader;\n            // Call original render function\n            const result = await originalRenderFn(options);\n            // Inject hydration script\n            if (typeof result === 'string') {\n                const hydrationScript = AngularSSRHelpers.generateHydrationScript(ssrLoader);\n                return SSRFederationUtils.injectHydrationScript(result, ssrLoader.generateHydrationManifest());\n            }\n            return result;\n        };\n    }\n}\n/**\n * Provider for Angular app configuration\n */\nexport function createSSRFederationProviders(manifestPath) {\n    return [\n        SSRFederationService,\n        {\n            provide: 'NF_MANIFEST_PATH',\n            useValue: manifestPath || './federation.manifest.json'\n        }\n    ];\n}\n/**\n * Angular Universal Federation Provider\n */\nexport const AngularUniversalFederationProvider = {\n    provide: SSRFederationService,\n    useClass: SSRFederationService\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3NyLWludGVncmF0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmF0aXZlLWZlZGVyYXRpb24vc3JjL2xpYi9hbmd1bGFyL3Nzci1pbnRlZ3JhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDaEUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLGdCQUFnQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdEUsT0FBTyxFQUFFLFlBQVksRUFBWSxhQUFhLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdEUsT0FBTyxFQUFFLGVBQWUsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQ25GLE9BQU8sRUFBRSxlQUFlLEVBQUUscUJBQXFCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQXFIckY7O0dBRUc7QUFDSCxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxnQkFBZ0IsRUFBcUIsTUFBTSxlQUFlLENBQUM7O0FBdEh0Rjs7R0FFRztBQUlILE1BQU0sT0FBTyxvQkFBb0I7SUFDdkIsVUFBVSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUNqQyxhQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3RDLFNBQVMsR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDcEMsZUFBZSxHQUFHLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUMxQyxZQUFZLENBQW1CO0lBRXRCLG9CQUFvQixHQUFrQixZQUFZLENBQUMsY0FBYyxDQUFDLENBQUM7SUFFcEY7UUFDRSxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO1lBQ3RDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN2QixDQUFDO2FBQU0sQ0FBQztZQUNO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QVEsRUFBRSxDQUFDO2dCQUMvQixNQUFNLGVBQWUsR0FBRyxpQkFBaUIsQ0FBQyx1QkFBdUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDN0UsT0FBTyxrQkFBa0IsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLEVBQ3BELFNBQVMsQ0FBQyx5QkFBeUIsRUFBRSxDQUFDLENBQUM7WUFDM0MsQ0FBQztZQUVELE9BQU8sTUFBTSxDQUFDO1FBQ2hCLENBQUMsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQUVEOztHQUVHO0FBQ0gsTUFBTSxVQUFVLDRCQUE0QixDQUFDLFlBQXFCO0lBQ2hFLE9BQU87UUFDTCxvQkFBb0I7UUFDcEI7WUFDRSxPQUFPLEVBQUUsa0JBQWtCO1lBQzNCLFFBQVEsRUFBRSxZQUFZLElBQUksNEJBQTRCO1NBQ3ZEO0tBQ0YsQ0FBQztBQUNKLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGtDQUFrQyxHQUFHO0lBQ2hELE9BQU8sRUFBRSxvQkFBb0I7SUFDN0IsUUFBUSxFQUFFLG9CQUFvQjtDQUMvQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5qZWN0LCBJbmplY3RhYmxlLCBQTEFURk9STV9JRCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgaXNQbGF0Zm9ybUJyb3dzZXIsIGlzUGxhdGZvcm1TZXJ2ZXIgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgbWFrZVN0YXRlS2V5LCBTdGF0ZUtleSwgVHJhbnNmZXJTdGF0ZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU1NSTW9kdWxlTG9hZGVyLCBTU1JGZWRlcmF0aW9uVXRpbHMgfSBmcm9tICcuLi9ydW50aW1lL3Nzci1tb2R1bGUtbG9hZGVyJztcbmltcG9ydCB7IEh5ZHJhdGlvbkNsaWVudCwgQW5ndWxhckh5ZHJhdGlvblV0aWxzIH0gZnJvbSAnLi4vcnVudGltZS9oeWRyYXRpb24tY2xpZW50JztcblxuLyoqXG4gKiBBbmd1bGFyIHNlcnZpY2UgZm9yIE5hdGl2ZSBGZWRlcmF0aW9uIFNTUiBzdXBwb3J0XG4gKi9cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIFNTUkZlZGVyYXRpb25TZXJ2aWNlIHtcbiAgcHJpdmF0ZSBwbGF0Zm9ybUlkID0gaW5qZWN0KFBMQVRGT1JNX0lEKTtcbiAgcHJpdmF0ZSB0cmFuc2ZlclN0YXRlID0gaW5qZWN0KFRyYW5zZmVyU3RhdGUpO1xuICBwcml2YXRlIHNzckxvYWRlciA9IGluamVjdChTU1JNb2R1bGVMb2FkZXIpO1xuICBwcml2YXRlIGh5ZHJhdGlvbkNsaWVudCA9IGluamVjdChIeWRyYXRpb25DbGllbnQpO1xuICBwcml2YXRlIGNsaWVudExvYWRlcj86IEh5ZHJhdGlvbkNsaWVudDtcblxuICBwcml2YXRlIHJlYWRvbmx5IEZFREVSQVRJT05fU1RBVEVfS0VZOiBTdGF0ZUtleTxhbnk+ID0gbWFrZVN0YXRlS2V5KCdORl9TU1JfU1RBVEUnKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAoaXNQbGF0Zm9ybVNlcnZlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICB0aGlzLmluaXRpYWxpemVTU1IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0aWFsaXplQ2xpZW50KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgcmVtb3RlIG1vZHVsZSB3aXRoIFNTUi9oeWRyYXRpb24gc3VwcG9ydFxuICAgKi9cbiAgYXN5bmMgbG9hZFJlbW90ZU1vZHVsZTxUID0gYW55PihcbiAgICByZW1vdGVOYW1lOiBzdHJpbmcsIFxuICAgIG1vZHVsZVBhdGg6IHN0cmluZ1xuICApOiBQcm9taXNlPFQ+IHtcbiAgICBpZiAoaXNQbGF0Zm9ybVNlcnZlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2FkUmVtb3RlTW9kdWxlU1NSKHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2FkUmVtb3RlTW9kdWxlQ2xpZW50KHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHNoYXJlZCBtb2R1bGUgd2l0aCBTU1IvaHlkcmF0aW9uIHN1cHBvcnRcbiAgICovXG4gIGFzeW5jIGxvYWRTaGFyZWRNb2R1bGU8VCA9IGFueT4ocGFja2FnZU5hbWU6IHN0cmluZyk6IFByb21pc2U8VD4ge1xuICAgIGlmIChpc1BsYXRmb3JtU2VydmVyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNzckxvYWRlciEubG9hZFNoYXJlZE1vZHVsZShwYWNrYWdlTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmNsaWVudExvYWRlciEubG9hZFNoYXJlZE1vZHVsZShwYWNrYWdlTmFtZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIG1vZHVsZSB3YXMgc2VydmVyLXJlbmRlcmVkXG4gICAqL1xuICB3YXNTZXJ2ZXJSZW5kZXJlZChyZW1vdGVOYW1lOiBzdHJpbmcsIG1vZHVsZVBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmIChpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnRMb2FkZXI/Lndhc1NlcnZlclJlbmRlcmVkKHJlbW90ZU5hbWUsIG1vZHVsZVBhdGgpIHx8IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IFNTUiBjb250ZW50IGZvciBhIHJlbW90ZSBtb2R1bGUgKHNlcnZlci1zaWRlIG9ubHkpXG4gICAqL1xuICBhc3luYyBnZXRTU1JDb250ZW50KHJlbW90ZU5hbWU6IHN0cmluZywgbW9kdWxlUGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgaWYgKGlzUGxhdGZvcm1TZXJ2ZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zc3JMb2FkZXIhLmxvYWRSZW1vdGVNb2R1bGUocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gICAgICAgIHJldHVybiByZXN1bHQuc3NyQ29udGVudCB8fCBudWxsO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBbU1NSXSBGYWlsZWQgdG8gZ2V0IFNTUiBjb250ZW50IGZvciAke3JlbW90ZU5hbWV9JHttb2R1bGVQYXRofTpgLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVNTUigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBTU1JNb2R1bGVMb2FkZXIgaXMgaW5qZWN0ZWQgdmlhIERJXG4gICAgYXdhaXQgdGhpcy5zc3JMb2FkZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplQ2xpZW50KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIEh5ZHJhdGlvbkNsaWVudCBpcyBpbmplY3RlZCB2aWEgRElcbiAgICB0aGlzLmNsaWVudExvYWRlciA9IGF3YWl0IEFuZ3VsYXJIeWRyYXRpb25VdGlscy5pbml0aWFsaXplRm9yQW5ndWxhclNTUih0aGlzLmh5ZHJhdGlvbkNsaWVudCwgJy4vZmVkZXJhdGlvbi5tYW5pZmVzdC5qc29uJyk7XG4gICAgXG4gICAgLy8gUmVzdG9yZSBTU1Igc3RhdGUgZnJvbSBUcmFuc2ZlclN0YXRlXG4gICAgY29uc3Qgc3NyU3RhdGUgPSB0aGlzLnRyYW5zZmVyU3RhdGUuZ2V0KHRoaXMuRkVERVJBVElPTl9TVEFURV9LRVksIG51bGwpO1xuICAgIGlmIChzc3JTdGF0ZSkge1xuICAgICAgLy8gUHJvY2VzcyBhbnkgU1NSIHN0YXRlIGlmIG5lZWRlZFxuICAgICAgY29uc29sZS5sb2coJ1tORl0gUmVzdG9yZWQgU1NSIHN0YXRlOicsIHNzclN0YXRlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRSZW1vdGVNb2R1bGVTU1I8VCA9IGFueT4oXG4gICAgcmVtb3RlTmFtZTogc3RyaW5nLCBcbiAgICBtb2R1bGVQYXRoOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zc3JMb2FkZXIhLmxvYWRSZW1vdGVNb2R1bGUocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gICAgXG4gICAgLy8gU3RvcmUgaHlkcmF0aW9uIGRhdGEgaW4gVHJhbnNmZXJTdGF0ZSBmb3IgY2xpZW50XG4gICAgaWYgKHJlc3VsdC5oeWRyYXRpb25EYXRhKSB7XG4gICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLnRyYW5zZmVyU3RhdGUuZ2V0KHRoaXMuRkVERVJBVElPTl9TVEFURV9LRVksIHt9KTtcbiAgICAgIGN1cnJlbnRTdGF0ZVtgJHtyZW1vdGVOYW1lfSR7bW9kdWxlUGF0aH1gXSA9IHJlc3VsdC5oeWRyYXRpb25EYXRhO1xuICAgICAgdGhpcy50cmFuc2ZlclN0YXRlLnNldCh0aGlzLkZFREVSQVRJT05fU1RBVEVfS0VZLCBjdXJyZW50U3RhdGUpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0Lm1vZHVsZTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbG9hZFJlbW90ZU1vZHVsZUNsaWVudDxUID0gYW55PihcbiAgICByZW1vdGVOYW1lOiBzdHJpbmcsIFxuICAgIG1vZHVsZVBhdGg6IHN0cmluZ1xuICApOiBQcm9taXNlPFQ+IHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRMb2FkZXIhLmxvYWRSZW1vdGVNb2R1bGUocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBbmd1bGFyIGRpcmVjdGl2ZSBmb3IgbG9hZGluZyBmZWRlcmF0ZWQgY29tcG9uZW50cyB3aXRoIFNTUiBzdXBwb3J0XG4gKi9cbmltcG9ydCB7IERpcmVjdGl2ZSwgSW5wdXQsIFZpZXdDb250YWluZXJSZWYsIE9uSW5pdCwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tuZkxvYWRDb21wb25lbnRdJyxcbiAgc3RhbmRhbG9uZTogdHJ1ZVxufSlcbmV4cG9ydCBjbGFzcyBMb2FkRmVkZXJhdGVkQ29tcG9uZW50RGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKSBuZkxvYWRDb21wb25lbnQhOiBzdHJpbmc7IC8vIEZvcm1hdDogXCJyZW1vdGVOYW1lL21vZHVsZVBhdGhcIlxuICBASW5wdXQoKSBuZkZhbGxiYWNrPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgZmVkZXJhdGlvblNlcnZpY2UgPSBpbmplY3QoU1NSRmVkZXJhdGlvblNlcnZpY2UpO1xuICBwcml2YXRlIHZpZXdDb250YWluZXIgPSBpbmplY3QoVmlld0NvbnRhaW5lclJlZik7XG5cbiAgYXN5bmMgbmdPbkluaXQoKSB7XG4gICAgaWYgKCF0aGlzLm5mTG9hZENvbXBvbmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IFtyZW1vdGVOYW1lLCAuLi5tb2R1bGVQYXRoUGFydHNdID0gdGhpcy5uZkxvYWRDb21wb25lbnQuc3BsaXQoJy8nKTtcbiAgICBjb25zdCBtb2R1bGVQYXRoID0gJy4vJyArIG1vZHVsZVBhdGhQYXJ0cy5qb2luKCcvJyk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgaWYgY29tcG9uZW50IHdhcyBzZXJ2ZXItcmVuZGVyZWRcbiAgICAgIGlmICgodGhpcy5mZWRlcmF0aW9uU2VydmljZSBhcyBhbnkpLndhc1NlcnZlclJlbmRlcmVkPy4ocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCkpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtORl0gQ29tcG9uZW50ICR7dGhpcy5uZkxvYWRDb21wb25lbnR9IHdhcyBzZXJ2ZXItcmVuZGVyZWQsIGh5ZHJhdGluZy4uLmApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtb2R1bGUgPSBhd2FpdCAodGhpcy5mZWRlcmF0aW9uU2VydmljZSBhcyBhbnkpLmxvYWRSZW1vdGVNb2R1bGUocmVtb3RlTmFtZSwgbW9kdWxlUGF0aCk7XG4gICAgICBcbiAgICAgIC8vIEFzc3VtZSB0aGUgbW9kdWxlIGV4cG9ydHMgYSBjb21wb25lbnQgYXMgZGVmYXVsdFxuICAgICAgY29uc3QgY29tcG9uZW50ID0gbW9kdWxlLmRlZmF1bHQgfHwgbW9kdWxlO1xuICAgICAgXG4gICAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMudmlld0NvbnRhaW5lci5jcmVhdGVDb21wb25lbnQoY29tcG9uZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyRmFsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgW05GXSBGYWlsZWQgdG8gbG9hZCBjb21wb25lbnQgJHt0aGlzLm5mTG9hZENvbXBvbmVudH06YCwgZXJyb3IpO1xuICAgICAgdGhpcy5yZW5kZXJGYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMudmlld0NvbnRhaW5lci5jbGVhcigpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJGYWxsYmFjaygpIHtcbiAgICBpZiAodGhpcy5uZkZhbGxiYWNrKSB7XG4gICAgICAvLyBSZW5kZXIgZmFsbGJhY2sgdGVtcGxhdGVcbiAgICAgIHRoaXMudmlld0NvbnRhaW5lci5jbGVhcigpO1xuICAgICAgLy8gWW91IHdvdWxkIGltcGxlbWVudCBmYWxsYmFjayByZW5kZXJpbmcgbG9naWMgaGVyZVxuICAgICAgY29uc29sZS5sb2coYFtORl0gUmVuZGVyaW5nIGZhbGxiYWNrIGZvciAke3RoaXMubmZMb2FkQ29tcG9uZW50fTogJHt0aGlzLm5mRmFsbGJhY2t9YCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQW5ndWxhciBoZWxwZXIgZnVuY3Rpb25zIGZvciBTU1Igc2V0dXBcbiAqL1xuZXhwb3J0IGNsYXNzIEFuZ3VsYXJTU1JIZWxwZXJzIHtcbiAgLyoqXG4gICAqIFNldHVwIFNTUiBtb2R1bGUgbG9hZGVyIGluIEFuZ3VsYXIgVW5pdmVyc2FsXG4gICAqL1xuICBzdGF0aWMgc2V0dXBTU1JMb2FkZXIodmVyc2lvbk1hbmFnZXI6IGFueSwgbWFuaWZlc3RQYXRoPzogc3RyaW5nKTogU1NSTW9kdWxlTG9hZGVyIHtcbiAgICBjb25zdCBsb2FkZXIgPSBuZXcgU1NSTW9kdWxlTG9hZGVyKHZlcnNpb25NYW5hZ2VyLCB7XG4gICAgICBtYW5pZmVzdFBhdGhcbiAgICB9KTtcbiAgICByZXR1cm4gbG9hZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGh5ZHJhdGlvbiBzY3JpcHQgZm9yIEFuZ3VsYXIgVW5pdmVyc2FsXG4gICAqL1xuICBzdGF0aWMgZ2VuZXJhdGVIeWRyYXRpb25TY3JpcHQoc3NyTG9hZGVyOiBTU1JNb2R1bGVMb2FkZXIpOiBzdHJpbmcge1xuICAgIGNvbnN0IGh5ZHJhdGlvbk1hbmlmZXN0ID0gc3NyTG9hZGVyLmdlbmVyYXRlSHlkcmF0aW9uTWFuaWZlc3QoKTtcbiAgICByZXR1cm4gU1NSRmVkZXJhdGlvblV0aWxzLmluamVjdEh5ZHJhdGlvblNjcmlwdCgnJywgaHlkcmF0aW9uTWFuaWZlc3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBBbmd1bGFyIFVuaXZlcnNhbCByZW5kZXIgZnVuY3Rpb24gd2l0aCBmZWRlcmF0aW9uIHN1cHBvcnRcbiAgICovXG4gIHN0YXRpYyBjcmVhdGVVbml2ZXJzYWxSZW5kZXJGdW5jdGlvbihcbiAgICBvcmlnaW5hbFJlbmRlckZuOiBGdW5jdGlvbixcbiAgICBtYW5pZmVzdFBhdGg/OiBzdHJpbmdcbiAgKSB7XG4gICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHJlbmRlcldpdGhGZWRlcmF0aW9uKG9wdGlvbnM6IGFueSkge1xuICAgICAgLy8gSW5pdGlhbGl6ZSBTU1IgbG9hZGVyXG4gICAgICAvLyBUT0RPOiB2ZXJzaW9uTWFuYWdlciBzaG91bGQgYmUgcHJvdmlkZWQgdmlhIERJXG4gICAgICBjb25zdCBzc3JMb2FkZXIgPSBBbmd1bGFyU1NSSGVscGVycy5zZXR1cFNTUkxvYWRlcihudWxsIGFzIGFueSwgbWFuaWZlc3RQYXRoKTtcbiAgICAgIFxuICAgICAgLy8gQWRkIHRvIG9wdGlvbnMgc28gY29tcG9uZW50cyBjYW4gYWNjZXNzIGl0XG4gICAgICBvcHRpb25zLnNzckxvYWRlciA9IHNzckxvYWRlcjtcbiAgICAgIFxuICAgICAgLy8gQ2FsbCBvcmlnaW5hbCByZW5kZXIgZnVuY3Rpb25cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9yaWdpbmFsUmVuZGVyRm4ob3B0aW9ucyk7XG4gICAgICBcbiAgICAgIC8vIEluamVjdCBoeWRyYXRpb24gc2NyaXB0XG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgaHlkcmF0aW9uU2NyaXB0ID0gQW5ndWxhclNTUkhlbHBlcnMuZ2VuZXJhdGVIeWRyYXRpb25TY3JpcHQoc3NyTG9hZGVyKTtcbiAgICAgICAgcmV0dXJuIFNTUkZlZGVyYXRpb25VdGlscy5pbmplY3RIeWRyYXRpb25TY3JpcHQocmVzdWx0LCBcbiAgICAgICAgICBzc3JMb2FkZXIuZ2VuZXJhdGVIeWRyYXRpb25NYW5pZmVzdCgpKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIEFuZ3VsYXIgYXBwIGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNTUkZlZGVyYXRpb25Qcm92aWRlcnMobWFuaWZlc3RQYXRoPzogc3RyaW5nKSB7XG4gIHJldHVybiBbXG4gICAgU1NSRmVkZXJhdGlvblNlcnZpY2UsXG4gICAge1xuICAgICAgcHJvdmlkZTogJ05GX01BTklGRVNUX1BBVEgnLFxuICAgICAgdXNlVmFsdWU6IG1hbmlmZXN0UGF0aCB8fCAnLi9mZWRlcmF0aW9uLm1hbmlmZXN0Lmpzb24nXG4gICAgfVxuICBdO1xufVxuXG4vKipcbiAqIEFuZ3VsYXIgVW5pdmVyc2FsIEZlZGVyYXRpb24gUHJvdmlkZXJcbiAqL1xuZXhwb3J0IGNvbnN0IEFuZ3VsYXJVbml2ZXJzYWxGZWRlcmF0aW9uUHJvdmlkZXIgPSB7XG4gIHByb3ZpZGU6IFNTUkZlZGVyYXRpb25TZXJ2aWNlLFxuICB1c2VDbGFzczogU1NSRmVkZXJhdGlvblNlcnZpY2Vcbn07Il19","originalSourcemap":{"version":3,"file":"ssr-integration.js","sourceRoot":"","sources":["../../../../../projects/native-federation/src/lib/angular/ssr-integration.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[15,0,0,15],[17,0,0,17],[27,0,0,27],[29,0,0,29],[40,0,0,40],[42,0,0,42],[48,0,0,48],[63,0,0,63],[64,0,0,64]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[26,0,1,26],[28,0,1,28],[44,0,1,44],[46,0,1,46],[52,0,1,52],[69,0,1,69],[70,0,1,70]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[21,0,2,21],[23,0,2,33],[36,0,2,46],[38,0,2,48],[44,0,2,54],[59,0,2,69],[60,0,2,70]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[24,0,3,24],[26,0,3,26],[44,0,3,44],[46,0,3,46],[52,0,3,52],[82,0,3,82],[83,0,3,83]],[[0,0,4,0],[7,0,4,7],[9,0,4,9],[24,0,4,24],[26,0,4,26],[47,0,4,47],[49,0,4,49],[55,0,4,55],[84,0,4,84],[85,0,4,85]],[[0,0,121,0]],[],[[3,0,123,3]],[[0,0,124,0],[7,0,124,7],[9,0,124,9],[18,0,124,18],[20,0,124,20],[25,0,124,25],[27,0,124,27],[43,0,124,43],[45,0,124,64],[51,0,124,70],[66,0,124,85],[67,0,124,86]],[],[[0,0,6,0]],[],[[3,0,8,3]],[[0,0,12,0],[6,0,12,6],[13,0,12,13],[33,0,12,33]],[[4,0,13,10],[14,0,13,20],[17,0,13,23],[23,0,13,29],[24,0,13,30],[35,0,13,41],[36,0,13,42],[37,0,13,43]],[[4,0,14,10],[17,0,14,23],[20,0,14,26],[26,0,14,32],[27,0,14,33],[40,0,14,46],[41,0,14,47],[42,0,14,48]],[[4,0,15,10],[13,0,15,19],[16,0,15,22],[22,0,15,28],[23,0,15,29],[38,0,15,44],[39,0,15,45],[40,0,15,46]],[[4,0,16,10],[19,0,16,25],[22,0,16,28],[28,0,16,34],[29,0,16,35],[44,0,16,50],[45,0,16,51],[46,0,16,52]],[[4,0,17,10],[16,0,17,22],[17,0,17,41]],[[4,0,19,19],[24,0,19,39],[27,0,19,57],[39,0,19,69],[40,0,19,70],[54,0,19,84],[55,0,19,85],[56,0,19,86]],[[4,0,21,2]],[[8,0,22,4],[12,0,22,8],[28,0,22,24],[29,0,22,25],[33,0,22,29],[34,0,22,30],[44,0,22,40],[45,0,22,41],[47,0,22,43],[48,0,22,44]],[[12,0,23,6],[16,0,23,10],[17,0,23,11],[30,0,23,24],[32,0,23,26],[33,0,23,27]],[[8,0,24,4],[9,0,24,5]],[[13,0,24,11],[14,0,24,12]],[[12,0,25,6],[16,0,25,10],[17,0,25,11],[33,0,25,27],[35,0,25,29],[36,0,25,30]],[[8,0,26,4],[9,0,26,5]],[[4,0,27,2],[5,0,27,3]],[[4,0,29,2]],[],[[7,0,31,5]],[[4,0,32,2],[9,0,32,7],[10,0,32,8],[26,0,32,24],[27,0,33,4],[37,0,33,22],[39,0,34,4],[49,0,34,22]],[[8,0,36,4],[12,0,36,8],[28,0,36,24],[29,0,36,25],[33,0,36,29],[34,0,36,30],[44,0,36,40],[45,0,36,41],[47,0,36,43],[48,0,36,44]],[[12,0,37,6],[19,0,37,13],[23,0,37,17],[24,0,37,18],[43,0,37,37],[44,0,37,38],[54,0,37,48],[56,0,37,50],[66,0,37,60],[67,0,37,61],[68,0,37,62]],[[8,0,38,4],[9,0,38,5]],[[13,0,38,11],[14,0,38,12]],[[12,0,39,6],[19,0,39,13],[23,0,39,17],[24,0,39,18],[46,0,39,40],[47,0,39,41],[57,0,39,51],[59,0,39,53],[69,0,39,63],[70,0,39,64],[71,0,39,65]],[[8,0,40,4],[9,0,40,5]],[[4,0,41,2],[5,0,41,3]],[[4,0,43,2]],[],[[7,0,45,5]],[[4,0,46,2],[9,0,46,7],[10,0,46,8],[26,0,46,24],[27,0,46,34],[38,0,46,53]],[[8,0,47,4],[12,0,47,8],[28,0,47,24],[29,0,47,25],[33,0,47,29],[34,0,47,30],[44,0,47,40],[45,0,47,41],[47,0,47,43],[48,0,47,44]],[[12,0,48,6],[19,0,48,13],[23,0,48,17],[24,0,48,18],[33,0,48,28],[34,0,48,29],[50,0,48,45],[51,0,48,46],[62,0,48,57],[63,0,48,58],[64,0,48,59]],[[8,0,49,4],[9,0,49,5]],[[13,0,49,11],[14,0,49,12]],[[12,0,50,6],[19,0,50,13],[23,0,50,17],[24,0,50,18],[36,0,50,31],[37,0,50,32],[53,0,50,48],[54,0,50,49],[65,0,50,60],[66,0,50,61],[67,0,50,62]],[[8,0,51,4],[9,0,51,5]],[[4,0,52,2],[5,0,52,3]],[[4,0,54,2]],[],[[7,0,56,5]],[[4,0,57,2],[21,0,57,19],[22,0,57,20],[32,0,57,38],[34,0,57,40],[44,0,57,58]],[[8,0,58,4],[12,0,58,8],[29,0,58,25],[30,0,58,26],[34,0,58,30],[35,0,58,31],[45,0,58,41],[46,0,58,42],[48,0,58,44],[49,0,58,45]],[[12,0,59,6],[19,0,59,13],[23,0,59,17],[24,0,59,18],[36,0,59,30],[38,0,59,32],[55,0,59,49],[56,0,59,50],[66,0,59,60],[68,0,59,62],[78,0,59,72],[79,0,59,73],[83,0,59,77],[88,0,59,82],[89,0,59,83]],[[8,0,60,4],[9,0,60,5]],[[8,0,61,4],[15,0,61,11],[20,0,61,16],[21,0,61,17]],[[4,0,62,2],[5,0,62,3]],[[4,0,64,2]],[],[[7,0,66,5]],[[4,0,67,2],[9,0,67,7],[10,0,67,8],[23,0,67,21],[24,0,67,22],[34,0,67,40],[36,0,67,42],[46,0,67,60]],[[8,0,68,4],[12,0,68,8],[28,0,68,24],[29,0,68,25],[33,0,68,29],[34,0,68,30],[44,0,68,40],[45,0,68,41],[47,0,68,43],[48,0,68,44]],[[12,0,69,6],[16,0,69,10],[17,0,69,11]],[[16,0,70,8],[22,0,70,14],[28,0,70,20],[31,0,70,23],[37,0,70,29],[41,0,70,33],[42,0,70,34],[51,0,70,44],[52,0,70,45],[68,0,70,61],[69,0,70,62],[79,0,70,72],[81,0,70,74],[91,0,70,84],[92,0,70,85],[93,0,70,86]],[[16,0,71,8],[23,0,71,15],[29,0,71,21],[30,0,71,22],[40,0,71,32],[44,0,71,36],[48,0,71,40],[49,0,71,41]],[[12,0,72,6],[13,0,72,7]],[[12,0,72,8],[19,0,72,15],[24,0,72,20],[26,0,72,22],[27,0,72,23]],[[16,0,73,8],[23,0,73,15],[24,0,73,16],[28,0,73,20],[29,0,73,21],[68,0,73,60],[78,0,73,70],[81,0,73,73],[91,0,73,83],[94,0,73,86],[96,0,73,88],[101,0,73,93],[102,0,73,94],[103,0,73,95]],[[16,0,74,8],[23,0,74,15],[27,0,74,19],[28,0,74,20]],[[12,0,75,6],[13,0,75,7]],[[8,0,76,4],[9,0,76,5]],[[8,0,77,4],[15,0,77,11],[19,0,77,15],[20,0,77,16]],[[4,0,78,2],[5,0,78,3]],[[4,0,80,10],[9,0,80,15],[10,0,80,16],[23,0,80,29]],[[8,0,81,4],[45,0,81,41]],[[8,0,82,4],[14,0,82,10],[18,0,82,14],[19,0,82,15],[28,0,82,24],[29,0,82,25],[39,0,82,35],[41,0,82,37],[42,0,82,38]],[[4,0,83,2],[5,0,83,3]],[[4,0,85,10],[9,0,85,15],[10,0,85,16],[26,0,85,32]],[[8,0,86,4],[45,0,86,41]],[[8,0,87,4],[12,0,87,8],[13,0,87,9],[25,0,87,21],[28,0,87,24],[34,0,87,30],[55,0,87,51],[56,0,87,52],[79,0,87,75],[80,0,87,76],[84,0,87,80],[85,0,87,81],[100,0,87,96],[102,0,87,98],[130,0,87,126],[131,0,87,127],[132,0,87,128]],[[8,0,89,4],[47,0,89,43]],[[8,0,90,4],[14,0,90,10],[22,0,90,18],[25,0,90,21],[29,0,90,25],[30,0,90,26],[43,0,90,39],[44,0,90,40],[47,0,90,43],[48,0,90,44],[52,0,90,48],[53,0,90,49],[73,0,90,69],[75,0,90,71],[79,0,90,75],[80,0,90,76],[81,0,90,77]],[[8,0,91,4],[12,0,91,8],[20,0,91,16],[22,0,91,18],[23,0,91,19]],[[12,0,92,6],[46,0,92,40]],[[12,0,93,6],[19,0,93,13],[20,0,93,14],[23,0,93,17],[24,0,93,18],[50,0,93,44],[52,0,93,46],[60,0,93,54],[61,0,93,55],[62,0,93,56]],[[8,0,94,4],[9,0,94,5]],[[4,0,95,2],[5,0,95,3]],[[4,0,97,10],[9,0,97,15],[10,0,97,16],[29,0,97,35],[30,0,98,4],[40,0,98,22],[42,0,99,4],[52,0,99,22]],[[8,0,101,4],[14,0,101,10],[20,0,101,16],[23,0,101,19],[29,0,101,25],[33,0,101,29],[34,0,101,30],[43,0,101,40],[44,0,101,41],[60,0,101,57],[61,0,101,58],[71,0,101,68],[73,0,101,70],[83,0,101,80],[84,0,101,81],[85,0,101,82]],[[8,0,103,4],[59,0,103,55]],[[8,0,104,4],[12,0,104,8],[18,0,104,14],[19,0,104,15],[32,0,104,28],[34,0,104,30],[35,0,104,31]],[[12,0,105,6],[18,0,105,12],[30,0,105,24],[33,0,105,27],[37,0,105,31],[38,0,105,32],[51,0,105,45],[52,0,105,46],[55,0,105,49],[56,0,105,50],[60,0,105,54],[61,0,105,55],[81,0,105,75],[83,0,105,77],[85,0,105,79],[86,0,105,80],[87,0,105,81]],[[12,0,106,6],[24,0,106,18],[25,0,106,19],[28,0,106,22],[38,0,106,32],[41,0,106,35],[51,0,106,45],[53,0,106,47],[54,0,106,48],[57,0,106,51],[63,0,106,57],[64,0,106,58],[77,0,106,71],[78,0,106,72]],[[12,0,107,6],[16,0,107,10],[17,0,107,11],[30,0,107,24],[31,0,107,25],[34,0,107,28],[35,0,107,29],[39,0,107,33],[40,0,107,34],[60,0,107,54],[62,0,107,56],[74,0,107,68],[75,0,107,69],[76,0,107,70]],[[8,0,108,4],[9,0,108,5]],[[8,0,110,4],[15,0,110,11],[21,0,110,17],[22,0,110,18],[28,0,110,24],[29,0,110,25]],[[4,0,111,2],[5,0,111,3]],[[4,0,113,10],[9,0,113,15],[10,0,113,16],[32,0,113,38],[33,0,114,4],[43,0,114,22],[45,0,115,4],[55,0,115,22]],[[8,0,117,4],[15,0,117,11],[19,0,117,15],[20,0,117,16],[32,0,117,29],[33,0,117,30],[49,0,117,46],[50,0,117,47],[60,0,117,57],[62,0,117,59],[72,0,117,69],[73,0,117,70],[74,0,117,71]],[[4,0,118,2],[5,0,118,3]],[[104,0,12,13],[124,0,12,33]],[[108,0,12,13],[128,0,12,33],[142,0,10,14],[148,0,10,20]],[],[[92,0,12,13],[112,0,12,33]],[[18,0,9,1],[28,0,9,11]],[[19,0,9,12]],[[20,0,10,2],[30,0,10,12],[32,0,10,14],[38,0,10,20]],[[17,0,11,1]],[],[[0,0,130,0],[6,0,130,6],[13,0,130,13],[44,0,130,44]],[[4,0,131,11],[19,0,131,26],[20,0,131,36],[21,0,131,37],[55,0,131,71]],[[4,0,132,11],[14,0,132,21],[15,0,132,31]],[[4,0,134,10],[21,0,134,27],[24,0,134,30],[30,0,134,36],[31,0,134,37],[51,0,134,57],[52,0,134,58],[53,0,134,59]],[[4,0,135,10],[17,0,135,23],[20,0,135,26],[26,0,135,32],[27,0,135,33],[43,0,135,49],[44,0,135,50],[45,0,135,51]],[[4,0,137,2],[9,0,137,7],[10,0,137,8],[18,0,137,16]],[[8,0,138,4],[12,0,138,8],[13,0,138,9],[17,0,138,13],[18,0,138,14],[33,0,138,29],[35,0,138,31],[36,0,138,32]],[[12,0,139,6],[19,0,139,13]],[[8,0,140,4],[9,0,140,5]],[[8,0,142,4],[14,0,142,10],[15,0,142,11],[25,0,142,21],[27,0,142,23],[30,0,142,26],[45,0,142,41],[46,0,142,42],[49,0,142,45],[53,0,142,49],[54,0,142,50],[69,0,142,65],[70,0,142,66],[75,0,142,71],[76,0,142,72],[79,0,142,75],[80,0,142,76],[81,0,142,77]],[[8,0,143,4],[14,0,143,10],[24,0,143,20],[27,0,143,23],[31,0,143,27],[34,0,143,30],[49,0,143,45],[50,0,143,46],[54,0,143,50],[55,0,143,51],[58,0,143,54],[59,0,143,55],[60,0,143,56]],[[8,0,145,4],[12,0,145,8],[13,0,145,9]],[[12,0,146,6],[53,0,146,47]],[[12,0,147,6],[16,0,147,11],[20,0,147,15],[21,0,147,16],[38,0,147,41],[39,0,147,42],[56,0,147,59],[58,0,147,61],[59,0,147,62],[69,0,147,72],[71,0,147,74],[81,0,147,84],[82,0,147,85],[84,0,147,87],[85,0,147,88]],[[16,0,148,8],[23,0,148,15],[24,0,148,16],[27,0,148,19],[28,0,148,20],[46,0,148,38],[50,0,148,42],[51,0,148,43],[66,0,148,58],[102,0,148,94],[103,0,148,95],[104,0,148,96]],[[12,0,149,6],[13,0,149,7]],[[12,0,151,6],[18,0,151,12],[24,0,151,18],[27,0,151,21],[33,0,151,28],[37,0,151,32],[38,0,151,33],[55,0,151,58],[56,0,151,59],[72,0,151,75],[73,0,151,76],[83,0,151,86],[85,0,151,88],[95,0,151,98],[96,0,151,99],[97,0,151,100]],[[12,0,153,6],[63,0,153,57]],[[12,0,154,6],[18,0,154,12],[27,0,154,21],[30,0,154,24],[36,0,154,30],[37,0,154,31],[44,0,154,38],[48,0,154,42],[54,0,154,48],[55,0,154,49]],[[12,0,156,6],[16,0,156,10],[25,0,156,19],[27,0,156,21],[28,0,156,22]],[[16,0,157,8],[20,0,157,12],[21,0,157,13],[34,0,157,26],[35,0,157,27],[50,0,157,42],[51,0,157,43],[60,0,157,52],[61,0,157,53],[62,0,157,54]],[[12,0,158,6],[13,0,158,7]],[[17,0,158,13],[18,0,158,14]],[[16,0,159,8],[20,0,159,12],[21,0,159,13],[35,0,159,27],[37,0,159,29],[38,0,159,30]],[[12,0,160,6],[13,0,160,7]],[[8,0,161,4],[9,0,161,5]],[[8,0,161,6],[15,0,161,13],[20,0,161,18],[22,0,161,20],[23,0,161,21]],[[12,0,162,6],[19,0,162,13],[20,0,162,14],[25,0,162,19],[26,0,162,20],[59,0,162,53],[63,0,162,57],[64,0,162,58],[79,0,162,73],[82,0,162,76],[84,0,162,78],[89,0,162,83],[90,0,162,84],[91,0,162,85]],[[12,0,163,6],[16,0,163,10],[17,0,163,11],[31,0,163,25],[33,0,163,27],[34,0,163,28]],[[8,0,164,4],[9,0,164,5]],[[4,0,165,2],[5,0,165,3]],[[4,0,167,2],[15,0,167,13]],[[8,0,168,4],[12,0,168,8],[13,0,168,9],[26,0,168,22],[27,0,168,23],[32,0,168,28],[34,0,168,30],[35,0,168,31]],[[4,0,169,2],[5,0,169,3]],[[4,0,171,10],[18,0,171,24]],[[8,0,172,4],[12,0,172,8],[16,0,172,12],[17,0,172,13],[27,0,172,23],[29,0,172,25],[30,0,172,26]],[[12,0,173,6],[39,0,173,33]],[[12,0,174,6],[16,0,174,10],[17,0,174,11],[30,0,174,24],[31,0,174,25],[36,0,174,30],[38,0,174,32],[39,0,174,33]],[[12,0,175,6],[64,0,175,58]],[[12,0,176,6],[19,0,176,13],[20,0,176,14],[23,0,176,17],[24,0,176,18],[55,0,176,49],[59,0,176,53],[60,0,176,54],[75,0,176,69],[80,0,176,74],[84,0,176,78],[85,0,176,79],[95,0,176,89],[97,0,176,91],[98,0,176,92],[99,0,176,93]],[[8,0,177,4],[9,0,177,5]],[[4,0,178,2],[5,0,178,3]],[[104,0,130,13],[135,0,130,44]],[[92,0,130,13],[123,0,130,44]],[],[[92,0,130,13],[123,0,130,44]],[[18,0,126,1],[27,0,126,10]],[[19,0,126,11]],[[20,0,127,2],[28,0,127,10],[30,0,127,12],[49,0,127,31]],[[20,0,128,2],[30,0,128,12],[32,0,128,14],[36,0,128,18]],[[17,0,129,1]],[[30,0,131,11],[45,0,131,26]],[[22,0,131,3],[27,0,131,8]],[[16,0,132,11],[26,0,132,21]],[[22,0,132,3],[27,0,132,8]],[],[[0,0,181,0]],[],[[3,0,183,3]],[[0,0,184,0],[6,0,184,6],[13,0,184,13],[30,0,184,30]],[[4,0,185,2]],[],[[7,0,187,5]],[[4,0,188,2],[10,0,188,8],[11,0,188,9],[25,0,188,23],[26,0,188,24],[40,0,188,43],[42,0,188,45],[54,0,188,66]],[[8,0,189,4],[14,0,189,10],[20,0,189,16],[23,0,189,19],[27,0,189,23],[42,0,189,38],[43,0,189,39],[57,0,189,53],[59,0,189,55]],[[12,0,190,6],[24,0,190,18]],[[9,0,191,5],[10,0,191,6],[11,0,191,7]],[[8,0,192,4],[15,0,192,11],[21,0,192,17],[22,0,192,18]],[[4,0,193,2],[5,0,193,3]],[[4,0,195,2]],[],[[7,0,197,5]],[[4,0,198,2],[10,0,198,8],[11,0,198,9],[34,0,198,32],[35,0,198,33],[44,0,198,59]],[[8,0,199,4],[14,0,199,10],[31,0,199,27],[34,0,199,30],[43,0,199,39],[44,0,199,40],[69,0,199,65],[71,0,199,67],[72,0,199,68]],[[8,0,200,4],[15,0,200,11],[33,0,200,29],[34,0,200,30],[55,0,200,51],[56,0,200,52],[58,0,200,54],[60,0,200,56],[77,0,200,73],[78,0,200,74],[79,0,200,75]],[[4,0,201,2],[5,0,201,3]],[[4,0,203,2]],[],[[7,0,205,5]],[[4,0,206,2],[10,0,206,8],[11,0,206,9],[40,0,206,38],[41,0,207,4],[57,0,207,30],[59,0,208,4],[71,0,208,25]],[[8,0,210,4],[15,0,210,11],[20,0,210,16],[30,0,210,26],[50,0,210,46],[51,0,210,47],[58,0,210,59]],[[12,0,211,6],[36,0,211,30]],[[12,0,212,6],[61,0,212,55]],[[12,0,213,6],[18,0,213,12],[27,0,213,21],[30,0,213,24],[47,0,213,41],[48,0,213,42],[62,0,213,56],[63,0,213,57],[67,0,213,68],[69,0,213,70],[81,0,213,82],[82,0,213,83],[83,0,213,84]],[[12,0,215,6],[57,0,215,51]],[[12,0,216,6],[19,0,216,13],[20,0,216,14],[29,0,216,23],[32,0,216,26],[41,0,216,35],[42,0,216,36]],[[12,0,218,6],[44,0,218,38]],[[12,0,219,6],[18,0,219,12],[24,0,219,18],[27,0,219,21],[33,0,219,27],[49,0,219,43],[50,0,219,44],[57,0,219,51],[58,0,219,52],[59,0,219,53]],[[12,0,221,6],[38,0,221,32]],[[12,0,222,6],[16,0,222,10],[23,0,222,17],[29,0,222,23],[34,0,222,28],[42,0,222,36],[44,0,222,38],[45,0,222,39]],[[16,0,223,8],[22,0,223,14],[37,0,223,29],[40,0,223,32],[57,0,223,49],[58,0,223,50],[81,0,223,73],[82,0,223,74],[91,0,223,83],[92,0,223,84],[93,0,223,85]],[[16,0,224,8],[23,0,224,15],[41,0,224,33],[42,0,224,34],[63,0,224,55],[64,0,224,56],[70,0,224,62],[72,0,225,10],[81,0,225,19],[82,0,225,20],[107,0,225,45],[109,0,225,47],[110,0,225,48],[111,0,225,49]],[[12,0,226,6],[13,0,226,7]],[[12,0,228,6],[19,0,228,13],[25,0,228,19],[26,0,228,20]],[[8,0,229,4],[9,0,229,5],[10,0,229,6]],[[4,0,230,2],[5,0,230,3]],[[1,0,231,1]],[[0,0,233,0]],[],[[3,0,235,3]],[[0,0,236,0],[6,0,236,6],[16,0,236,16],[44,0,236,44],[45,0,236,45],[57,0,236,66]],[[4,0,237,2],[11,0,237,9]],[[8,0,238,4],[28,0,238,24]],[[8,0,239,4]],[[12,0,240,6],[19,0,240,13],[21,0,240,15],[39,0,240,33]],[[12,0,241,6],[20,0,241,14],[22,0,241,16],[34,0,241,28],[38,0,241,32],[66,0,241,60]],[[9,0,242,5]],[[5,0,243,3],[6,0,243,4]],[[0,0,244,0],[1,0,244,1]],[[0,0,246,0]],[],[[3,0,248,3]],[[0,0,249,0],[6,0,249,6],[7,0,249,7],[13,0,249,13],[47,0,249,47],[50,0,249,50]],[[4,0,250,2],[11,0,250,9],[13,0,250,11],[33,0,250,31]],[[4,0,251,2],[12,0,251,10],[14,0,251,12],[34,0,251,32]],[[1,0,252,1],[2,0,252,2]]],"sourcesContent":["import { inject, Injectable, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { makeStateKey, StateKey, TransferState } from '@angular/core';\nimport { SSRModuleLoader, SSRFederationUtils } from '../runtime/ssr-module-loader';\nimport { HydrationClient, AngularHydrationUtils } from '../runtime/hydration-client';\n\n/**\n * Angular service for Native Federation SSR support\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class SSRFederationService {\n  private platformId = inject(PLATFORM_ID);\n  private transferState = inject(TransferState);\n  private ssrLoader = inject(SSRModuleLoader);\n  private hydrationClient = inject(HydrationClient);\n  private clientLoader?: HydrationClient;\n\n  private readonly FEDERATION_STATE_KEY: StateKey<any> = makeStateKey('NF_SSR_STATE');\n\n  constructor() {\n    if (isPlatformServer(this.platformId)) {\n      this.initializeSSR();\n    } else {\n      this.initializeClient();\n    }\n  }\n\n  /**\n   * Load remote module with SSR/hydration support\n   */\n  async loadRemoteModule<T = any>(\n    remoteName: string, \n    modulePath: string\n  ): Promise<T> {\n    if (isPlatformServer(this.platformId)) {\n      return this.loadRemoteModuleSSR(remoteName, modulePath);\n    } else {\n      return this.loadRemoteModuleClient(remoteName, modulePath);\n    }\n  }\n\n  /**\n   * Load shared module with SSR/hydration support\n   */\n  async loadSharedModule<T = any>(packageName: string): Promise<T> {\n    if (isPlatformServer(this.platformId)) {\n      return this.ssrLoader!.loadSharedModule(packageName);\n    } else {\n      return this.clientLoader!.loadSharedModule(packageName);\n    }\n  }\n\n  /**\n   * Check if module was server-rendered\n   */\n  wasServerRendered(remoteName: string, modulePath: string): boolean {\n    if (isPlatformBrowser(this.platformId)) {\n      return this.clientLoader?.wasServerRendered(remoteName, modulePath) || false;\n    }\n    return false;\n  }\n\n  /**\n   * Get SSR content for a remote module (server-side only)\n   */\n  async getSSRContent(remoteName: string, modulePath: string): Promise<string | null> {\n    if (isPlatformServer(this.platformId)) {\n      try {\n        const result = await this.ssrLoader!.loadRemoteModule(remoteName, modulePath);\n        return result.ssrContent || null;\n      } catch (error) {\n        console.warn(`[SSR] Failed to get SSR content for ${remoteName}${modulePath}:`, error);\n        return null;\n      }\n    }\n    return null;\n  }\n\n  private async initializeSSR(): Promise<void> {\n    // SSRModuleLoader is injected via DI\n    await this.ssrLoader.initialize();\n  }\n\n  private async initializeClient(): Promise<void> {\n    // HydrationClient is injected via DI\n    this.clientLoader = await AngularHydrationUtils.initializeForAngularSSR(this.hydrationClient, './federation.manifest.json');\n    \n    // Restore SSR state from TransferState\n    const ssrState = this.transferState.get(this.FEDERATION_STATE_KEY, null);\n    if (ssrState) {\n      // Process any SSR state if needed\n      console.log('[NF] Restored SSR state:', ssrState);\n    }\n  }\n\n  private async loadRemoteModuleSSR<T = any>(\n    remoteName: string, \n    modulePath: string\n  ): Promise<T> {\n    const result = await this.ssrLoader!.loadRemoteModule(remoteName, modulePath);\n    \n    // Store hydration data in TransferState for client\n    if (result.hydrationData) {\n      const currentState = this.transferState.get(this.FEDERATION_STATE_KEY, {});\n      currentState[`${remoteName}${modulePath}`] = result.hydrationData;\n      this.transferState.set(this.FEDERATION_STATE_KEY, currentState);\n    }\n    \n    return result.module;\n  }\n\n  private async loadRemoteModuleClient<T = any>(\n    remoteName: string, \n    modulePath: string\n  ): Promise<T> {\n    return this.clientLoader!.loadRemoteModule(remoteName, modulePath);\n  }\n}\n\n/**\n * Angular directive for loading federated components with SSR support\n */\nimport { Directive, Input, ViewContainerRef, OnInit, OnDestroy } from '@angular/core';\n\n@Directive({\n  selector: '[nfLoadComponent]',\n  standalone: true\n})\nexport class LoadFederatedComponentDirective implements OnInit, OnDestroy {\n  @Input() nfLoadComponent!: string; // Format: \"remoteName/modulePath\"\n  @Input() nfFallback?: string;\n\n  private federationService = inject(SSRFederationService);\n  private viewContainer = inject(ViewContainerRef);\n\n  async ngOnInit() {\n    if (!this.nfLoadComponent) {\n      return;\n    }\n\n    const [remoteName, ...modulePathParts] = this.nfLoadComponent.split('/');\n    const modulePath = './' + modulePathParts.join('/');\n\n    try {\n      // Check if component was server-rendered\n      if ((this.federationService as any).wasServerRendered?.(remoteName, modulePath)) {\n        console.log(`[NF] Component ${this.nfLoadComponent} was server-rendered, hydrating...`);\n      }\n\n      const module = await (this.federationService as any).loadRemoteModule(remoteName, modulePath);\n      \n      // Assume the module exports a component as default\n      const component = module.default || module;\n      \n      if (component) {\n        this.viewContainer.createComponent(component);\n      } else {\n        this.renderFallback();\n      }\n    } catch (error) {\n      console.error(`[NF] Failed to load component ${this.nfLoadComponent}:`, error);\n      this.renderFallback();\n    }\n  }\n\n  ngOnDestroy() {\n    this.viewContainer.clear();\n  }\n\n  private renderFallback() {\n    if (this.nfFallback) {\n      // Render fallback template\n      this.viewContainer.clear();\n      // You would implement fallback rendering logic here\n      console.log(`[NF] Rendering fallback for ${this.nfLoadComponent}: ${this.nfFallback}`);\n    }\n  }\n}\n\n/**\n * Angular helper functions for SSR setup\n */\nexport class AngularSSRHelpers {\n  /**\n   * Setup SSR module loader in Angular Universal\n   */\n  static setupSSRLoader(versionManager: any, manifestPath?: string): SSRModuleLoader {\n    const loader = new SSRModuleLoader(versionManager, {\n      manifestPath\n    });\n    return loader;\n  }\n\n  /**\n   * Generate hydration script for Angular Universal\n   */\n  static generateHydrationScript(ssrLoader: SSRModuleLoader): string {\n    const hydrationManifest = ssrLoader.generateHydrationManifest();\n    return SSRFederationUtils.injectHydrationScript('', hydrationManifest);\n  }\n\n  /**\n   * Create Angular Universal render function with federation support\n   */\n  static createUniversalRenderFunction(\n    originalRenderFn: Function,\n    manifestPath?: string\n  ) {\n    return async function renderWithFederation(options: any) {\n      // Initialize SSR loader\n      // TODO: versionManager should be provided via DI\n      const ssrLoader = AngularSSRHelpers.setupSSRLoader(null as any, manifestPath);\n      \n      // Add to options so components can access it\n      options.ssrLoader = ssrLoader;\n      \n      // Call original render function\n      const result = await originalRenderFn(options);\n      \n      // Inject hydration script\n      if (typeof result === 'string') {\n        const hydrationScript = AngularSSRHelpers.generateHydrationScript(ssrLoader);\n        return SSRFederationUtils.injectHydrationScript(result, \n          ssrLoader.generateHydrationManifest());\n      }\n      \n      return result;\n    };\n  }\n}\n\n/**\n * Provider for Angular app configuration\n */\nexport function createSSRFederationProviders(manifestPath?: string) {\n  return [\n    SSRFederationService,\n    {\n      provide: 'NF_MANIFEST_PATH',\n      useValue: manifestPath || './federation.manifest.json'\n    }\n  ];\n}\n\n/**\n * Angular Universal Federation Provider\n */\nexport const AngularUniversalFederationProvider = {\n  provide: SSRFederationService,\n  useClass: SSRFederationService\n};"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"@angular/common":{"attributes":{},"external":true,"id":"@angular/common","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"../runtime/ssr-module-loader":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/ssr-module-loader.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"../runtime/hydration-client":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/hydration-client.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2841,"body":[{"type":"ExportNamedDeclaration","start":0,"end":10,"specifiers":[],"source":null,"attributes":[],"declaration":null}],"_rollupRemoved":[{"end":2841,"start":11,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmVkZXJhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9saWIvdHlwZXMvZmVkZXJhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBGZWRlcmF0aW9uQ29uZmlnIHtcbiAgbmFtZT86IHN0cmluZztcbiAgZXhwb3Nlcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIHNoYXJlZD86IFNoYXJlZENvbmZpZztcbiAgc2tpcD86IHN0cmluZ1tdO1xuICByZW1vdGVzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaGFyZWRDb25maWcge1xuICBbcGFja2FnZU5hbWU6IHN0cmluZ106IFNoYXJlZFBhY2thZ2VDb25maWcgfCBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNoYXJlZFBhY2thZ2VDb25maWcge1xuICBzaW5nbGV0b24/OiBib29sZWFuO1xuICBzdHJpY3RWZXJzaW9uPzogYm9vbGVhbjtcbiAgcmVxdWlyZWRWZXJzaW9uPzogc3RyaW5nO1xuICBwYWNrYWdlTmFtZT86IHN0cmluZztcbiAgc2hhcmVLZXk/OiBzdHJpbmc7XG4gIHNoYXJlU2NvcGU/OiBzdHJpbmc7XG4gIGltcG9ydD86IHN0cmluZyB8IGZhbHNlO1xuICB2ZXJzaW9uPzogc3RyaW5nO1xuICBlYWdlcj86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hhcmVPcHRpb25zIHtcbiAgc2luZ2xldG9uPzogYm9vbGVhbjtcbiAgc3RyaWN0VmVyc2lvbj86IGJvb2xlYW47XG4gIHJlcXVpcmVkVmVyc2lvbj86IHN0cmluZztcbiAgZWFnZXI/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlbW90ZUVudHJ5IHtcbiAgbmFtZTogc3RyaW5nO1xuICB0eXBlOiAnZXNtJztcbiAgdXJsOiBzdHJpbmc7XG4gIG1ldGFkYXRhOiB7XG4gICAgZXhwb3NlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICBzaGFyZWQ6IFNoYXJlZENvbmZpZztcbiAgICB2ZXJzaW9uOiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmVkZXJhdGlvbk1hbmlmZXN0IHtcbiAgW3JlbW90ZU5hbWU6IHN0cmluZ106IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcmVwYXJlZFBhY2thZ2Uge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZlcnNpb246IHN0cmluZztcbiAgcGF0aDogc3RyaW5nO1xuICBlbnRyeVBvaW50OiBzdHJpbmc7XG4gIGlzRXNtOiBib29sZWFuO1xuICBkZXBlbmRlbmNpZXM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltcG9ydE1hcEVudHJ5IHtcbiAgaW1wb3J0czogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgc2NvcGVzPzogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nPj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kdWxlSW5mbyB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdmVyc2lvbjogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbiAgZGVwczogc3RyaW5nW107XG4gIGxvYWRlZDogYm9vbGVhbjtcbiAgc2luZ2xldG9uOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlcnNpb25TdHJhdGVneSB7XG4gIHR5cGU6ICdjb21wYXRpYmxlJyB8ICdleGFjdCcgfCAnZmFsbGJhY2snIHwgJ2Vycm9yJztcbiAgZmFsbGJhY2tWZXJzaW9uPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1aWxkTm90aWZpY2F0aW9uQ29uZmlnIHtcbiAgZW5kcG9pbnQ6IHN0cmluZztcbiAgZXZlbnRzOiAoJ2J1aWxkLWNvbXBsZXRlJyB8ICdidWlsZC1lcnJvcicgfCAnYnVpbGQtc3RhcnQnKVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5hdGl2ZUZlZGVyYXRpb25PcHRpb25zIGV4dGVuZHMgRmVkZXJhdGlvbkNvbmZpZyB7XG4gIHdvcmtzcGFjZVJvb3Q/OiBzdHJpbmc7XG4gIG91dHB1dFBhdGg/OiBzdHJpbmc7XG4gIGNhY2hlRGlyPzogc3RyaW5nO1xuICBkZXY/OiBib29sZWFuO1xuICB2ZXJib3NlPzogYm9vbGVhbjtcbiAgYnVpbGROb3RpZmljYXRpb25zPzogQnVpbGROb3RpZmljYXRpb25Db25maWc7XG59Il19","customTransformCache":false,"dependencies":[],"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/types/federation.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmVkZXJhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9saWIvdHlwZXMvZmVkZXJhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBGZWRlcmF0aW9uQ29uZmlnIHtcbiAgbmFtZT86IHN0cmluZztcbiAgZXhwb3Nlcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIHNoYXJlZD86IFNoYXJlZENvbmZpZztcbiAgc2tpcD86IHN0cmluZ1tdO1xuICByZW1vdGVzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaGFyZWRDb25maWcge1xuICBbcGFja2FnZU5hbWU6IHN0cmluZ106IFNoYXJlZFBhY2thZ2VDb25maWcgfCBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNoYXJlZFBhY2thZ2VDb25maWcge1xuICBzaW5nbGV0b24/OiBib29sZWFuO1xuICBzdHJpY3RWZXJzaW9uPzogYm9vbGVhbjtcbiAgcmVxdWlyZWRWZXJzaW9uPzogc3RyaW5nO1xuICBwYWNrYWdlTmFtZT86IHN0cmluZztcbiAgc2hhcmVLZXk/OiBzdHJpbmc7XG4gIHNoYXJlU2NvcGU/OiBzdHJpbmc7XG4gIGltcG9ydD86IHN0cmluZyB8IGZhbHNlO1xuICB2ZXJzaW9uPzogc3RyaW5nO1xuICBlYWdlcj86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hhcmVPcHRpb25zIHtcbiAgc2luZ2xldG9uPzogYm9vbGVhbjtcbiAgc3RyaWN0VmVyc2lvbj86IGJvb2xlYW47XG4gIHJlcXVpcmVkVmVyc2lvbj86IHN0cmluZztcbiAgZWFnZXI/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlbW90ZUVudHJ5IHtcbiAgbmFtZTogc3RyaW5nO1xuICB0eXBlOiAnZXNtJztcbiAgdXJsOiBzdHJpbmc7XG4gIG1ldGFkYXRhOiB7XG4gICAgZXhwb3NlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICBzaGFyZWQ6IFNoYXJlZENvbmZpZztcbiAgICB2ZXJzaW9uOiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmVkZXJhdGlvbk1hbmlmZXN0IHtcbiAgW3JlbW90ZU5hbWU6IHN0cmluZ106IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcmVwYXJlZFBhY2thZ2Uge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZlcnNpb246IHN0cmluZztcbiAgcGF0aDogc3RyaW5nO1xuICBlbnRyeVBvaW50OiBzdHJpbmc7XG4gIGlzRXNtOiBib29sZWFuO1xuICBkZXBlbmRlbmNpZXM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltcG9ydE1hcEVudHJ5IHtcbiAgaW1wb3J0czogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgc2NvcGVzPzogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nPj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kdWxlSW5mbyB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdmVyc2lvbjogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbiAgZGVwczogc3RyaW5nW107XG4gIGxvYWRlZDogYm9vbGVhbjtcbiAgc2luZ2xldG9uOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlcnNpb25TdHJhdGVneSB7XG4gIHR5cGU6ICdjb21wYXRpYmxlJyB8ICdleGFjdCcgfCAnZmFsbGJhY2snIHwgJ2Vycm9yJztcbiAgZmFsbGJhY2tWZXJzaW9uPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1aWxkTm90aWZpY2F0aW9uQ29uZmlnIHtcbiAgZW5kcG9pbnQ6IHN0cmluZztcbiAgZXZlbnRzOiAoJ2J1aWxkLWNvbXBsZXRlJyB8ICdidWlsZC1lcnJvcicgfCAnYnVpbGQtc3RhcnQnKVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5hdGl2ZUZlZGVyYXRpb25PcHRpb25zIGV4dGVuZHMgRmVkZXJhdGlvbkNvbmZpZyB7XG4gIHdvcmtzcGFjZVJvb3Q/OiBzdHJpbmc7XG4gIG91dHB1dFBhdGg/OiBzdHJpbmc7XG4gIGNhY2hlRGlyPzogc3RyaW5nO1xuICBkZXY/OiBib29sZWFuO1xuICB2ZXJib3NlPzogYm9vbGVhbjtcbiAgYnVpbGROb3RpZmljYXRpb25zPzogQnVpbGROb3RpZmljYXRpb25Db25maWc7XG59Il19","originalSourcemap":{"mappings":[],"names":[],"sources":[],"version":3},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2767,"body":[{"type":"ExportAllDeclaration","start":88,"end":137,"exported":null,"source":{"type":"Literal","start":102,"end":136,"value":"./lib/runtime/federation-runtime","raw":"'./lib/runtime/federation-runtime'"},"attributes":[]},{"type":"ExportAllDeclaration","start":138,"end":182,"exported":null,"source":{"type":"Literal","start":152,"end":181,"value":"./lib/runtime/module-loader","raw":"'./lib/runtime/module-loader'"},"attributes":[]},{"type":"ExportAllDeclaration","start":183,"end":231,"exported":null,"source":{"type":"Literal","start":197,"end":230,"value":"./lib/runtime/ssr-module-loader","raw":"'./lib/runtime/ssr-module-loader'"},"attributes":[]},{"type":"ExportAllDeclaration","start":232,"end":279,"exported":null,"source":{"type":"Literal","start":246,"end":278,"value":"./lib/runtime/hydration-client","raw":"'./lib/runtime/hydration-client'"},"attributes":[]},{"type":"ExportAllDeclaration","start":280,"end":326,"exported":null,"source":{"type":"Literal","start":294,"end":325,"value":"./lib/runtime/version-manager","raw":"'./lib/runtime/version-manager'"},"attributes":[]},{"type":"ExportAllDeclaration","start":350,"end":405,"exported":null,"source":{"type":"Literal","start":364,"end":404,"value":"./lib/angular/native-federation.module","raw":"'./lib/angular/native-federation.module'"},"attributes":[]},{"type":"ExportAllDeclaration","start":406,"end":462,"exported":null,"source":{"type":"Literal","start":420,"end":461,"value":"./lib/angular/native-federation.service","raw":"'./lib/angular/native-federation.service'"},"attributes":[]},{"type":"ExportAllDeclaration","start":463,"end":539,"exported":null,"source":{"type":"Literal","start":477,"end":538,"value":"./lib/angular/directives/load-federated-component.directive","raw":"'./lib/angular/directives/load-federated-component.directive'"},"attributes":[]},{"type":"ExportNamedDeclaration","start":540,"end":675,"specifiers":[{"type":"ExportSpecifier","start":549,"end":569,"local":{"type":"Identifier","start":549,"end":569,"name":"SSRFederationService"},"exported":{"type":"Identifier","start":549,"end":569,"name":"SSRFederationService"}},{"type":"ExportSpecifier","start":571,"end":605,"local":{"type":"Identifier","start":571,"end":605,"name":"AngularUniversalFederationProvider"},"exported":{"type":"Identifier","start":571,"end":605,"name":"AngularUniversalFederationProvider"}},{"type":"ExportSpecifier","start":607,"end":635,"local":{"type":"Identifier","start":607,"end":635,"name":"createSSRFederationProviders"},"exported":{"type":"Identifier","start":607,"end":635,"name":"createSSRFederationProviders"}}],"source":{"type":"Literal","start":643,"end":674,"value":"./lib/angular/ssr-integration","raw":"'./lib/angular/ssr-integration'"},"attributes":[],"declaration":null},{"type":"ExportAllDeclaration","start":685,"end":724,"exported":null,"source":{"type":"Literal","start":699,"end":723,"value":"./lib/types/federation","raw":"'./lib/types/federation'"},"attributes":[]}],"_rollupRemoved":[{"end":2767,"start":849,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"/*\n * Public API Surface of @native-federation/core\n */\n// Runtime (Browser-compatible)\nexport * from './lib/runtime/federation-runtime';\nexport * from './lib/runtime/module-loader';\nexport * from './lib/runtime/ssr-module-loader';\nexport * from './lib/runtime/hydration-client';\nexport * from './lib/runtime/version-manager';\n// Angular Integration\nexport * from './lib/angular/native-federation.module';\nexport * from './lib/angular/native-federation.service';\nexport * from './lib/angular/directives/load-federated-component.directive';\nexport { SSRFederationService, AngularUniversalFederationProvider, createSSRFederationProviders } from './lib/angular/ssr-integration';\n// Types\nexport * from './lib/types/federation';\n// Browser-compatible utilities only\n// Note: Build tools (NativeFederationPlugin) are Node.js-only and exported separately\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsK0JBQStCO0FBQy9CLGNBQWMsa0NBQWtDLENBQUM7QUFDakQsY0FBYyw2QkFBNkIsQ0FBQztBQUM1QyxjQUFjLGlDQUFpQyxDQUFDO0FBQ2hELGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYywrQkFBK0IsQ0FBQztBQUU5QyxzQkFBc0I7QUFDdEIsY0FBYyx3Q0FBd0MsQ0FBQztBQUN2RCxjQUFjLHlDQUF5QyxDQUFDO0FBQ3hELGNBQWMsNkRBQTZELENBQUM7QUFDNUUsT0FBTyxFQUNMLG9CQUFvQixFQUNwQixrQ0FBa0MsRUFDbEMsNEJBQTRCLEVBQzdCLE1BQU0sK0JBQStCLENBQUM7QUFFdkMsUUFBUTtBQUNSLGNBQWMsd0JBQXdCLENBQUM7QUFFdkMsb0NBQW9DO0FBQ3BDLHNGQUFzRiIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgQG5hdGl2ZS1mZWRlcmF0aW9uL2NvcmVcbiAqL1xuXG4vLyBSdW50aW1lIChCcm93c2VyLWNvbXBhdGlibGUpXG5leHBvcnQgKiBmcm9tICcuL2xpYi9ydW50aW1lL2ZlZGVyYXRpb24tcnVudGltZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9ydW50aW1lL21vZHVsZS1sb2FkZXInO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcnVudGltZS9zc3ItbW9kdWxlLWxvYWRlcic7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9ydW50aW1lL2h5ZHJhdGlvbi1jbGllbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcnVudGltZS92ZXJzaW9uLW1hbmFnZXInO1xuXG4vLyBBbmd1bGFyIEludGVncmF0aW9uXG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbmd1bGFyL25hdGl2ZS1mZWRlcmF0aW9uLm1vZHVsZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbmd1bGFyL25hdGl2ZS1mZWRlcmF0aW9uLnNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvYW5ndWxhci9kaXJlY3RpdmVzL2xvYWQtZmVkZXJhdGVkLWNvbXBvbmVudC5kaXJlY3RpdmUnO1xuZXhwb3J0IHsgXG4gIFNTUkZlZGVyYXRpb25TZXJ2aWNlLFxuICBBbmd1bGFyVW5pdmVyc2FsRmVkZXJhdGlvblByb3ZpZGVyLFxuICBjcmVhdGVTU1JGZWRlcmF0aW9uUHJvdmlkZXJzXG59IGZyb20gJy4vbGliL2FuZ3VsYXIvc3NyLWludGVncmF0aW9uJztcblxuLy8gVHlwZXNcbmV4cG9ydCAqIGZyb20gJy4vbGliL3R5cGVzL2ZlZGVyYXRpb24nO1xuXG4vLyBCcm93c2VyLWNvbXBhdGlibGUgdXRpbGl0aWVzIG9ubHlcbi8vIE5vdGU6IEJ1aWxkIHRvb2xzIChOYXRpdmVGZWRlcmF0aW9uUGx1Z2luKSBhcmUgTm9kZS5qcy1vbmx5IGFuZCBleHBvcnRlZCBzZXBhcmF0ZWx5Il19","customTransformCache":false,"dependencies":["/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/federation-runtime.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/module-loader.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/ssr-module-loader.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/hydration-client.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/version-manager.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/native-federation.module.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/native-federation.service.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/directives/load-federated-component.directive.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/ssr-integration.mjs","/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/types/federation.mjs"],"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/public-api.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/*\n * Public API Surface of @native-federation/core\n */\n// Runtime (Browser-compatible)\nexport * from './lib/runtime/federation-runtime';\nexport * from './lib/runtime/module-loader';\nexport * from './lib/runtime/ssr-module-loader';\nexport * from './lib/runtime/hydration-client';\nexport * from './lib/runtime/version-manager';\n// Angular Integration\nexport * from './lib/angular/native-federation.module';\nexport * from './lib/angular/native-federation.service';\nexport * from './lib/angular/directives/load-federated-component.directive';\nexport { SSRFederationService, AngularUniversalFederationProvider, createSSRFederationProviders } from './lib/angular/ssr-integration';\n// Types\nexport * from './lib/types/federation';\n// Browser-compatible utilities only\n// Note: Build tools (NativeFederationPlugin) are Node.js-only and exported separately\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsK0JBQStCO0FBQy9CLGNBQWMsa0NBQWtDLENBQUM7QUFDakQsY0FBYyw2QkFBNkIsQ0FBQztBQUM1QyxjQUFjLGlDQUFpQyxDQUFDO0FBQ2hELGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYywrQkFBK0IsQ0FBQztBQUU5QyxzQkFBc0I7QUFDdEIsY0FBYyx3Q0FBd0MsQ0FBQztBQUN2RCxjQUFjLHlDQUF5QyxDQUFDO0FBQ3hELGNBQWMsNkRBQTZELENBQUM7QUFDNUUsT0FBTyxFQUNMLG9CQUFvQixFQUNwQixrQ0FBa0MsRUFDbEMsNEJBQTRCLEVBQzdCLE1BQU0sK0JBQStCLENBQUM7QUFFdkMsUUFBUTtBQUNSLGNBQWMsd0JBQXdCLENBQUM7QUFFdkMsb0NBQW9DO0FBQ3BDLHNGQUFzRiIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgQG5hdGl2ZS1mZWRlcmF0aW9uL2NvcmVcbiAqL1xuXG4vLyBSdW50aW1lIChCcm93c2VyLWNvbXBhdGlibGUpXG5leHBvcnQgKiBmcm9tICcuL2xpYi9ydW50aW1lL2ZlZGVyYXRpb24tcnVudGltZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9ydW50aW1lL21vZHVsZS1sb2FkZXInO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcnVudGltZS9zc3ItbW9kdWxlLWxvYWRlcic7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9ydW50aW1lL2h5ZHJhdGlvbi1jbGllbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcnVudGltZS92ZXJzaW9uLW1hbmFnZXInO1xuXG4vLyBBbmd1bGFyIEludGVncmF0aW9uXG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbmd1bGFyL25hdGl2ZS1mZWRlcmF0aW9uLm1vZHVsZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbmd1bGFyL25hdGl2ZS1mZWRlcmF0aW9uLnNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvYW5ndWxhci9kaXJlY3RpdmVzL2xvYWQtZmVkZXJhdGVkLWNvbXBvbmVudC5kaXJlY3RpdmUnO1xuZXhwb3J0IHsgXG4gIFNTUkZlZGVyYXRpb25TZXJ2aWNlLFxuICBBbmd1bGFyVW5pdmVyc2FsRmVkZXJhdGlvblByb3ZpZGVyLFxuICBjcmVhdGVTU1JGZWRlcmF0aW9uUHJvdmlkZXJzXG59IGZyb20gJy4vbGliL2FuZ3VsYXIvc3NyLWludGVncmF0aW9uJztcblxuLy8gVHlwZXNcbmV4cG9ydCAqIGZyb20gJy4vbGliL3R5cGVzL2ZlZGVyYXRpb24nO1xuXG4vLyBCcm93c2VyLWNvbXBhdGlibGUgdXRpbGl0aWVzIG9ubHlcbi8vIE5vdGU6IEJ1aWxkIHRvb2xzIChOYXRpdmVGZWRlcmF0aW9uUGx1Z2luKSBhcmUgTm9kZS5qcy1vbmx5IGFuZCBleHBvcnRlZCBzZXBhcmF0ZWx5Il19","originalSourcemap":{"version":3,"file":"public-api.js","sourceRoot":"","sources":["../../../projects/native-federation/src/public-api.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[31,0,4,31]],[[0,0,5,0],[14,0,5,14],[48,0,5,48],[49,0,5,49]],[[0,0,6,0],[14,0,6,14],[43,0,6,43],[44,0,6,44]],[[0,0,7,0],[14,0,7,14],[47,0,7,47],[48,0,7,48]],[[0,0,8,0],[14,0,8,14],[46,0,8,46],[47,0,8,47]],[[0,0,9,0],[14,0,9,14],[45,0,9,45],[46,0,9,46]],[[0,0,11,0],[22,0,11,22]],[[0,0,12,0],[14,0,12,14],[54,0,12,54],[55,0,12,55]],[[0,0,13,0],[14,0,13,14],[55,0,13,55],[56,0,13,56]],[[0,0,14,0],[14,0,14,14],[75,0,14,75],[76,0,14,76]],[[0,0,15,0],[7,0,15,7],[9,0,16,2],[29,0,16,22],[31,0,17,2],[65,0,17,36],[67,0,18,2],[95,0,18,30],[97,0,19,1],[103,0,19,7],[134,0,19,38],[135,0,19,39]],[[0,0,21,0],[8,0,21,8]],[[0,0,22,0],[14,0,22,14],[38,0,22,38],[39,0,22,39]],[[0,0,24,0],[36,0,24,36]],[[0,0,25,0],[86,0,25,86]]],"sourcesContent":["/*\n * Public API Surface of @native-federation/core\n */\n\n// Runtime (Browser-compatible)\nexport * from './lib/runtime/federation-runtime';\nexport * from './lib/runtime/module-loader';\nexport * from './lib/runtime/ssr-module-loader';\nexport * from './lib/runtime/hydration-client';\nexport * from './lib/runtime/version-manager';\n\n// Angular Integration\nexport * from './lib/angular/native-federation.module';\nexport * from './lib/angular/native-federation.service';\nexport * from './lib/angular/directives/load-federated-component.directive';\nexport { \n  SSRFederationService,\n  AngularUniversalFederationProvider,\n  createSSRFederationProviders\n} from './lib/angular/ssr-integration';\n\n// Types\nexport * from './lib/types/federation';\n\n// Browser-compatible utilities only\n// Note: Build tools (NativeFederationPlugin) are Node.js-only and exported separately"]},"resolvedIds":{"./lib/runtime/module-loader":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/module-loader.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/runtime/federation-runtime":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/federation-runtime.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/runtime/ssr-module-loader":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/ssr-module-loader.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/runtime/hydration-client":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/hydration-client.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/runtime/version-manager":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/runtime/version-manager.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/angular/native-federation.module":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/native-federation.module.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/angular/native-federation.service":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/native-federation.service.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/angular/ssr-integration":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/ssr-integration.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/angular/directives/load-federated-component.directive":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/angular/directives/load-federated-component.directive.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/types/federation":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/lib/types/federation.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":536,"body":[{"type":"ExportAllDeclaration","start":48,"end":77,"exported":null,"source":{"type":"Literal","start":62,"end":76,"value":"./public-api","raw":"'./public-api'"},"attributes":[]}],"_rollupRemoved":[{"end":536,"start":78,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF0aXZlLWZlZGVyYXRpb24tY29yZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9uYXRpdmUtZmVkZXJhdGlvbi1jb3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyxjQUFjLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCAqIGZyb20gJy4vcHVibGljLWFwaSc7XG4iXX0=","customTransformCache":false,"dependencies":["/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/public-api.mjs"],"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/native-federation-core.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF0aXZlLWZlZGVyYXRpb24tY29yZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25hdGl2ZS1mZWRlcmF0aW9uL3NyYy9uYXRpdmUtZmVkZXJhdGlvbi1jb3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyxjQUFjLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCAqIGZyb20gJy4vcHVibGljLWFwaSc7XG4iXX0=","originalSourcemap":{"version":3,"file":"native-federation-core.js","sourceRoot":"","sources":["../../../projects/native-federation/src/native-federation-core.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[28,0,4,28],[29,0,4,29]]],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"resolvedIds":{"./public-api":{"attributes":{},"external":false,"id":"/Users/sahassakhare/my projects/native federation/dist/native-federation/esm2022/public-api.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]}],"plugins":{"node-resolve":{},"json":{},"file-loader":{}}}